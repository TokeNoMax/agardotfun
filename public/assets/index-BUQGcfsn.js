const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-OX-JNInY.js","assets/v4-CQkTLCs1.js","assets/index-BdbgwZZg.js"])))=>i.map(i=>d[i]);
var nR=Object.defineProperty;var q1=t=>{throw TypeError(t)};var rR=(t,e,n)=>e in t?nR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ke=(t,e,n)=>rR(t,typeof e!="symbol"?e+"":e,n),eg=(t,e,n)=>e.has(t)||q1("Cannot "+n);var ie=(t,e,n)=>(eg(t,e,"read from private field"),n?n.call(t):e.get(t)),bt=(t,e,n)=>e.has(t)?q1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),et=(t,e,n,r)=>(eg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),On=(t,e,n)=>(eg(t,e,"access private method"),n);var Dd=(t,e,n,r)=>({set _(s){et(t,e,s,n)},get _(){return ie(t,e,r)}});function sR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var L_={exports:{}},Sp={},P_={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=Symbol.for("react.element"),oR=Symbol.for("react.portal"),iR=Symbol.for("react.fragment"),aR=Symbol.for("react.strict_mode"),lR=Symbol.for("react.profiler"),cR=Symbol.for("react.provider"),uR=Symbol.for("react.context"),dR=Symbol.for("react.forward_ref"),fR=Symbol.for("react.suspense"),hR=Symbol.for("react.memo"),pR=Symbol.for("react.lazy"),G1=Symbol.iterator;function mR(t){return t===null||typeof t!="object"?null:(t=G1&&t[G1]||t["@@iterator"],typeof t=="function"?t:null)}var D_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,z_={};function vc(t,e,n){this.props=t,this.context=e,this.refs=z_,this.updater=n||D_}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $_(){}$_.prototype=vc.prototype;function vw(t,e,n){this.props=t,this.context=e,this.refs=z_,this.updater=n||D_}var ww=vw.prototype=new $_;ww.constructor=vw;B_(ww,vc.prototype);ww.isPureReactComponent=!0;var K1=Array.isArray,U_=Object.prototype.hasOwnProperty,bw={current:null},F_={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)U_.call(e,r)&&!F_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ld,type:t,key:o,ref:i,props:s,_owner:bw.current}}function gR(t,e){return{$$typeof:ld,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xw(t){return typeof t=="object"&&t!==null&&t.$$typeof===ld}function yR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y1=/\/+/g;function tg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yR(""+t.key):e.toString(36)}function kf(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ld:case oR:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+tg(i,0):r,K1(s)?(n="",t!=null&&(n=t.replace(Y1,"$&/")+"/"),kf(s,e,n,"",function(c){return c})):s!=null&&(xw(s)&&(s=gR(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Y1,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",K1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+tg(o,a);i+=kf(o,e,n,l,s)}else if(l=mR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+tg(o,a++),i+=kf(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Bd(t,e,n){if(t==null)return t;var r=[],s=0;return kf(t,r,"","",function(o){return e.call(n,o,s++)}),r}function vR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Mf={transition:null},wR={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Mf,ReactCurrentOwner:bw};function V_(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Bd,forEach:function(t,e,n){Bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bd(t,function(){e++}),e},toArray:function(t){return Bd(t,function(e){return e})||[]},only:function(t){if(!xw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=vc;it.Fragment=iR;it.Profiler=lR;it.PureComponent=vw;it.StrictMode=aR;it.Suspense=fR;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wR;it.act=V_;it.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=bw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)U_.call(e,l)&&!F_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ld,type:t.type,key:s,ref:o,props:r,_owner:i}};it.createContext=function(t){return t={$$typeof:uR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cR,_context:t},t.Consumer=t};it.createElement=W_;it.createFactory=function(t){var e=W_.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:dR,render:t}};it.isValidElement=xw;it.lazy=function(t){return{$$typeof:pR,_payload:{_status:-1,_result:t},_init:vR}};it.memo=function(t,e){return{$$typeof:hR,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=Mf.transition;Mf.transition={};try{t()}finally{Mf.transition=e}};it.unstable_act=V_;it.useCallback=function(t,e){return or.current.useCallback(t,e)};it.useContext=function(t){return or.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return or.current.useDeferredValue(t)};it.useEffect=function(t,e){return or.current.useEffect(t,e)};it.useId=function(){return or.current.useId()};it.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};it.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return or.current.useMemo(t,e)};it.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};it.useRef=function(t){return or.current.useRef(t)};it.useState=function(t){return or.current.useState(t)};it.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};it.useTransition=function(){return or.current.useTransition()};it.version="18.3.1";P_.exports=it;var g=P_.exports;const H=No(g),Sw=sR({__proto__:null,default:H},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR=g,xR=Symbol.for("react.element"),SR=Symbol.for("react.fragment"),ER=Object.prototype.hasOwnProperty,_R=bR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NR={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)ER.call(e,r)&&!NR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:xR,type:t,key:o,ref:i,props:s,_owner:_R.current}}Sp.Fragment=SR;Sp.jsx=H_;Sp.jsxs=H_;L_.exports=Sp;var u=L_.exports,q_={exports:{}},Lr={},G_={exports:{}},K_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,j){var P=M.length;M.push(j);e:for(;0<P;){var I=P-1>>>1,w=M[I];if(0<s(w,j))M[I]=j,M[P]=w,P=I;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var j=M[0],P=M.pop();if(P!==j){M[0]=P;e:for(var I=0,w=M.length,O=w>>>1;I<O;){var G=2*(I+1)-1,X=M[G],ee=G+1,oe=M[ee];if(0>s(X,P))ee<w&&0>s(oe,X)?(M[I]=oe,M[ee]=P,I=ee):(M[I]=X,M[G]=P,I=G);else if(ee<w&&0>s(oe,P))M[I]=oe,M[ee]=P,I=ee;else break e}}return j}function s(M,j){var P=M.sortIndex-j.sortIndex;return P!==0?P:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=M)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function A(M){if(m=!1,E(M),!v)if(n(l)!==null)v=!0,T(k);else{var j=n(c);j!==null&&R(A,j.startTime-M)}}function k(M,j){v=!1,m&&(m=!1,S(U),U=-1),p=!0;var P=h;try{for(E(j),f=n(l);f!==null&&(!(f.expirationTime>j)||M&&!q());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var w=I(f.expirationTime<=j);j=t.unstable_now(),typeof w=="function"?f.callback=w:f===n(l)&&r(l),E(j)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var G=n(c);G!==null&&R(A,G.startTime-j),O=!1}return O}finally{f=null,h=P,p=!1}}var B=!1,z=null,U=-1,K=5,V=-1;function q(){return!(t.unstable_now()-V<K)}function J(){if(z!==null){var M=t.unstable_now();V=M;var j=!0;try{j=z(!0,M)}finally{j?D():(B=!1,z=null)}}else B=!1}var D;if(typeof x=="function")D=function(){x(J)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,_=y.port2;y.port1.onmessage=J,D=function(){_.postMessage(null)}}else D=function(){b(J,0)};function T(M){z=M,B||(B=!0,D())}function R(M,j){U=b(function(){M(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,T(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var P=h;h=j;try{return M()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=h;h=M;try{return j()}finally{h=P}},t.unstable_scheduleCallback=function(M,j,P){var I=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?I+P:I):P=I,M){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=P+w,M={id:d++,callback:j,priorityLevel:M,startTime:P,expirationTime:w,sortIndex:-1},P>I?(M.sortIndex=P,e(c,M),n(l)===null&&M===n(c)&&(m?(S(U),U=-1):m=!0,R(A,P-I))):(M.sortIndex=w,e(l,M),v||p||(v=!0,T(k))),M},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(M){var j=h;return function(){var P=h;h=j;try{return M.apply(this,arguments)}finally{h=P}}}})(K_);G_.exports=K_;var AR=G_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR=g,Rr=AR;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y_=new Set,Tu={};function Ia(t,e){Jl(t,e),Jl(t+"Capture",e)}function Jl(t,e){for(Tu[t]=e,t=0;t<e.length;t++)Y_.add(e[t])}var mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,kR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q1={},J1={};function MR(t){return U0.call(J1,t)?!0:U0.call(Q1,t)?!1:kR.test(t)?J1[t]=!0:(Q1[t]=!0,!1)}function TR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IR(t,e,n,r){if(e===null||typeof e>"u"||TR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ew=/[\-:]([a-z])/g;function _w(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ew,_w);Rn[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ew,_w);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ew,_w);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nw(t,e,n,r){var s=Rn.hasOwnProperty(e)?Rn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IR(e,n,s,r)&&(n=null),r||s===null?MR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ao=CR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zd=Symbol.for("react.element"),ul=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),Cw=Symbol.for("react.forward_ref"),W0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),Z_=Symbol.for("react.offscreen"),Z1=Symbol.iterator;function Pc(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,ng;function Zc(t){if(ng===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ng=e&&e[1]||""}return`
`+ng+t}var rg=!1;function sg(t,e){if(!t||rg)return"";rg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{rg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zc(t):""}function jR(t){switch(t.tag){case 5:return Zc(t.type);case 16:return Zc("Lazy");case 13:return Zc("Suspense");case 19:return Zc("SuspenseList");case 0:case 2:case 15:return t=sg(t.type,!1),t;case 11:return t=sg(t.type.render,!1),t;case 1:return t=sg(t.type,!0),t;default:return""}}function H0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dl:return"Fragment";case ul:return"Portal";case F0:return"Profiler";case Aw:return"StrictMode";case W0:return"Suspense";case V0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J_:return(t.displayName||"Context")+".Consumer";case Q_:return(t._context.displayName||"Context")+".Provider";case Cw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kw:return e=t.displayName||null,e!==null?e:H0(t.type)||"Memo";case Wo:e=t._payload,t=t._init;try{return H0(t(e))}catch{}}return null}function RR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H0(e);case 8:return e===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OR(t){var e=X_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $d(t){t._valueTracker||(t._valueTracker=OR(t))}function e2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function q0(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t2(t,e){e=e.checked,e!=null&&Nw(t,"checked",e,!1)}function G0(t,e){t2(t,e);var n=_i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?K0(t,e.type,n):e.hasOwnProperty("defaultValue")&&K0(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function K0(t,e,n){(e!=="number"||yh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xc=Array.isArray;function Nl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_i(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Y0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Xc(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_i(n)}}function n2(t,e){var n=_i(e.value),r=_i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function r2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?r2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ud,s2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ud=Ud||document.createElement("div"),Ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LR=["Webkit","ms","Moz","O"];Object.keys(fu).forEach(function(t){LR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fu[e]=fu[t]})});function o2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fu.hasOwnProperty(t)&&fu[t]?(""+e).trim():e+"px"}function i2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=o2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var PR=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J0(t,e){if(e){if(PR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Z0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=null;function Mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ey=null,Al=null,Cl=null;function rx(t){if(t=dd(t)){if(typeof ey!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Cp(e),ey(t.stateNode,t.type,e))}}function a2(t){Al?Cl?Cl.push(t):Cl=[t]:Al=t}function l2(){if(Al){var t=Al,e=Cl;if(Cl=Al=null,rx(t),e)for(t=0;t<e.length;t++)rx(e[t])}}function c2(t,e){return t(e)}function u2(){}var og=!1;function d2(t,e,n){if(og)return t(e,n);og=!0;try{return c2(t,e,n)}finally{og=!1,(Al!==null||Cl!==null)&&(u2(),l2())}}function ju(t,e){var n=t.stateNode;if(n===null)return null;var r=Cp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var ty=!1;if(mo)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){ty=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{ty=!1}function DR(t,e,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var hu=!1,vh=null,wh=!1,ny=null,BR={onError:function(t){hu=!0,vh=t}};function zR(t,e,n,r,s,o,i,a,l){hu=!1,vh=null,DR.apply(BR,arguments)}function $R(t,e,n,r,s,o,i,a,l){if(zR.apply(this,arguments),hu){if(hu){var c=vh;hu=!1,vh=null}else throw Error(fe(198));wh||(wh=!0,ny=c)}}function ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sx(t){if(ja(t)!==t)throw Error(fe(188))}function UR(t){var e=t.alternate;if(!e){if(e=ja(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return sx(s),t;if(o===r)return sx(s),e;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function h2(t){return t=UR(t),t!==null?p2(t):null}function p2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p2(t);if(e!==null)return e;t=t.sibling}return null}var m2=Rr.unstable_scheduleCallback,ox=Rr.unstable_cancelCallback,FR=Rr.unstable_shouldYield,WR=Rr.unstable_requestPaint,on=Rr.unstable_now,VR=Rr.unstable_getCurrentPriorityLevel,Tw=Rr.unstable_ImmediatePriority,g2=Rr.unstable_UserBlockingPriority,bh=Rr.unstable_NormalPriority,HR=Rr.unstable_LowPriority,y2=Rr.unstable_IdlePriority,Ep=null,Ls=null;function qR(t){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(Ep,t,void 0,(t.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:YR,GR=Math.log,KR=Math.LN2;function YR(t){return t>>>=0,t===0?32:31-(GR(t)/KR|0)|0}var Fd=64,Wd=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=eu(a):(o&=i,o!==0&&(r=eu(o)))}else i=n&~s,i!==0?r=eu(i):o!==0&&(r=eu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ms(e),s=1<<n,r|=t[n],e&=~s;return r}function QR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-ms(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=QR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v2(){var t=Fd;return Fd<<=1,!(Fd&4194240)&&(Fd=64),t}function ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ms(e),t[e]=n}function ZR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ms(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Iw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ms(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Et=0;function w2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b2,jw,x2,S2,E2,sy=!1,Vd=[],ci=null,ui=null,di=null,Ru=new Map,Ou=new Map,Ko=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ix(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function Bc(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=dd(e),e!==null&&jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function e4(t,e,n,r,s){switch(e){case"focusin":return ci=Bc(ci,t,e,n,r,s),!0;case"dragenter":return ui=Bc(ui,t,e,n,r,s),!0;case"mouseover":return di=Bc(di,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ru.set(o,Bc(Ru.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ou.set(o,Bc(Ou.get(o)||null,t,e,n,r,s)),!0}return!1}function _2(t){var e=Ji(t.target);if(e!==null){var n=ja(e);if(n!==null){if(e=n.tag,e===13){if(e=f2(n),e!==null){t.blockedOn=e,E2(t.priority,function(){x2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);X0=r,n.target.dispatchEvent(r),X0=null}else return e=dd(n),e!==null&&jw(e),t.blockedOn=n,!1;e.shift()}return!0}function ax(t,e,n){Tf(t)&&n.delete(e)}function t4(){sy=!1,ci!==null&&Tf(ci)&&(ci=null),ui!==null&&Tf(ui)&&(ui=null),di!==null&&Tf(di)&&(di=null),Ru.forEach(ax),Ou.forEach(ax)}function zc(t,e){t.blockedOn===e&&(t.blockedOn=null,sy||(sy=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,t4)))}function Lu(t){function e(s){return zc(s,t)}if(0<Vd.length){zc(Vd[0],t);for(var n=1;n<Vd.length;n++){var r=Vd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&zc(ci,t),ui!==null&&zc(ui,t),di!==null&&zc(di,t),Ru.forEach(e),Ou.forEach(e),n=0;n<Ko.length;n++)r=Ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ko.length&&(n=Ko[0],n.blockedOn===null);)_2(n),n.blockedOn===null&&Ko.shift()}var kl=Ao.ReactCurrentBatchConfig,Sh=!0;function n4(t,e,n,r){var s=Et,o=kl.transition;kl.transition=null;try{Et=1,Rw(t,e,n,r)}finally{Et=s,kl.transition=o}}function r4(t,e,n,r){var s=Et,o=kl.transition;kl.transition=null;try{Et=4,Rw(t,e,n,r)}finally{Et=s,kl.transition=o}}function Rw(t,e,n,r){if(Sh){var s=oy(t,e,n,r);if(s===null)gg(t,e,r,Eh,n),ix(t,r);else if(e4(s,t,e,n,r))r.stopPropagation();else if(ix(t,r),e&4&&-1<XR.indexOf(t)){for(;s!==null;){var o=dd(s);if(o!==null&&b2(o),o=oy(t,e,n,r),o===null&&gg(t,e,r,Eh,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else gg(t,e,r,null,n)}}var Eh=null;function oy(t,e,n,r){if(Eh=null,t=Mw(r),t=Ji(t),t!==null)if(e=ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eh=t,null}function N2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VR()){case Tw:return 1;case g2:return 4;case bh:case HR:return 16;case y2:return 536870912;default:return 16}default:return 16}}var ri=null,Ow=null,If=null;function A2(){if(If)return If;var t,e=Ow,n=e.length,r,s="value"in ri?ri.value:ri.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return If=s.slice(t,1<r?1-r:void 0)}function jf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hd(){return!0}function lx(){return!1}function Pr(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hd:lx,this.isPropagationStopped=lx,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hd)},persist:function(){},isPersistent:Hd}),e}var wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=Pr(wc),ud=Yt({},wc,{view:0,detail:0}),s4=Pr(ud),ag,lg,$c,_p=Yt({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$c&&($c&&t.type==="mousemove"?(ag=t.screenX-$c.screenX,lg=t.screenY-$c.screenY):lg=ag=0,$c=t),ag)},movementY:function(t){return"movementY"in t?t.movementY:lg}}),cx=Pr(_p),o4=Yt({},_p,{dataTransfer:0}),i4=Pr(o4),a4=Yt({},ud,{relatedTarget:0}),cg=Pr(a4),l4=Yt({},wc,{animationName:0,elapsedTime:0,pseudoElement:0}),c4=Pr(l4),u4=Yt({},wc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d4=Pr(u4),f4=Yt({},wc,{data:0}),ux=Pr(f4),h4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m4[t])?!!e[t]:!1}function Pw(){return g4}var y4=Yt({},ud,{key:function(t){if(t.key){var e=h4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pw,charCode:function(t){return t.type==="keypress"?jf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v4=Pr(y4),w4=Yt({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dx=Pr(w4),b4=Yt({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pw}),x4=Pr(b4),S4=Yt({},wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),E4=Pr(S4),_4=Yt({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N4=Pr(_4),A4=[9,13,27,32],Dw=mo&&"CompositionEvent"in window,pu=null;mo&&"documentMode"in document&&(pu=document.documentMode);var C4=mo&&"TextEvent"in window&&!pu,C2=mo&&(!Dw||pu&&8<pu&&11>=pu),fx=" ",hx=!1;function k2(t,e){switch(t){case"keyup":return A4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fl=!1;function k4(t,e){switch(t){case"compositionend":return M2(e);case"keypress":return e.which!==32?null:(hx=!0,fx);case"textInput":return t=e.data,t===fx&&hx?null:t;default:return null}}function M4(t,e){if(fl)return t==="compositionend"||!Dw&&k2(t,e)?(t=A2(),If=Ow=ri=null,fl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C2&&e.locale!=="ko"?null:e.data;default:return null}}var T4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T4[t.type]:e==="textarea"}function T2(t,e,n,r){a2(r),e=_h(e,"onChange"),0<e.length&&(n=new Lw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mu=null,Pu=null;function I4(t){U2(t,0)}function Np(t){var e=ml(t);if(e2(e))return t}function j4(t,e){if(t==="change")return e}var I2=!1;if(mo){var ug;if(mo){var dg="oninput"in document;if(!dg){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),dg=typeof mx.oninput=="function"}ug=dg}else ug=!1;I2=ug&&(!document.documentMode||9<document.documentMode)}function gx(){mu&&(mu.detachEvent("onpropertychange",j2),Pu=mu=null)}function j2(t){if(t.propertyName==="value"&&Np(Pu)){var e=[];T2(e,Pu,t,Mw(t)),d2(I4,e)}}function R4(t,e,n){t==="focusin"?(gx(),mu=e,Pu=n,mu.attachEvent("onpropertychange",j2)):t==="focusout"&&gx()}function O4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Np(Pu)}function L4(t,e){if(t==="click")return Np(e)}function P4(t,e){if(t==="input"||t==="change")return Np(e)}function D4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vs=typeof Object.is=="function"?Object.is:D4;function Du(t,e){if(vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!U0.call(e,s)||!vs(t[s],e[s]))return!1}return!0}function yx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vx(t,e){var n=yx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yx(n)}}function R2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O2(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yh(t.document)}return e}function Bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B4(t){var e=O2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R2(n.ownerDocument.documentElement,n)){if(r!==null&&Bw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=vx(n,o);var i=vx(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z4=mo&&"documentMode"in document&&11>=document.documentMode,hl=null,iy=null,gu=null,ay=!1;function wx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ay||hl==null||hl!==yh(r)||(r=hl,"selectionStart"in r&&Bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gu&&Du(gu,r)||(gu=r,r=_h(iy,"onSelect"),0<r.length&&(e=new Lw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hl)))}function qd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pl={animationend:qd("Animation","AnimationEnd"),animationiteration:qd("Animation","AnimationIteration"),animationstart:qd("Animation","AnimationStart"),transitionend:qd("Transition","TransitionEnd")},fg={},L2={};mo&&(L2=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Ap(t){if(fg[t])return fg[t];if(!pl[t])return t;var e=pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L2)return fg[t]=e[n];return t}var P2=Ap("animationend"),D2=Ap("animationiteration"),B2=Ap("animationstart"),z2=Ap("transitionend"),$2=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(t,e){$2.set(t,e),Ia(e,[t])}for(var hg=0;hg<bx.length;hg++){var pg=bx[hg],$4=pg.toLowerCase(),U4=pg[0].toUpperCase()+pg.slice(1);ji($4,"on"+U4)}ji(P2,"onAnimationEnd");ji(D2,"onAnimationIteration");ji(B2,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(z2,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F4=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function xx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$R(r,e,void 0,t),t.currentTarget=null}function U2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;xx(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;xx(s,a,c),o=l}}}if(wh)throw t=ny,wh=!1,ny=null,t}function Lt(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var r=t+"__bubble";n.has(r)||(F2(e,t,2,!1),n.add(r))}function mg(t,e,n){var r=0;e&&(r|=4),F2(n,t,r,e)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[Gd]){t[Gd]=!0,Y_.forEach(function(n){n!=="selectionchange"&&(F4.has(n)||mg(n,!1,t),mg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gd]||(e[Gd]=!0,mg("selectionchange",!1,e))}}function F2(t,e,n,r){switch(N2(e)){case 1:var s=n4;break;case 4:s=r4;break;default:s=Rw}n=s.bind(null,e,n,t),s=void 0,!ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gg(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Ji(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}d2(function(){var c=o,d=Mw(n),f=[];e:{var h=$2.get(t);if(h!==void 0){var p=Lw,v=t;switch(t){case"keypress":if(jf(n)===0)break e;case"keydown":case"keyup":p=v4;break;case"focusin":v="focus",p=cg;break;case"focusout":v="blur",p=cg;break;case"beforeblur":case"afterblur":p=cg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=i4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=x4;break;case P2:case D2:case B2:p=c4;break;case z2:p=E4;break;case"scroll":p=s4;break;case"wheel":p=N4;break;case"copy":case"cut":case"paste":p=d4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dx}var m=(e&4)!==0,b=!m&&t==="scroll",S=m?h!==null?h+"Capture":null:h;m=[];for(var x=c,E;x!==null;){E=x;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,S!==null&&(A=ju(x,S),A!=null&&m.push(zu(x,A,E)))),b)break;x=x.return}0<m.length&&(h=new p(h,v,null,n,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==X0&&(v=n.relatedTarget||n.fromElement)&&(Ji(v)||v[go]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Ji(v):null,v!==null&&(b=ja(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=cx,A="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=dx,A="onPointerLeave",S="onPointerEnter",x="pointer"),b=p==null?h:ml(p),E=v==null?h:ml(v),h=new m(A,x+"leave",p,n,d),h.target=b,h.relatedTarget=E,A=null,Ji(d)===c&&(m=new m(S,x+"enter",v,n,d),m.target=E,m.relatedTarget=b,A=m),b=A,p&&v)t:{for(m=p,S=v,x=0,E=m;E;E=$a(E))x++;for(E=0,A=S;A;A=$a(A))E++;for(;0<x-E;)m=$a(m),x--;for(;0<E-x;)S=$a(S),E--;for(;x--;){if(m===S||S!==null&&m===S.alternate)break t;m=$a(m),S=$a(S)}m=null}else m=null;p!==null&&Sx(f,h,p,m,!1),v!==null&&b!==null&&Sx(f,b,v,m,!0)}}e:{if(h=c?ml(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=j4;else if(px(h))if(I2)k=P4;else{k=O4;var B=R4}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=L4);if(k&&(k=k(t,c))){T2(f,k,n,d);break e}B&&B(t,h,c),t==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&K0(h,"number",h.value)}switch(B=c?ml(c):window,t){case"focusin":(px(B)||B.contentEditable==="true")&&(hl=B,iy=c,gu=null);break;case"focusout":gu=iy=hl=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,wx(f,n,d);break;case"selectionchange":if(z4)break;case"keydown":case"keyup":wx(f,n,d)}var z;if(Dw)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else fl?k2(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(C2&&n.locale!=="ko"&&(fl||U!=="onCompositionStart"?U==="onCompositionEnd"&&fl&&(z=A2()):(ri=d,Ow="value"in ri?ri.value:ri.textContent,fl=!0)),B=_h(c,U),0<B.length&&(U=new ux(U,t,null,n,d),f.push({event:U,listeners:B}),z?U.data=z:(z=M2(n),z!==null&&(U.data=z)))),(z=C4?k4(t,n):M4(t,n))&&(c=_h(c,"onBeforeInput"),0<c.length&&(d=new ux("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=z))}U2(f,e)})}function zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _h(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=ju(t,n),o!=null&&r.unshift(zu(t,o,s)),o=ju(t,e),o!=null&&r.push(zu(t,o,s))),t=t.return}return r}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sx(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ju(n,o),l!=null&&i.unshift(zu(n,l,a))):s||(l=ju(n,o),l!=null&&i.push(zu(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var W4=/\r\n?/g,V4=/\u0000|\uFFFD/g;function Ex(t){return(typeof t=="string"?t:""+t).replace(W4,`
`).replace(V4,"")}function Kd(t,e,n){if(e=Ex(e),Ex(t)!==e&&n)throw Error(fe(425))}function Nh(){}var ly=null,cy=null;function uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dy=typeof setTimeout=="function"?setTimeout:void 0,H4=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,q4=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(t){return _x.resolve(null).then(t).catch(G4)}:dy;function G4(t){setTimeout(function(){throw t})}function yg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Lu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lu(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bc=Math.random().toString(36).slice(2),js="__reactFiber$"+bc,$u="__reactProps$"+bc,go="__reactContainer$"+bc,fy="__reactEvents$"+bc,K4="__reactListeners$"+bc,Y4="__reactHandles$"+bc;function Ji(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[go]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nx(t);t!==null;){if(n=t[js])return n;t=Nx(t)}return e}t=n,n=t.parentNode}return null}function dd(t){return t=t[js]||t[go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Cp(t){return t[$u]||null}var hy=[],gl=-1;function Ri(t){return{current:t}}function Dt(t){0>gl||(t.current=hy[gl],hy[gl]=null,gl--)}function jt(t,e){gl++,hy[gl]=t.current,t.current=e}var Ni={},qn=Ri(Ni),pr=Ri(!1),wa=Ni;function Zl(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mr(t){return t=t.childContextTypes,t!=null}function Ah(){Dt(pr),Dt(qn)}function Ax(t,e,n){if(qn.current!==Ni)throw Error(fe(168));jt(qn,e),jt(pr,n)}function W2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(fe(108,RR(t)||"Unknown",s));return Yt({},n,r)}function Ch(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,wa=qn.current,jt(qn,t),jt(pr,pr.current),!0}function Cx(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=W2(t,e,wa),r.__reactInternalMemoizedMergedChildContext=t,Dt(pr),Dt(qn),jt(qn,t)):Dt(pr),jt(pr,n)}var eo=null,kp=!1,vg=!1;function V2(t){eo===null?eo=[t]:eo.push(t)}function Q4(t){kp=!0,V2(t)}function Oi(){if(!vg&&eo!==null){vg=!0;var t=0,e=Et;try{var n=eo;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}eo=null,kp=!1}catch(s){throw eo!==null&&(eo=eo.slice(t+1)),m2(Tw,Oi),s}finally{Et=e,vg=!1}}return null}var yl=[],vl=0,kh=null,Mh=0,Vr=[],Hr=0,ba=null,lo=1,co="";function Fi(t,e){yl[vl++]=Mh,yl[vl++]=kh,kh=t,Mh=e}function H2(t,e,n){Vr[Hr++]=lo,Vr[Hr++]=co,Vr[Hr++]=ba,ba=t;var r=lo;t=co;var s=32-ms(r)-1;r&=~(1<<s),n+=1;var o=32-ms(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,lo=1<<32-ms(e)+s|n<<s|r,co=o+t}else lo=1<<o|n<<s|r,co=t}function zw(t){t.return!==null&&(Fi(t,1),H2(t,1,0))}function $w(t){for(;t===kh;)kh=yl[--vl],yl[vl]=null,Mh=yl[--vl],yl[vl]=null;for(;t===ba;)ba=Vr[--Hr],Vr[Hr]=null,co=Vr[--Hr],Vr[Hr]=null,lo=Vr[--Hr],Vr[Hr]=null}var Ir=null,Tr=null,Ut=!1,fs=null;function q2(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ir=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ba!==null?{id:lo,overflow:co}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ir=t,Tr=null,!0):!1;default:return!1}}function py(t){return(t.mode&1)!==0&&(t.flags&128)===0}function my(t){if(Ut){var e=Tr;if(e){var n=e;if(!kx(t,e)){if(py(t))throw Error(fe(418));e=fi(n.nextSibling);var r=Ir;e&&kx(t,e)?q2(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Ir=t)}}else{if(py(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Ut=!1,Ir=t}}}function Mx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ir=t}function Yd(t){if(t!==Ir)return!1;if(!Ut)return Mx(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uy(t.type,t.memoizedProps)),e&&(e=Tr)){if(py(t))throw G2(),Error(fe(418));for(;e;)q2(t,e),e=fi(e.nextSibling)}if(Mx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Ir?fi(t.stateNode.nextSibling):null;return!0}function G2(){for(var t=Tr;t;)t=fi(t.nextSibling)}function Xl(){Tr=Ir=null,Ut=!1}function Uw(t){fs===null?fs=[t]:fs.push(t)}var J4=Ao.ReactCurrentBatchConfig;function Uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Qd(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tx(t){var e=t._init;return e(t._payload)}function K2(t){function e(S,x){if(t){var E=S.deletions;E===null?(S.deletions=[x],S.flags|=16):E.push(x)}}function n(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function r(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function s(S,x){return S=gi(S,x),S.index=0,S.sibling=null,S}function o(S,x,E){return S.index=E,t?(E=S.alternate,E!==null?(E=E.index,E<x?(S.flags|=2,x):E):(S.flags|=2,x)):(S.flags|=1048576,x)}function i(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,x,E,A){return x===null||x.tag!==6?(x=Ng(E,S.mode,A),x.return=S,x):(x=s(x,E),x.return=S,x)}function l(S,x,E,A){var k=E.type;return k===dl?d(S,x,E.props.children,A,E.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wo&&Tx(k)===x.type)?(A=s(x,E.props),A.ref=Uc(S,x,E),A.return=S,A):(A=zf(E.type,E.key,E.props,null,S.mode,A),A.ref=Uc(S,x,E),A.return=S,A)}function c(S,x,E,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Ag(E,S.mode,A),x.return=S,x):(x=s(x,E.children||[]),x.return=S,x)}function d(S,x,E,A,k){return x===null||x.tag!==7?(x=fa(E,S.mode,A,k),x.return=S,x):(x=s(x,E),x.return=S,x)}function f(S,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ng(""+x,S.mode,E),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zd:return E=zf(x.type,x.key,x.props,null,S.mode,E),E.ref=Uc(S,null,x),E.return=S,E;case ul:return x=Ag(x,S.mode,E),x.return=S,x;case Wo:var A=x._init;return f(S,A(x._payload),E)}if(Xc(x)||Pc(x))return x=fa(x,S.mode,E,null),x.return=S,x;Qd(S,x)}return null}function h(S,x,E,A){var k=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:a(S,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zd:return E.key===k?l(S,x,E,A):null;case ul:return E.key===k?c(S,x,E,A):null;case Wo:return k=E._init,h(S,x,k(E._payload),A)}if(Xc(E)||Pc(E))return k!==null?null:d(S,x,E,A,null);Qd(S,E)}return null}function p(S,x,E,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(E)||null,a(x,S,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zd:return S=S.get(A.key===null?E:A.key)||null,l(x,S,A,k);case ul:return S=S.get(A.key===null?E:A.key)||null,c(x,S,A,k);case Wo:var B=A._init;return p(S,x,E,B(A._payload),k)}if(Xc(A)||Pc(A))return S=S.get(E)||null,d(x,S,A,k,null);Qd(x,A)}return null}function v(S,x,E,A){for(var k=null,B=null,z=x,U=x=0,K=null;z!==null&&U<E.length;U++){z.index>U?(K=z,z=null):K=z.sibling;var V=h(S,z,E[U],A);if(V===null){z===null&&(z=K);break}t&&z&&V.alternate===null&&e(S,z),x=o(V,x,U),B===null?k=V:B.sibling=V,B=V,z=K}if(U===E.length)return n(S,z),Ut&&Fi(S,U),k;if(z===null){for(;U<E.length;U++)z=f(S,E[U],A),z!==null&&(x=o(z,x,U),B===null?k=z:B.sibling=z,B=z);return Ut&&Fi(S,U),k}for(z=r(S,z);U<E.length;U++)K=p(z,S,U,E[U],A),K!==null&&(t&&K.alternate!==null&&z.delete(K.key===null?U:K.key),x=o(K,x,U),B===null?k=K:B.sibling=K,B=K);return t&&z.forEach(function(q){return e(S,q)}),Ut&&Fi(S,U),k}function m(S,x,E,A){var k=Pc(E);if(typeof k!="function")throw Error(fe(150));if(E=k.call(E),E==null)throw Error(fe(151));for(var B=k=null,z=x,U=x=0,K=null,V=E.next();z!==null&&!V.done;U++,V=E.next()){z.index>U?(K=z,z=null):K=z.sibling;var q=h(S,z,V.value,A);if(q===null){z===null&&(z=K);break}t&&z&&q.alternate===null&&e(S,z),x=o(q,x,U),B===null?k=q:B.sibling=q,B=q,z=K}if(V.done)return n(S,z),Ut&&Fi(S,U),k;if(z===null){for(;!V.done;U++,V=E.next())V=f(S,V.value,A),V!==null&&(x=o(V,x,U),B===null?k=V:B.sibling=V,B=V);return Ut&&Fi(S,U),k}for(z=r(S,z);!V.done;U++,V=E.next())V=p(z,S,U,V.value,A),V!==null&&(t&&V.alternate!==null&&z.delete(V.key===null?U:V.key),x=o(V,x,U),B===null?k=V:B.sibling=V,B=V);return t&&z.forEach(function(J){return e(S,J)}),Ut&&Fi(S,U),k}function b(S,x,E,A){if(typeof E=="object"&&E!==null&&E.type===dl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zd:e:{for(var k=E.key,B=x;B!==null;){if(B.key===k){if(k=E.type,k===dl){if(B.tag===7){n(S,B.sibling),x=s(B,E.props.children),x.return=S,S=x;break e}}else if(B.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Wo&&Tx(k)===B.type){n(S,B.sibling),x=s(B,E.props),x.ref=Uc(S,B,E),x.return=S,S=x;break e}n(S,B);break}else e(S,B);B=B.sibling}E.type===dl?(x=fa(E.props.children,S.mode,A,E.key),x.return=S,S=x):(A=zf(E.type,E.key,E.props,null,S.mode,A),A.ref=Uc(S,x,E),A.return=S,S=A)}return i(S);case ul:e:{for(B=E.key;x!==null;){if(x.key===B)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(S,x.sibling),x=s(x,E.children||[]),x.return=S,S=x;break e}else{n(S,x);break}else e(S,x);x=x.sibling}x=Ag(E,S.mode,A),x.return=S,S=x}return i(S);case Wo:return B=E._init,b(S,x,B(E._payload),A)}if(Xc(E))return v(S,x,E,A);if(Pc(E))return m(S,x,E,A);Qd(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(S,x.sibling),x=s(x,E),x.return=S,S=x):(n(S,x),x=Ng(E,S.mode,A),x.return=S,S=x),i(S)):n(S,x)}return b}var ec=K2(!0),Y2=K2(!1),Th=Ri(null),Ih=null,wl=null,Fw=null;function Ww(){Fw=wl=Ih=null}function Vw(t){var e=Th.current;Dt(Th),t._currentValue=e}function gy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ml(t,e){Ih=t,Fw=wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(Fw!==t)if(t={context:t,memoizedValue:e,next:null},wl===null){if(Ih===null)throw Error(fe(308));wl=t,Ih.dependencies={lanes:0,firstContext:t}}else wl=wl.next=t;return e}var Zi=null;function Hw(t){Zi===null?Zi=[t]:Zi.push(t)}function Q2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Hw(e)):(n.next=s.next,s.next=n),e.interleaved=n,yo(t,r)}function yo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vo=!1;function qw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ho(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,yo(t,n)}return s=r.interleaved,s===null?(e.next=e,Hw(r)):(e.next=s.next,s.next=e),r.interleaved=e,yo(t,n)}function Rf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iw(t,n)}}function Ix(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jh(t,e,n,r){var s=t.updateQueue;Vo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(h=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Yt({},f,h);break e;case 2:Vo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Sa|=i,t.lanes=i,t.memoizedState=f}}function jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(fe(191,s));s.call(r)}}}var fd={},Ps=Ri(fd),Uu=Ri(fd),Fu=Ri(fd);function Xi(t){if(t===fd)throw Error(fe(174));return t}function Gw(t,e){switch(jt(Fu,e),jt(Uu,t),jt(Ps,fd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Q0(e,t)}Dt(Ps),jt(Ps,e)}function tc(){Dt(Ps),Dt(Uu),Dt(Fu)}function Z2(t){Xi(Fu.current);var e=Xi(Ps.current),n=Q0(e,t.type);e!==n&&(jt(Uu,t),jt(Ps,n))}function Kw(t){Uu.current===t&&(Dt(Ps),Dt(Uu))}var Ht=Ri(0);function Rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wg=[];function Yw(){for(var t=0;t<wg.length;t++)wg[t]._workInProgressVersionPrimary=null;wg.length=0}var Of=Ao.ReactCurrentDispatcher,bg=Ao.ReactCurrentBatchConfig,xa=0,Gt=null,gn=null,Sn=null,Oh=!1,yu=!1,Wu=0,Z4=0;function Ln(){throw Error(fe(321))}function Qw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vs(t[n],e[n]))return!1;return!0}function Jw(t,e,n,r,s,o){if(xa=o,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Of.current=t===null||t.memoizedState===null?n3:r3,t=n(r,s),yu){o=0;do{if(yu=!1,Wu=0,25<=o)throw Error(fe(301));o+=1,Sn=gn=null,e.updateQueue=null,Of.current=s3,t=n(r,s)}while(yu)}if(Of.current=Lh,e=gn!==null&&gn.next!==null,xa=0,Sn=gn=Gt=null,Oh=!1,e)throw Error(fe(300));return t}function Zw(){var t=Wu!==0;return Wu=0,t}function ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Gt.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function Zr(){if(gn===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=gn.next;var e=Sn===null?Gt.memoizedState:Sn.next;if(e!==null)Sn=e,gn=t;else{if(t===null)throw Error(fe(310));gn=t,t={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Sn===null?Gt.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function Vu(t,e){return typeof e=="function"?e(t):e}function xg(t){var e=Zr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=gn,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((xa&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,Gt.lanes|=d,Sa|=d}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,vs(r,e.memoizedState)||(fr=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Gt.lanes|=o,Sa|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=Zr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);vs(o,e.memoizedState)||(fr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function X2(){}function eN(t,e){var n=Gt,r=Zr(),s=e(),o=!vs(r.memoizedState,s);if(o&&(r.memoizedState=s,fr=!0),r=r.queue,Xw(rN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Sn!==null&&Sn.memoizedState.tag&1){if(n.flags|=2048,Hu(9,nN.bind(null,n,r,s,e),void 0,null),En===null)throw Error(fe(349));xa&30||tN(n,e,s)}return s}function tN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nN(t,e,n,r){e.value=n,e.getSnapshot=r,sN(e)&&oN(t)}function rN(t,e,n){return n(function(){sN(e)&&oN(t)})}function sN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vs(t,n)}catch{return!0}}function oN(t){var e=yo(t,1);e!==null&&gs(e,t,1,-1)}function Rx(t){var e=ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=t3.bind(null,Gt,t),[e.memoizedState,t]}function Hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iN(){return Zr().memoizedState}function Lf(t,e,n,r){var s=ks();Gt.flags|=t,s.memoizedState=Hu(1|e,n,void 0,r===void 0?null:r)}function Mp(t,e,n,r){var s=Zr();r=r===void 0?null:r;var o=void 0;if(gn!==null){var i=gn.memoizedState;if(o=i.destroy,r!==null&&Qw(r,i.deps)){s.memoizedState=Hu(e,n,o,r);return}}Gt.flags|=t,s.memoizedState=Hu(1|e,n,o,r)}function Ox(t,e){return Lf(8390656,8,t,e)}function Xw(t,e){return Mp(2048,8,t,e)}function aN(t,e){return Mp(4,2,t,e)}function lN(t,e){return Mp(4,4,t,e)}function cN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uN(t,e,n){return n=n!=null?n.concat([t]):null,Mp(4,4,cN.bind(null,e,t),n)}function eb(){}function dN(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fN(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hN(t,e,n){return xa&21?(vs(n,e)||(n=v2(),Gt.lanes|=n,Sa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=n)}function X4(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=bg.transition;bg.transition={};try{t(!1),e()}finally{Et=n,bg.transition=r}}function pN(){return Zr().memoizedState}function e3(t,e,n){var r=mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mN(t))gN(e,n);else if(n=Q2(t,e,n,r),n!==null){var s=rr();gs(n,t,r,s),yN(n,e,r)}}function t3(t,e,n){var r=mi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mN(t))gN(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,vs(a,i)){var l=e.interleaved;l===null?(s.next=s,Hw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Q2(t,e,s,r),n!==null&&(s=rr(),gs(n,t,r,s),yN(n,e,r))}}function mN(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function gN(t,e){yu=Oh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Iw(t,n)}}var Lh={readContext:Jr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},n3={readContext:Jr,useCallback:function(t,e){return ks().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:Ox,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lf(4194308,4,cN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lf(4,2,t,e)},useMemo:function(t,e){var n=ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=e3.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=ks();return t={current:t},e.memoizedState=t},useState:Rx,useDebugValue:eb,useDeferredValue:function(t){return ks().memoizedState=t},useTransition:function(){var t=Rx(!1),e=t[0];return t=X4.bind(null,t[1]),ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,s=ks();if(Ut){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),En===null)throw Error(fe(349));xa&30||tN(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Ox(rN.bind(null,r,o,t),[t]),r.flags|=2048,Hu(9,nN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ks(),e=En.identifierPrefix;if(Ut){var n=co,r=lo;n=(r&~(1<<32-ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r3={readContext:Jr,useCallback:dN,useContext:Jr,useEffect:Xw,useImperativeHandle:uN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:fN,useReducer:xg,useRef:iN,useState:function(){return xg(Vu)},useDebugValue:eb,useDeferredValue:function(t){var e=Zr();return hN(e,gn.memoizedState,t)},useTransition:function(){var t=xg(Vu)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:X2,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1},s3={readContext:Jr,useCallback:dN,useContext:Jr,useEffect:Xw,useImperativeHandle:uN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:fN,useReducer:Sg,useRef:iN,useState:function(){return Sg(Vu)},useDebugValue:eb,useDeferredValue:function(t){var e=Zr();return gn===null?e.memoizedState=t:hN(e,gn.memoizedState,t)},useTransition:function(){var t=Sg(Vu)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:X2,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1};function ts(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tp={isMounted:function(t){return(t=t._reactInternals)?ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rr(),s=mi(t),o=ho(r,s);o.payload=e,n!=null&&(o.callback=n),e=hi(t,o,s),e!==null&&(gs(e,t,s,r),Rf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rr(),s=mi(t),o=ho(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=hi(t,o,s),e!==null&&(gs(e,t,s,r),Rf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rr(),r=mi(t),s=ho(n,r);s.tag=2,e!=null&&(s.callback=e),e=hi(t,s,r),e!==null&&(gs(e,t,r,n),Rf(e,t,r))}};function Lx(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Du(n,r)||!Du(s,o):!0}function vN(t,e,n){var r=!1,s=Ni,o=e.contextType;return typeof o=="object"&&o!==null?o=Jr(o):(s=mr(e)?wa:qn.current,r=e.contextTypes,o=(r=r!=null)?Zl(t,s):Ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Px(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tp.enqueueReplaceState(e,e.state,null)}function vy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qw(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Jr(o):(o=mr(e)?wa:qn.current,s.context=Zl(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(yy(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Tp.enqueueReplaceState(s,s.state,null),jh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nc(t,e){try{var n="",r=e;do n+=jR(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Eg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o3=typeof WeakMap=="function"?WeakMap:Map;function wN(t,e,n){n=ho(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dh||(Dh=!0,My=r),wy(t,e)},n}function bN(t,e,n){n=ho(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wy(t,e),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Dx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=w3.bind(null,t,e,n),e.then(t,t))}function Bx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ho(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var i3=Ao.ReactCurrentOwner,fr=!1;function Xn(t,e,n,r){e.child=t===null?Y2(e,null,n,r):ec(e,t.child,n,r)}function $x(t,e,n,r,s){n=n.render;var o=e.ref;return Ml(e,s),r=Jw(t,e,n,r,o,s),n=Zw(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vo(t,e,s)):(Ut&&n&&zw(e),e.flags|=1,Xn(t,e,r,s),e.child)}function Ux(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!lb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,xN(t,e,o,r,s)):(t=zf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(i,r)&&t.ref===e.ref)return vo(t,e,s)}return e.flags|=1,t=gi(o,r),t.ref=e.ref,t.return=e,e.child=t}function xN(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Du(o,r)&&t.ref===e.ref)if(fr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,vo(t,e,s)}return by(t,e,n,r,s)}function SN(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(xl,Sr),Sr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(xl,Sr),Sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,jt(xl,Sr),Sr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,jt(xl,Sr),Sr|=r;return Xn(t,e,s,n),e.child}function EN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function by(t,e,n,r,s){var o=mr(n)?wa:qn.current;return o=Zl(e,o),Ml(e,s),n=Jw(t,e,n,r,o,s),r=Zw(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vo(t,e,s)):(Ut&&r&&zw(e),e.flags|=1,Xn(t,e,n,s),e.child)}function Fx(t,e,n,r,s){if(mr(n)){var o=!0;Ch(e)}else o=!1;if(Ml(e,s),e.stateNode===null)Pf(t,e),vN(e,n,r),vy(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jr(c):(c=mr(n)?wa:qn.current,c=Zl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Px(e,i,r,c),Vo=!1;var h=e.memoizedState;i.state=h,jh(e,r,i,s),l=e.memoizedState,a!==r||h!==l||pr.current||Vo?(typeof d=="function"&&(yy(e,n,d,r),l=e.memoizedState),(a=Vo||Lx(e,n,a,r,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,J2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ts(e.type,a),i.props=c,f=e.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=mr(n)?wa:qn.current,l=Zl(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Px(e,i,r,l),Vo=!1,h=e.memoizedState,i.state=h,jh(e,r,i,s);var v=e.memoizedState;a!==f||h!==v||pr.current||Vo?(typeof p=="function"&&(yy(e,n,p,r),v=e.memoizedState),(c=Vo||Lx(e,n,c,r,h,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return xy(t,e,n,r,o,s)}function xy(t,e,n,r,s,o){EN(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Cx(e,n,!1),vo(t,e,o);r=e.stateNode,i3.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=ec(e,t.child,null,o),e.child=ec(e,null,a,o)):Xn(t,e,a,o),e.memoizedState=r.state,s&&Cx(e,n,!0),e.child}function _N(t){var e=t.stateNode;e.pendingContext?Ax(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ax(t,e.context,!1),Gw(t,e.containerInfo)}function Wx(t,e,n,r,s){return Xl(),Uw(s),e.flags|=256,Xn(t,e,n,r),e.child}var Sy={dehydrated:null,treeContext:null,retryLane:0};function Ey(t){return{baseLanes:t,cachePool:null,transitions:null}}function NN(t,e,n){var r=e.pendingProps,s=Ht.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),jt(Ht,s&1),t===null)return my(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Rp(i,r,0,null),t=fa(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ey(n),e.memoizedState=Sy,t):tb(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return a3(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=gi(a,o):(o=fa(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?Ey(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=Sy,r}return o=t.child,t=o.sibling,r=gi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tb(t,e){return e=Rp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jd(t,e,n,r){return r!==null&&Uw(r),ec(e,t.child,null,n),t=tb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a3(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Eg(Error(fe(422))),Jd(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Rp({mode:"visible",children:r.children},s,0,null),o=fa(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ec(e,t.child,null,i),e.child.memoizedState=Ey(i),e.memoizedState=Sy,o);if(!(e.mode&1))return Jd(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=Eg(o,r,void 0),Jd(t,e,i,r)}if(a=(i&t.childLanes)!==0,fr||a){if(r=En,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,yo(t,s),gs(r,t,s,-1))}return ab(),r=Eg(Error(fe(421))),Jd(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=b3.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Tr=fi(s.nextSibling),Ir=e,Ut=!0,fs=null,t!==null&&(Vr[Hr++]=lo,Vr[Hr++]=co,Vr[Hr++]=ba,lo=t.id,co=t.overflow,ba=e),e=tb(e,r.children),e.flags|=4096,e)}function Vx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gy(t.return,e,n)}function _g(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function AN(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Xn(t,e,r.children,n),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vx(t,n,e);else if(t.tag===19)Vx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_g(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_g(e,!0,n,null,o);break;case"together":_g(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l3(t,e,n){switch(e.tag){case 3:_N(e),Xl();break;case 5:Z2(e);break;case 1:mr(e.type)&&Ch(e);break;case 4:Gw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;jt(Th,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(Ht,Ht.current&1),e.flags|=128,null):n&e.child.childLanes?NN(t,e,n):(jt(Ht,Ht.current&1),t=vo(t,e,n),t!==null?t.sibling:null);jt(Ht,Ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,SN(t,e,n)}return vo(t,e,n)}var CN,_y,kN,MN;CN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_y=function(){};kN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xi(Ps.current);var o=null;switch(n){case"input":s=q0(t,s),r=q0(t,r),o=[];break;case"select":s=Yt({},s,{value:void 0}),r=Yt({},r,{value:void 0}),o=[];break;case"textarea":s=Y0(t,s),r=Y0(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nh)}J0(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tu.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};MN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fc(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c3(t,e,n){var r=e.pendingProps;switch($w(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(e),null;case 1:return mr(e.type)&&Ah(),Pn(e),null;case 3:return r=e.stateNode,tc(),Dt(pr),Dt(qn),Yw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fs!==null&&(jy(fs),fs=null))),_y(t,e),Pn(e),null;case 5:Kw(e);var s=Xi(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)kN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Pn(e),null}if(t=Xi(Ps.current),Yd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[js]=e,r[$u]=o,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(s=0;s<tu.length;s++)Lt(tu[s],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":X1(r,o),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Lt("invalid",r);break;case"textarea":tx(r,o),Lt("invalid",r)}J0(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Kd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Kd(r.textContent,a,t),s=["children",""+a]):Tu.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Lt("scroll",r)}switch(n){case"input":$d(r),ex(r,o,!0);break;case"textarea":$d(r),nx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=r2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[js]=e,t[$u]=r,CN(t,e,!1,!1),e.stateNode=t;e:{switch(i=Z0(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),s=r;break;case"iframe":case"object":case"embed":Lt("load",t),s=r;break;case"video":case"audio":for(s=0;s<tu.length;s++)Lt(tu[s],t);s=r;break;case"source":Lt("error",t),s=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),s=r;break;case"details":Lt("toggle",t),s=r;break;case"input":X1(t,r),s=q0(t,r),Lt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Yt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":tx(t,r),s=Y0(t,r),Lt("invalid",t);break;default:s=r}J0(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?i2(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s2(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Iu(t,l):typeof l=="number"&&Iu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Tu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Lt("scroll",t):l!=null&&Nw(t,o,l,i))}switch(n){case"input":$d(t),ex(t,r,!1);break;case"textarea":$d(t),nx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_i(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Nl(t,!!r.multiple,o,!1):r.defaultValue!=null&&Nl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pn(e),null;case 6:if(t&&e.stateNode!=null)MN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=Xi(Fu.current),Xi(Ps.current),Yd(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(o=r.nodeValue!==n)&&(t=Ir,t!==null))switch(t.tag){case 3:Kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return Pn(e),null;case 13:if(Dt(Ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Tr!==null&&e.mode&1&&!(e.flags&128))G2(),Xl(),e.flags|=98560,o=!1;else if(o=Yd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(fe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[js]=e}else Xl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pn(e),o=!1}else fs!==null&&(jy(fs),fs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?yn===0&&(yn=3):ab())),e.updateQueue!==null&&(e.flags|=4),Pn(e),null);case 4:return tc(),_y(t,e),t===null&&Bu(e.stateNode.containerInfo),Pn(e),null;case 10:return Vw(e.type._context),Pn(e),null;case 17:return mr(e.type)&&Ah(),Pn(e),null;case 19:if(Dt(Ht),o=e.memoizedState,o===null)return Pn(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Fc(o,!1);else{if(yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Rh(t),i!==null){for(e.flags|=128,Fc(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(Ht,Ht.current&1|2),e.child}t=t.sibling}o.tail!==null&&on()>rc&&(e.flags|=128,r=!0,Fc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Rh(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ut)return Pn(e),null}else 2*on()-o.renderingStartTime>rc&&n!==1073741824&&(e.flags|=128,r=!0,Fc(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,n=Ht.current,jt(Ht,r?n&1|2:n&1),e):(Pn(e),null);case 22:case 23:return ib(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sr&1073741824&&(Pn(e),e.subtreeFlags&6&&(e.flags|=8192)):Pn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function u3(t,e){switch($w(e),e.tag){case 1:return mr(e.type)&&Ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tc(),Dt(pr),Dt(qn),Yw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kw(e),null;case 13:if(Dt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Xl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Ht),null;case 4:return tc(),null;case 10:return Vw(e.type._context),null;case 22:case 23:return ib(),null;case 24:return null;default:return null}}var Zd=!1,Vn=!1,d3=typeof WeakSet=="function"?WeakSet:Set,_e=null;function bl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function Ny(t,e,n){try{n()}catch(r){tn(t,e,r)}}var Hx=!1;function f3(t,e){if(ly=Sh,t=O2(),Bw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++c===s&&(a=i),h===o&&++d===r&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cy={focusedElem:t,selectionRange:n},Sh=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,b=v.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?m:ts(e.type,m),b);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(A){tn(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return v=Hx,Hx=!1,v}function vu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ny(e,n,o)}s=s.next}while(s!==r)}}function Ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ay(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TN(t){var e=t.alternate;e!==null&&(t.alternate=null,TN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[$u],delete e[fy],delete e[K4],delete e[Y4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IN(t){return t.tag===5||t.tag===3||t.tag===4}function qx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nh));else if(r!==4&&(t=t.child,t!==null))for(Cy(t,e,n),t=t.sibling;t!==null;)Cy(t,e,n),t=t.sibling}function ky(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ky(t,e,n),t=t.sibling;t!==null;)ky(t,e,n),t=t.sibling}var Cn=null,os=!1;function Mo(t,e,n){for(n=n.child;n!==null;)jN(t,e,n),n=n.sibling}function jN(t,e,n){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(Ep,n)}catch{}switch(n.tag){case 5:Vn||bl(n,e);case 6:var r=Cn,s=os;Cn=null,Mo(t,e,n),Cn=r,os=s,Cn!==null&&(os?(t=Cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(os?(t=Cn,n=n.stateNode,t.nodeType===8?yg(t.parentNode,n):t.nodeType===1&&yg(t,n),Lu(t)):yg(Cn,n.stateNode));break;case 4:r=Cn,s=os,Cn=n.stateNode.containerInfo,os=!0,Mo(t,e,n),Cn=r,os=s;break;case 0:case 11:case 14:case 15:if(!Vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ny(n,e,i),s=s.next}while(s!==r)}Mo(t,e,n);break;case 1:if(!Vn&&(bl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tn(n,e,a)}Mo(t,e,n);break;case 21:Mo(t,e,n);break;case 22:n.mode&1?(Vn=(r=Vn)||n.memoizedState!==null,Mo(t,e,n),Vn=r):Mo(t,e,n);break;default:Mo(t,e,n)}}function Gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d3),e.forEach(function(r){var s=x3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Cn=a.stateNode,os=!1;break e;case 3:Cn=a.stateNode.containerInfo,os=!0;break e;case 4:Cn=a.stateNode.containerInfo,os=!0;break e}a=a.return}if(Cn===null)throw Error(fe(160));jN(o,i,s),Cn=null,os=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){tn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RN(e,t),e=e.sibling}function RN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),_s(t),r&4){try{vu(3,t,t.return),Ip(3,t)}catch(m){tn(t,t.return,m)}try{vu(5,t,t.return)}catch(m){tn(t,t.return,m)}}break;case 1:Xr(e,t),_s(t),r&512&&n!==null&&bl(n,n.return);break;case 5:if(Xr(e,t),_s(t),r&512&&n!==null&&bl(n,n.return),t.flags&32){var s=t.stateNode;try{Iu(s,"")}catch(m){tn(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&t2(s,o),Z0(a,i);var c=Z0(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?i2(s,f):d==="dangerouslySetInnerHTML"?s2(s,f):d==="children"?Iu(s,f):Nw(s,d,f,c)}switch(a){case"input":G0(s,o);break;case"textarea":n2(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Nl(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Nl(s,!!o.multiple,o.defaultValue,!0):Nl(s,!!o.multiple,o.multiple?[]:"",!1))}s[$u]=o}catch(m){tn(t,t.return,m)}}break;case 6:if(Xr(e,t),_s(t),r&4){if(t.stateNode===null)throw Error(fe(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(m){tn(t,t.return,m)}}break;case 3:if(Xr(e,t),_s(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lu(e.containerInfo)}catch(m){tn(t,t.return,m)}break;case 4:Xr(e,t),_s(t);break;case 13:Xr(e,t),_s(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(sb=on())),r&4&&Gx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vn=(c=Vn)||d,Xr(e,t),Vn=c):Xr(e,t),_s(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(_e=t,d=t.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,p=h.child,h.tag){case 0:case 11:case 14:case 15:vu(4,h,h.return);break;case 1:bl(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){tn(r,n,m)}}break;case 5:bl(h,h.return);break;case 22:if(h.memoizedState!==null){Yx(f);continue}}p!==null?(p.return=h,_e=p):Yx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=o2("display",i))}catch(m){tn(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){tn(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(e,t),_s(t),r&4&&Gx(t);break;case 21:break;default:Xr(e,t),_s(t)}}function _s(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IN(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Iu(s,""),r.flags&=-33);var o=qx(t);ky(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=qx(t);Cy(t,a,i);break;default:throw Error(fe(161))}}catch(l){tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h3(t,e,n){_e=t,ON(t)}function ON(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Zd;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vn;a=Zd;var c=Vn;if(Zd=i,(Vn=l)&&!c)for(_e=s;_e!==null;)i=_e,l=i.child,i.tag===22&&i.memoizedState!==null?Qx(s):l!==null?(l.return=i,_e=l):Qx(s);for(;o!==null;)_e=o,ON(o),o=o.sibling;_e=s,Zd=a,Vn=c}Kx(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,_e=o):Kx(t)}}function Kx(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vn||Ip(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ts(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jx(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jx(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Vn||e.flags&512&&Ay(e)}catch(h){tn(e,e.return,h)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function Yx(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function Qx(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ip(4,e)}catch(l){tn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){tn(e,s,l)}}var o=e.return;try{Ay(e)}catch(l){tn(e,o,l)}break;case 5:var i=e.return;try{Ay(e)}catch(l){tn(e,i,l)}}}catch(l){tn(e,e.return,l)}if(e===t){_e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_e=a;break}_e=e.return}}var p3=Math.ceil,Ph=Ao.ReactCurrentDispatcher,nb=Ao.ReactCurrentOwner,Yr=Ao.ReactCurrentBatchConfig,ft=0,En=null,hn=null,In=0,Sr=0,xl=Ri(0),yn=0,qu=null,Sa=0,jp=0,rb=0,wu=null,cr=null,sb=0,rc=1/0,Zs=null,Dh=!1,My=null,pi=null,Xd=!1,si=null,Bh=0,bu=0,Ty=null,Df=-1,Bf=0;function rr(){return ft&6?on():Df!==-1?Df:Df=on()}function mi(t){return t.mode&1?ft&2&&In!==0?In&-In:J4.transition!==null?(Bf===0&&(Bf=v2()),Bf):(t=Et,t!==0||(t=window.event,t=t===void 0?16:N2(t.type)),t):1}function gs(t,e,n,r){if(50<bu)throw bu=0,Ty=null,Error(fe(185));cd(t,n,r),(!(ft&2)||t!==En)&&(t===En&&(!(ft&2)&&(jp|=n),yn===4&&Yo(t,In)),gr(t,r),n===1&&ft===0&&!(e.mode&1)&&(rc=on()+500,kp&&Oi()))}function gr(t,e){var n=t.callbackNode;JR(t,e);var r=xh(t,t===En?In:0);if(r===0)n!==null&&ox(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ox(n),e===1)t.tag===0?Q4(Jx.bind(null,t)):V2(Jx.bind(null,t)),q4(function(){!(ft&6)&&Oi()}),n=null;else{switch(w2(r)){case 1:n=Tw;break;case 4:n=g2;break;case 16:n=bh;break;case 536870912:n=y2;break;default:n=bh}n=FN(n,LN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LN(t,e){if(Df=-1,Bf=0,ft&6)throw Error(fe(327));var n=t.callbackNode;if(Tl()&&t.callbackNode!==n)return null;var r=xh(t,t===En?In:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zh(t,r);else{e=r;var s=ft;ft|=2;var o=DN();(En!==t||In!==e)&&(Zs=null,rc=on()+500,da(t,e));do try{y3();break}catch(a){PN(t,a)}while(!0);Ww(),Ph.current=o,ft=s,hn!==null?e=0:(En=null,In=0,e=yn)}if(e!==0){if(e===2&&(s=ry(t),s!==0&&(r=s,e=Iy(t,s))),e===1)throw n=qu,da(t,0),Yo(t,r),gr(t,on()),n;if(e===6)Yo(t,r);else{if(s=t.current.alternate,!(r&30)&&!m3(s)&&(e=zh(t,r),e===2&&(o=ry(t),o!==0&&(r=o,e=Iy(t,o))),e===1))throw n=qu,da(t,0),Yo(t,r),gr(t,on()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Wi(t,cr,Zs);break;case 3:if(Yo(t,r),(r&130023424)===r&&(e=sb+500-on(),10<e)){if(xh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=dy(Wi.bind(null,t,cr,Zs),e);break}Wi(t,cr,Zs);break;case 4:if(Yo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-ms(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p3(r/1960))-r,10<r){t.timeoutHandle=dy(Wi.bind(null,t,cr,Zs),r);break}Wi(t,cr,Zs);break;case 5:Wi(t,cr,Zs);break;default:throw Error(fe(329))}}}return gr(t,on()),t.callbackNode===n?LN.bind(null,t):null}function Iy(t,e){var n=wu;return t.current.memoizedState.isDehydrated&&(da(t,e).flags|=256),t=zh(t,e),t!==2&&(e=cr,cr=n,e!==null&&jy(e)),t}function jy(t){cr===null?cr=t:cr.push.apply(cr,t)}function m3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!vs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yo(t,e){for(e&=~rb,e&=~jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ms(e),r=1<<n;t[n]=-1,e&=~r}}function Jx(t){if(ft&6)throw Error(fe(327));Tl();var e=xh(t,0);if(!(e&1))return gr(t,on()),null;var n=zh(t,e);if(t.tag!==0&&n===2){var r=ry(t);r!==0&&(e=r,n=Iy(t,r))}if(n===1)throw n=qu,da(t,0),Yo(t,e),gr(t,on()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,cr,Zs),gr(t,on()),null}function ob(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(rc=on()+500,kp&&Oi())}}function Ea(t){si!==null&&si.tag===0&&!(ft&6)&&Tl();var e=ft;ft|=1;var n=Yr.transition,r=Et;try{if(Yr.transition=null,Et=1,t)return t()}finally{Et=r,Yr.transition=n,ft=e,!(ft&6)&&Oi()}}function ib(){Sr=xl.current,Dt(xl)}function da(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,H4(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch($w(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ah();break;case 3:tc(),Dt(pr),Dt(qn),Yw();break;case 5:Kw(r);break;case 4:tc();break;case 13:Dt(Ht);break;case 19:Dt(Ht);break;case 10:Vw(r.type._context);break;case 22:case 23:ib()}n=n.return}if(En=t,hn=t=gi(t.current,null),In=Sr=e,yn=0,qu=null,rb=jp=Sa=0,cr=wu=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Zi=null}return t}function PN(t,e){do{var n=hn;try{if(Ww(),Of.current=Lh,Oh){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oh=!1}if(xa=0,Sn=gn=Gt=null,yu=!1,Wu=0,nb.current=null,n===null||n.return===null){yn=1,qu=e,hn=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=In,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Bx(i);if(p!==null){p.flags&=-257,zx(p,i,a,o,e),p.mode&1&&Dx(o,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){Dx(o,c,e),ab();break e}l=Error(fe(426))}}else if(Ut&&a.mode&1){var b=Bx(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zx(b,i,a,o,e),Uw(nc(l,a));break e}}o=l=nc(l,a),yn!==4&&(yn=2),wu===null?wu=[o]:wu.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=wN(o,l,e);Ix(o,S);break e;case 1:a=l;var x=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pi===null||!pi.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=bN(o,a,e);Ix(o,A);break e}}o=o.return}while(o!==null)}zN(n)}catch(k){e=k,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function DN(){var t=Ph.current;return Ph.current=Lh,t===null?Lh:t}function ab(){(yn===0||yn===3||yn===2)&&(yn=4),En===null||!(Sa&268435455)&&!(jp&268435455)||Yo(En,In)}function zh(t,e){var n=ft;ft|=2;var r=DN();(En!==t||In!==e)&&(Zs=null,da(t,e));do try{g3();break}catch(s){PN(t,s)}while(!0);if(Ww(),ft=n,Ph.current=r,hn!==null)throw Error(fe(261));return En=null,In=0,yn}function g3(){for(;hn!==null;)BN(hn)}function y3(){for(;hn!==null&&!FR();)BN(hn)}function BN(t){var e=UN(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,e===null?zN(t):hn=e,nb.current=null}function zN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=u3(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yn=6,hn=null;return}}else if(n=c3(n,e,Sr),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);yn===0&&(yn=5)}function Wi(t,e,n){var r=Et,s=Yr.transition;try{Yr.transition=null,Et=1,v3(t,e,n,r)}finally{Yr.transition=s,Et=r}return null}function v3(t,e,n,r){do Tl();while(si!==null);if(ft&6)throw Error(fe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ZR(t,o),t===En&&(hn=En=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xd||(Xd=!0,FN(bh,function(){return Tl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yr.transition,Yr.transition=null;var i=Et;Et=1;var a=ft;ft|=4,nb.current=null,f3(t,n),RN(n,t),B4(cy),Sh=!!ly,cy=ly=null,t.current=n,h3(n),WR(),ft=a,Et=i,Yr.transition=o}else t.current=n;if(Xd&&(Xd=!1,si=t,Bh=s),o=t.pendingLanes,o===0&&(pi=null),qR(n.stateNode),gr(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Dh)throw Dh=!1,t=My,My=null,t;return Bh&1&&t.tag!==0&&Tl(),o=t.pendingLanes,o&1?t===Ty?bu++:(bu=0,Ty=t):bu=0,Oi(),null}function Tl(){if(si!==null){var t=w2(Bh),e=Yr.transition,n=Et;try{if(Yr.transition=null,Et=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,Bh=0,ft&6)throw Error(fe(331));var s=ft;for(ft|=4,_e=t.current;_e!==null;){var o=_e,i=o.child;if(_e.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:vu(8,d,o)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,p=d.return;if(TN(d),d===c){_e=null;break}if(h!==null){h.return=p,_e=h;break}_e=p}}}var v=o.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}_e=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,_e=i;else e:for(;_e!==null;){if(o=_e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vu(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,_e=S;break e}_e=o.return}}var x=t.current;for(_e=x;_e!==null;){i=_e;var E=i.child;if(i.subtreeFlags&2064&&E!==null)E.return=i,_e=E;else e:for(i=x;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ip(9,a)}}catch(k){tn(a,a.return,k)}if(a===i){_e=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,_e=A;break e}_e=a.return}}if(ft=s,Oi(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(Ep,t)}catch{}r=!0}return r}finally{Et=n,Yr.transition=e}}return!1}function Zx(t,e,n){e=nc(n,e),e=wN(t,e,1),t=hi(t,e,1),e=rr(),t!==null&&(cd(t,1,e),gr(t,e))}function tn(t,e,n){if(t.tag===3)Zx(t,t,n);else for(;e!==null;){if(e.tag===3){Zx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pi===null||!pi.has(r))){t=nc(n,t),t=bN(e,t,1),e=hi(e,t,1),t=rr(),e!==null&&(cd(e,1,t),gr(e,t));break}}e=e.return}}function w3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rr(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(In&n)===n&&(yn===4||yn===3&&(In&130023424)===In&&500>on()-sb?da(t,0):rb|=n),gr(t,e)}function $N(t,e){e===0&&(t.mode&1?(e=Wd,Wd<<=1,!(Wd&130023424)&&(Wd=4194304)):e=1);var n=rr();t=yo(t,e),t!==null&&(cd(t,e,n),gr(t,n))}function b3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$N(t,n)}function x3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),$N(t,n)}var UN;UN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fr=!1,l3(t,e,n);fr=!!(t.flags&131072)}else fr=!1,Ut&&e.flags&1048576&&H2(e,Mh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pf(t,e),t=e.pendingProps;var s=Zl(e,qn.current);Ml(e,n),s=Jw(null,e,r,t,s,n);var o=Zw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(r)?(o=!0,Ch(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qw(e),s.updater=Tp,e.stateNode=s,s._reactInternals=e,vy(e,r,t,n),e=xy(null,e,r,!0,o,n)):(e.tag=0,Ut&&o&&zw(e),Xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=E3(r),t=ts(r,t),s){case 0:e=by(null,e,r,t,n);break e;case 1:e=Fx(null,e,r,t,n);break e;case 11:e=$x(null,e,r,t,n);break e;case 14:e=Ux(null,e,r,ts(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),by(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),Fx(t,e,r,s,n);case 3:e:{if(_N(e),t===null)throw Error(fe(387));r=e.pendingProps,o=e.memoizedState,s=o.element,J2(t,e),jh(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=nc(Error(fe(423)),e),e=Wx(t,e,r,n,s);break e}else if(r!==s){s=nc(Error(fe(424)),e),e=Wx(t,e,r,n,s);break e}else for(Tr=fi(e.stateNode.containerInfo.firstChild),Ir=e,Ut=!0,fs=null,n=Y2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xl(),r===s){e=vo(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return Z2(e),t===null&&my(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,uy(r,s)?i=null:o!==null&&uy(r,o)&&(e.flags|=32),EN(t,e),Xn(t,e,i,n),e.child;case 6:return t===null&&my(e),null;case 13:return NN(t,e,n);case 4:return Gw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ec(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),$x(t,e,r,s,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,jt(Th,r._currentValue),r._currentValue=i,o!==null)if(vs(o.value,i)){if(o.children===s.children&&!pr.current){e=vo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ho(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gy(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(fe(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),gy(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ml(e,n),s=Jr(s),r=r(s),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,s=ts(r,e.pendingProps),s=ts(r.type,s),Ux(t,e,r,s,n);case 15:return xN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ts(r,s),Pf(t,e),e.tag=1,mr(r)?(t=!0,Ch(e)):t=!1,Ml(e,n),vN(e,r,s),vy(e,r,s,n),xy(null,e,r,!0,t,n);case 19:return AN(t,e,n);case 22:return SN(t,e,n)}throw Error(fe(156,e.tag))};function FN(t,e){return m2(t,e)}function S3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new S3(t,e,n,r)}function lb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E3(t){if(typeof t=="function")return lb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cw)return 11;if(t===kw)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zf(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")lb(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case dl:return fa(n.children,s,o,e);case Aw:i=8,s|=8;break;case F0:return t=Kr(12,n,e,s|2),t.elementType=F0,t.lanes=o,t;case W0:return t=Kr(13,n,e,s),t.elementType=W0,t.lanes=o,t;case V0:return t=Kr(19,n,e,s),t.elementType=V0,t.lanes=o,t;case Z_:return Rp(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q_:i=10;break e;case J_:i=9;break e;case Cw:i=11;break e;case kw:i=14;break e;case Wo:i=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Kr(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function fa(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function Rp(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=Z_,t.lanes=n,t.stateNode={isHidden:!1},t}function Ng(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function Ag(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ig(0),this.expirationTimes=ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ig(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cb(t,e,n,r,s,o,i,a,l){return t=new _3(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qw(o),t}function N3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WN(t){if(!t)return Ni;t=t._reactInternals;e:{if(ja(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(mr(n))return W2(t,n,e)}return e}function VN(t,e,n,r,s,o,i,a,l){return t=cb(n,r,!0,t,s,o,i,a,l),t.context=WN(null),n=t.current,r=rr(),s=mi(n),o=ho(r,s),o.callback=e??null,hi(n,o,s),t.current.lanes=s,cd(t,s,r),gr(t,r),t}function Op(t,e,n,r){var s=e.current,o=rr(),i=mi(s);return n=WN(n),e.context===null?e.context=n:e.pendingContext=n,e=ho(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(s,e,i),t!==null&&(gs(t,s,i,o),Rf(t,s,i)),i}function $h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ub(t,e){Xx(t,e),(t=t.alternate)&&Xx(t,e)}function A3(){return null}var HN=typeof reportError=="function"?reportError:function(t){console.error(t)};function db(t){this._internalRoot=t}Lp.prototype.render=db.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Op(t,e,null,null)};Lp.prototype.unmount=db.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ea(function(){Op(null,t,null,null)}),e[go]=null}};function Lp(t){this._internalRoot=t}Lp.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ko.length&&e!==0&&e<Ko[n].priority;n++);Ko.splice(n,0,t),n===0&&_2(t)}};function fb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eS(){}function C3(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=$h(i);o.call(c)}}var i=VN(e,r,t,0,null,!1,!1,"",eS);return t._reactRootContainer=i,t[go]=i.current,Bu(t.nodeType===8?t.parentNode:t),Ea(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$h(l);a.call(c)}}var l=cb(t,0,!1,null,null,!1,!1,"",eS);return t._reactRootContainer=l,t[go]=l.current,Bu(t.nodeType===8?t.parentNode:t),Ea(function(){Op(e,l,n,r)}),l}function Dp(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=$h(i);a.call(l)}}Op(e,i,t,s)}else i=C3(n,e,t,s,r);return $h(i)}b2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Iw(e,n|1),gr(e,on()),!(ft&6)&&(rc=on()+500,Oi()))}break;case 13:Ea(function(){var r=yo(t,1);if(r!==null){var s=rr();gs(r,t,1,s)}}),ub(t,1)}};jw=function(t){if(t.tag===13){var e=yo(t,134217728);if(e!==null){var n=rr();gs(e,t,134217728,n)}ub(t,134217728)}};x2=function(t){if(t.tag===13){var e=mi(t),n=yo(t,e);if(n!==null){var r=rr();gs(n,t,e,r)}ub(t,e)}};S2=function(){return Et};E2=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};ey=function(t,e,n){switch(e){case"input":if(G0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cp(r);if(!s)throw Error(fe(90));e2(r),G0(r,s)}}}break;case"textarea":n2(t,n);break;case"select":e=n.value,e!=null&&Nl(t,!!n.multiple,e,!1)}};c2=ob;u2=Ea;var k3={usingClientEntryPoint:!1,Events:[dd,ml,Cp,a2,l2,ob]},Wc={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M3={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h2(t),t===null?null:t.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||A3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{Ep=ef.inject(M3),Ls=ef}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;Lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fb(e))throw Error(fe(200));return N3(t,e,null,n)};Lr.createRoot=function(t,e){if(!fb(t))throw Error(fe(299));var n=!1,r="",s=HN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cb(t,1,!1,null,null,n,!1,r,s),t[go]=e.current,Bu(t.nodeType===8?t.parentNode:t),new db(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=h2(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return Ea(t)};Lr.hydrate=function(t,e,n){if(!Pp(e))throw Error(fe(200));return Dp(null,t,e,!0,n)};Lr.hydrateRoot=function(t,e,n){if(!fb(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=HN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=VN(e,null,t,1,n??null,s,!1,o,i),t[go]=e.current,Bu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Lp(e)};Lr.render=function(t,e,n){if(!Pp(e))throw Error(fe(200));return Dp(null,t,e,!1,n)};Lr.unmountComponentAtNode=function(t){if(!Pp(t))throw Error(fe(40));return t._reactRootContainer?(Ea(function(){Dp(null,null,t,!1,function(){t._reactRootContainer=null,t[go]=null})}),!0):!1};Lr.unstable_batchedUpdates=ob;Lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pp(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Dp(t,e,n,!1,r)};Lr.version="18.3.1-next-f1338f8080-20240426";function qN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qN)}catch(t){console.error(t)}}qN(),q_.exports=Lr;var Co=q_.exports;const GN=No(Co);var KN,tS=Co;KN=tS.createRoot,tS.hydrateRoot;const T3=5,I3=1e3*5;let Cg=0;function j3(){return Cg=(Cg+1)%Number.MAX_SAFE_INTEGER,Cg.toString()}const kg=new Map,Vc=new Map,nS=3e3,rS=t=>{if(kg.has(t))return;const e=setTimeout(()=>{kg.delete(t),xu({type:"REMOVE_TOAST",toastId:t})},I3);kg.set(t,e)},R3=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,T3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?rS(n):t.toasts.forEach(r=>{rS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},$f=[];let Uf={toasts:[]};function xu(t){Uf=R3(Uf,t),$f.forEach(e=>{e(Uf)})}function YN(t){const e=`${t.title}-${t.description}`,n=Date.now();if(Vc.has(e)){const i=Vc.get(e);if(n-i<nS)return{id:"duplicate",dismiss:()=>{},update:()=>{}}}Vc.set(e,n);for(const[i,a]of Vc.entries())n-a>nS&&Vc.delete(i);const r=j3(),s=i=>xu({type:"UPDATE_TOAST",toast:{...i,id:r}}),o=()=>xu({type:"DISMISS_TOAST",toastId:r});return xu({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:i=>{i||o()}}}),{id:r,dismiss:o,update:s}}function Ss(){const[t,e]=g.useState(Uf);return g.useEffect(()=>($f.push(e),()=>{const n=$f.indexOf(e);n>-1&&$f.splice(n,1)}),[t]),{...t,toast:YN,dismiss:n=>xu({type:"DISMISS_TOAST",toastId:n})}}function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function O3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function QN(...t){return e=>t.forEach(n=>O3(n,e))}function At(...t){return g.useCallback(QN(...t),t)}function L3(t,e=[]){let n=[];function r(o,i){const a=g.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:p,...v}=f,m=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||a,v=g.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,P3(s,...e)]}function P3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var _a=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),o=s.find(D3);if(o){const i=o.props.children,a=s.map(l=>l===o?g.Children.count(i)>1?g.Children.only(null):g.isValidElement(i)?i.props.children:null:l);return u.jsx(Ry,{...r,ref:e,children:g.isValidElement(i)?g.cloneElement(i,void 0,a):null})}return u.jsx(Ry,{...r,ref:e,children:n})});_a.displayName="Slot";var Ry=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=z3(n);return g.cloneElement(n,{...B3(r,n.props),ref:e?QN(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});Ry.displayName="SlotClone";var hb=({children:t})=>u.jsx(u.Fragment,{children:t});function D3(t){return g.isValidElement(t)&&t.type===hb}function B3(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function z3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function JN(t){const e=t+"CollectionProvider",[n,r]=L3(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:m}=p,b=H.useRef(null),S=H.useRef(new Map).current;return u.jsx(s,{scope:v,itemMap:S,collectionRef:b,children:m})};i.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((p,v)=>{const{scope:m,children:b}=p,S=o(a,m),x=At(v,S.collectionRef);return u.jsx(_a,{ref:x,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=H.forwardRef((p,v)=>{const{scope:m,children:b,...S}=p,x=H.useRef(null),E=At(v,x),A=o(c,m);return H.useEffect(()=>(A.itemMap.set(x,{ref:x,...S}),()=>void A.itemMap.delete(x))),u.jsx(_a,{[d]:"",ref:E,children:b})});f.displayName=c;function h(p){const v=o(t+"CollectionConsumer",p);return H.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((A,k)=>S.indexOf(A.ref.current)-S.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,r]}function $3(t,e){const n=g.createContext(e),r=o=>{const{children:i,...a}=o,l=g.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function hd(t,e=[]){let n=[];function r(o,i){const a=g.createContext(i),l=n.length;n=[...n,i];const c=f=>{var S;const{scope:h,children:p,...v}=f,m=((S=h==null?void 0:h[t])==null?void 0:S[l])||a,b=g.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:b,children:p})};c.displayName=o+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,v=g.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,U3(s,...e)]}function U3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var F3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],dt=F3.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?_a:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ZN(t,e){t&&Co.flushSync(()=>t.dispatchEvent(e))}function Or(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function W3(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var V3="DismissableLayer",Oy="dismissableLayer.update",H3="dismissableLayer.pointerDownOutside",q3="dismissableLayer.focusOutside",sS,XN=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pd=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,c=g.useContext(XN),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=At(e,z=>f(z)),m=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=m.indexOf(b),x=d?m.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=S,k=K3(z=>{const U=z.target,K=[...c.branches].some(V=>V.contains(U));!A||K||(s==null||s(z),i==null||i(z),z.defaultPrevented||a==null||a())},h),B=Y3(z=>{const U=z.target;[...c.branches].some(V=>V.contains(U))||(o==null||o(z),i==null||i(z),z.defaultPrevented||a==null||a())},h);return W3(z=>{x===c.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&a&&(z.preventDefault(),a()))},h),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),oS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sS)}},[d,h,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),oS())},[d,c]),g.useEffect(()=>{const z=()=>p({});return document.addEventListener(Oy,z),()=>document.removeEventListener(Oy,z)},[]),u.jsx(dt.div,{...l,ref:v,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,k.onPointerDownCapture)})});pd.displayName=V3;var G3="DismissableLayerBranch",eA=g.forwardRef((t,e)=>{const n=g.useContext(XN),r=g.useRef(null),s=At(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(dt.div,{...t,ref:s})});eA.displayName=G3;function K3(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){tA(H3,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y3(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&tA(q3,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oS(){const t=new CustomEvent(Oy);document.dispatchEvent(t)}function tA(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ZN(s,o):s.dispatchEvent(o)}var Q3=pd,J3=eA,Gn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},Z3="Portal",Bp=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=g.useState(!1);Gn(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?GN.createPortal(u.jsx(dt.div,{...r,ref:e}),i):null});Bp.displayName=Z3;function X3(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var xc=t=>{const{present:e,children:n}=t,r=eO(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=At(r.ref,tO(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};xc.displayName="Presence";function eO(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[a,l]=X3(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=tf(r.current);o.current=a==="mounted"?c:"none"},[a]),Gn(()=>{const c=r.current,d=s.current;if(d!==t){const h=o.current,p=tf(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Gn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const m=tf(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=p=>{p.target===e&&(o.current=tf(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function tf(t){return(t==null?void 0:t.animationName)||"none"}function tO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=nO({defaultProp:e,onChange:n}),o=t!==void 0,i=o?t:r,a=Or(n),l=g.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[o,t,s,a]);return[i,l]}function nO({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),o=Or(e);return g.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var rO="VisuallyHidden",md=g.forwardRef((t,e)=>u.jsx(dt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));md.displayName=rO;var sO=md,pb="ToastProvider",[mb,oO,iO]=JN("Toast"),[nA,YK]=hd("Toast",[iO]),[aO,zp]=nA(pb),rA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=g.useState(null),[c,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${pb}\`. Expected non-empty \`string\`.`),u.jsx(mb.Provider,{scope:e,children:u.jsx(aO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};rA.displayName=pb;var sA="ToastViewport",lO=["F8"],Ly="toast.viewportPause",Py="toast.viewportResume",oA=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=lO,label:s="Notifications ({hotkey})",...o}=t,i=zp(sA,n),a=oO(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=At(e,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;g.useEffect(()=>{const b=S=>{var E;r.length!==0&&r.every(A=>S[A]||S.code===A)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=l.current,S=f.current;if(v&&b&&S){const x=()=>{if(!i.isClosePausedRef.current){const B=new CustomEvent(Ly);S.dispatchEvent(B),i.isClosePausedRef.current=!0}},E=()=>{if(i.isClosePausedRef.current){const B=new CustomEvent(Py);S.dispatchEvent(B),i.isClosePausedRef.current=!1}},A=B=>{!b.contains(B.relatedTarget)&&E()},k=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",x),b.addEventListener("focusout",A),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",E)}}},[v,i.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:b})=>{const x=a().map(E=>{const A=E.ref.current,k=[A,...xO(A)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return g.useEffect(()=>{const b=f.current;if(b){const S=x=>{var k,B,z;const E=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!E){const U=document.activeElement,K=x.shiftKey;if(x.target===b&&K){(k=c.current)==null||k.focus();return}const J=m({tabbingDirection:K?"backwards":"forwards"}),D=J.findIndex(y=>y===U);Mg(J.slice(D+1))?x.preventDefault():K?(B=c.current)==null||B.focus():(z=d.current)==null||z.focus()}};return b.addEventListener("keydown",S),()=>b.removeEventListener("keydown",S)}},[a,m]),u.jsxs(J3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(Dy,{ref:c,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});Mg(b)}}),u.jsx(mb.Slot,{scope:n,children:u.jsx(dt.ol,{tabIndex:-1,...o,ref:h})}),v&&u.jsx(Dy,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});Mg(b)}})]})});oA.displayName=sA;var iA="ToastFocusProxy",Dy=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=zp(iA,n);return u.jsx(md,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});Dy.displayName=iA;var $p="Toast",cO="toast.swipeStart",uO="toast.swipeMove",dO="toast.swipeCancel",fO="toast.swipeEnd",aA=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a=!0,l]=Uh({prop:r,defaultProp:s,onChange:o});return u.jsx(xc,{present:n||a,children:u.jsx(mO,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:Or(t.onPause),onResume:Or(t.onResume),onSwipeStart:Ye(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ye(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});aA.displayName=$p;var[hO,pO]=nA($p,{onClose(){}}),mO=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=t,m=zp($p,n),[b,S]=g.useState(null),x=At(e,y=>S(y)),E=g.useRef(null),A=g.useRef(null),k=s||m.duration,B=g.useRef(0),z=g.useRef(k),U=g.useRef(0),{onToastAdd:K,onToastRemove:V}=m,q=Or(()=>{var _;(b==null?void 0:b.contains(document.activeElement))&&((_=m.viewport)==null||_.focus()),i()}),J=g.useCallback(y=>{!y||y===1/0||(window.clearTimeout(U.current),B.current=new Date().getTime(),U.current=window.setTimeout(q,y))},[q]);g.useEffect(()=>{const y=m.viewport;if(y){const _=()=>{J(z.current),c==null||c()},T=()=>{const R=new Date().getTime()-B.current;z.current=z.current-R,window.clearTimeout(U.current),l==null||l()};return y.addEventListener(Ly,T),y.addEventListener(Py,_),()=>{y.removeEventListener(Ly,T),y.removeEventListener(Py,_)}}},[m.viewport,k,l,c,J]),g.useEffect(()=>{o&&!m.isClosePausedRef.current&&J(k)},[o,k,m.isClosePausedRef,J]),g.useEffect(()=>(K(),()=>V()),[K,V]);const D=g.useMemo(()=>b?pA(b):null,[b]);return m.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx(gO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),u.jsx(hO,{scope:n,onClose:q,children:Co.createPortal(u.jsx(mb.ItemSlot,{scope:n,children:u.jsx(Q3,{asChild:!0,onEscapeKeyDown:Ye(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||q(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ye(t.onKeyDown,y=>{y.key==="Escape"&&(a==null||a(y.nativeEvent),y.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Ye(t.onPointerDown,y=>{y.button===0&&(E.current={x:y.clientX,y:y.clientY})}),onPointerMove:Ye(t.onPointerMove,y=>{if(!E.current)return;const _=y.clientX-E.current.x,T=y.clientY-E.current.y,R=!!A.current,M=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,P=M?j(0,_):0,I=M?0:j(0,T),w=y.pointerType==="touch"?10:2,O={x:P,y:I},G={originalEvent:y,delta:O};R?(A.current=O,nf(uO,f,G,{discrete:!1})):iS(O,m.swipeDirection,w)?(A.current=O,nf(cO,d,G,{discrete:!1}),y.target.setPointerCapture(y.pointerId)):(Math.abs(_)>w||Math.abs(T)>w)&&(E.current=null)}),onPointerUp:Ye(t.onPointerUp,y=>{const _=A.current,T=y.target;if(T.hasPointerCapture(y.pointerId)&&T.releasePointerCapture(y.pointerId),A.current=null,E.current=null,_){const R=y.currentTarget,M={originalEvent:y,delta:_};iS(_,m.swipeDirection,m.swipeThreshold)?nf(fO,p,M,{discrete:!0}):nf(dO,h,M,{discrete:!0}),R.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),gO=t=>{const{__scopeToast:e,children:n,...r}=t,s=zp($p,e),[o,i]=g.useState(!1),[a,l]=g.useState(!1);return wO(()=>i(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Bp,{asChild:!0,children:u.jsx(md,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},yO="ToastTitle",lA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(dt.div,{...r,ref:e})});lA.displayName=yO;var vO="ToastDescription",cA=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(dt.div,{...r,ref:e})});cA.displayName=vO;var uA="ToastAction",dA=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(hA,{altText:n,asChild:!0,children:u.jsx(gb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${uA}\`. Expected non-empty \`string\`.`),null)});dA.displayName=uA;var fA="ToastClose",gb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=pO(fA,n);return u.jsx(hA,{asChild:!0,children:u.jsx(dt.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,s.onClose)})})});gb.displayName=fA;var hA=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function pA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...pA(r))}}),e}function nf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ZN(s,o):s.dispatchEvent(o)}var iS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function wO(t=()=>{}){const e=Or(t);Gn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bO(t){return t.nodeType===t.ELEMENT_NODE}function xO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SO=rA,mA=oA,gA=aA,yA=lA,vA=cA,wA=dA,bA=gb;function xA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xA(t))&&(r&&(r+=" "),r+=e);return r}const aS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lS=SA,Sc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return lS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=aS(d)||aS(f);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,b]=v;return Array.isArray(b)?b.includes({...o,...a}[m]):{...o,...a}[m]===b})?[...c,f,h]:c},[]);return lS(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>g.createElement("svg",{ref:l,..._O,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:EA("lucide",s),...a},[...i.map(([c,d])=>g.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=g.forwardRef(({className:r,...s},o)=>g.createElement(NO,{ref:o,iconNode:e,className:EA(`lucide-${EO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=vt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=vt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=vt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=vt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=vt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=vt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=vt("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=vt("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=vt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=vt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=vt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=vt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=vt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=vt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=vt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=vt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=vt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=vt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=vt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=vt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=vt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),wb="-",DO=t=>{const e=zO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(wb);return a[0]===""&&a.length!==1&&a.shift(),IA(a,e)||BO(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},IA=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?IA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(wb);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},fS=/^\[(.+)\]$/,BO=t=>{if(fS.test(t)){const e=fS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UO(Object.entries(t.classGroups),n).forEach(([o,i])=>{$y(i,r,o,e)}),r},$y=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:hS(e,s);o.classGroupId=n;return}if(typeof s=="function"){if($O(s)){$y(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{$y(i,hS(e,o),n,r)})})},hS=(t,e)=>{let n=t;return e.split(wb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$O=t=>t.isThemeGetter,UO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,FO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},jA="!",WO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let c=0,d=0,f;for(let b=0;b<a.length;b++){let S=a[b];if(c===0){if(S===s&&(r||a.slice(b,b+o)===e)){l.push(a.slice(d,b)),d=b+o;continue}if(S==="/"){f=b;continue}}S==="["?c++:S==="]"&&c--}const h=l.length===0?a:a.substring(d),p=h.startsWith(jA),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},VO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},HO=t=>({cache:FO(t.cacheSize),parseClassName:WO(t),...DO(t)}),qO=/\s+/,GO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(qO);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let v=!!p,m=r(v?h.substring(0,p):h);if(!m){if(!v){a=c+(a.length>0?" "+a:a);continue}if(m=r(h),!m){a=c+(a.length>0?" "+a:a);continue}v=!1}const b=VO(d).join(":"),S=f?b+jA:b,x=S+m;if(o.includes(x))continue;o.push(x);const E=s(m,v);for(let A=0;A<E.length;++A){const k=E[A];o.push(S+k)}a=c+(a.length>0?" "+a:a)}return a};function KO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RA(e))&&(r&&(r+=" "),r+=n);return r}const RA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=RA(t[r]))&&(n&&(n+=" "),n+=e);return n};function YO(t,...e){let n,r,s,o=i;function i(l){const c=e.reduce((d,f)=>f(d),t());return n=HO(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=GO(l,n);return s(l,d),d}return function(){return o(KO.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OA=/^\[(?:([a-z-]+):)?(.+)\]$/i,QO=/^\d+\/\d+$/,JO=new Set(["px","full","screen"]),ZO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gs=t=>jl(t)||JO.has(t)||QO.test(t),To=t=>Ec(t,"length",u5),jl=t=>!!t&&!Number.isNaN(Number(t)),Tg=t=>Ec(t,"number",jl),Hc=t=>!!t&&Number.isInteger(Number(t)),r5=t=>t.endsWith("%")&&jl(t.slice(0,-1)),Qe=t=>OA.test(t),Io=t=>ZO.test(t),s5=new Set(["length","size","percentage"]),o5=t=>Ec(t,s5,LA),i5=t=>Ec(t,"position",LA),a5=new Set(["image","url"]),l5=t=>Ec(t,a5,f5),c5=t=>Ec(t,"",d5),qc=()=>!0,Ec=(t,e,n)=>{const r=OA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},u5=t=>XO.test(t)&&!e5.test(t),LA=()=>!1,d5=t=>t5.test(t),f5=t=>n5.test(t),h5=()=>{const t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),s=Ot("borderColor"),o=Ot("borderRadius"),i=Ot("borderSpacing"),a=Ot("borderWidth"),l=Ot("contrast"),c=Ot("grayscale"),d=Ot("hueRotate"),f=Ot("invert"),h=Ot("gap"),p=Ot("gradientColorStops"),v=Ot("gradientColorStopPositions"),m=Ot("inset"),b=Ot("margin"),S=Ot("opacity"),x=Ot("padding"),E=Ot("saturate"),A=Ot("scale"),k=Ot("sepia"),B=Ot("skew"),z=Ot("space"),U=Ot("translate"),K=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Qe,e],J=()=>[Qe,e],D=()=>["",Gs,To],y=()=>["auto",jl,Qe],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Qe],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[jl,Qe];return{cacheSize:500,separator:":",theme:{colors:[qc],spacing:[Gs,To],blur:["none","",Io,Qe],brightness:I(),borderColor:[t],borderRadius:["none","","full",Io,Qe],borderSpacing:J(),borderWidth:D(),contrast:I(),grayscale:j(),hueRotate:I(),invert:j(),gap:J(),gradientColorStops:[t],gradientColorStopPositions:[r5,To],inset:q(),margin:q(),opacity:I(),padding:J(),saturate:I(),scale:I(),sepia:j(),skew:I(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Io]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),Qe]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hc,Qe]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Hc,Qe]}],"grid-cols":[{"grid-cols":[qc]}],"col-start-end":[{col:["auto",{span:["full",Hc,Qe]},Qe]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[qc]}],"row-start-end":[{row:["auto",{span:[Hc,Qe]},Qe]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,e]}],"min-w":[{"min-w":[Qe,e,"min","max","fit"]}],"max-w":[{"max-w":[Qe,e,"none","full","min","max","fit","prose",{screen:[Io]},Io]}],h:[{h:[Qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Io,To]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tg]}],"font-family":[{font:[qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",jl,Tg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gs,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gs,To]}],"underline-offset":[{"underline-offset":["auto",Gs,Qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),i5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",o5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Gs,Qe]}],"outline-w":[{outline:[Gs,To]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Gs,To]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Io,c5]}],"shadow-color":[{shadow:[qc]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Io,Qe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Hc,Qe]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gs,To,Tg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p5=YO(h5);function Ce(...t){return p5(SA(t))}const m5=SO,PA=g.forwardRef(({className:t,...e},n)=>u.jsx(mA,{ref:n,className:Ce("fixed top-4 right-4 z-[100] flex max-h-screen w-full flex-col space-y-2 md:max-w-[420px]",t),...e}));PA.displayName=mA.displayName;const g5=Sc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-4 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-right-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",elimination:"border-cyber-cyan bg-background/90 text-foreground shadow-[0_0_20px_theme(colors.cyber.cyan/0.3)] backdrop-blur-sm",victory:"border-cyber-green bg-background/90 text-foreground shadow-[0_0_20px_theme(colors.cyber.green/0.3)] backdrop-blur-sm",death:"border-cyber-magenta bg-background/90 text-foreground shadow-[0_0_20px_theme(colors.cyber.magenta/0.3)] backdrop-blur-sm",zone:"border-cyber-orange bg-background/90 text-foreground shadow-[0_0_20px_theme(colors.cyber.orange/0.3)] backdrop-blur-sm"}},defaultVariants:{variant:"default"}}),DA=g.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(gA,{ref:r,className:Ce(g5({variant:e}),t),...n}));DA.displayName=gA.displayName;const y5=g.forwardRef(({className:t,...e},n)=>u.jsx(wA,{ref:n,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));y5.displayName=wA.displayName;const BA=g.forwardRef(({className:t,...e},n)=>u.jsx(bA,{ref:n,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(vb,{className:"h-4 w-4"})}));BA.displayName=bA.displayName;const zA=g.forwardRef(({className:t,...e},n)=>u.jsx(yA,{ref:n,className:Ce("text-sm font-semibold",t),...e}));zA.displayName=yA.displayName;const $A=g.forwardRef(({className:t,...e},n)=>u.jsx(vA,{ref:n,className:Ce("text-sm opacity-90",t),...e}));$A.displayName=vA.displayName;function v5(){const{toasts:t}=Ss();return u.jsxs(m5,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return u.jsxs(DA,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(zA,{children:n}),r&&u.jsx($A,{children:r})]}),s,u.jsx(BA,{})]},e)}),u.jsx(PA,{})]})}var pS=["light","dark"],w5="(prefers-color-scheme: dark)",b5=g.createContext(void 0),x5={setTheme:t=>{},themes:[]},S5=()=>{var t;return(t=g.useContext(b5))!=null?t:x5};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?pS.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,b=!0)=>{let S=i?i[v]:v,x=m?v+"|| ''":`'${S}'`,E="";return s&&b&&!m&&pS.includes(v)&&(E+=`d.style.colorScheme = '${v}';`),n==="class"?m||S?E+=`c.add(${x})`:E+="null":S&&(E+=`d[s](n,${x})`),E},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${w5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var E5=t=>{switch(t){case"success":return A5;case"info":return k5;case"warning":return C5;case"error":return M5;default:return null}},_5=Array(12).fill(0),N5=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},_5.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),A5=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C5=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),k5=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M5=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T5=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Uy=1,I5=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Uy++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async o=>{if(R5(o)&&!o.ok){s=!1;let i=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:n,type:"error",message:i,description:a})}else if(e.success!==void 0){s=!1;let i=typeof e.success=="function"?await e.success(o):e.success,a=typeof e.description=="function"?await e.description(o):e.description;this.create({id:n,type:"success",message:i,description:a})}}).catch(async o=>{if(e.error!==void 0){s=!1;let i=typeof e.error=="function"?await e.error(o):e.error,a=typeof e.description=="function"?await e.description(o):e.description;this.create({id:n,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=e.finally)==null||o.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Uy++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},xr=new I5,j5=(t,e)=>{let n=(e==null?void 0:e.id)||Uy++;return xr.addToast({title:t,...e,id:n}),n},R5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",O5=j5,L5=()=>xr.toasts;Object.assign(O5,{success:xr.success,info:xr.info,warning:xr.warning,error:xr.error,custom:xr.custom,message:xr.message,promise:xr.promise,dismiss:xr.dismiss,loading:xr.loading},{getHistory:L5});function P5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}P5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rf(t){return t.label!==void 0}var D5=3,B5="32px",z5=4e3,$5=356,U5=14,F5=20,W5=200;function V5(...t){return t.filter(Boolean).join(" ")}var H5=t=>{var e,n,r,s,o,i,a,l,c,d;let{invert:f,toast:h,unstyled:p,interacting:v,setHeights:m,visibleToasts:b,heights:S,index:x,toasts:E,expanded:A,removeToast:k,defaultRichColors:B,closeButton:z,style:U,cancelButtonStyle:K,actionButtonStyle:V,className:q="",descriptionClassName:J="",duration:D,position:y,gap:_,loadingIcon:T,expandByDefault:R,classNames:M,icons:j,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:I,cn:w}=t,[O,G]=H.useState(!1),[X,ee]=H.useState(!1),[oe,ue]=H.useState(!1),[we,Te]=H.useState(!1),[Se,ye]=H.useState(0),[Fe,se]=H.useState(0),he=H.useRef(null),Ee=H.useRef(null),Oe=x===0,Ze=x+1<=b,xt=h.type,He=h.dismissible!==!1,nt=h.className||"",nn=h.descriptionClassName||"",gt=H.useMemo(()=>S.findIndex(de=>de.toastId===h.id)||0,[S,h.id]),$e=H.useMemo(()=>{var de;return(de=h.closeButton)!=null?de:z},[h.closeButton,z]),Ct=H.useMemo(()=>h.duration||D||z5,[h.duration,D]),ct=H.useRef(0),L=H.useRef(0),N=H.useRef(0),C=H.useRef(null),[$,W]=y.split("-"),Y=H.useMemo(()=>S.reduce((de,ne,me)=>me>=gt?de:de+ne.height,0),[S,gt]),te=T5(),qe=h.invert||f,ze=xt==="loading";L.current=H.useMemo(()=>gt*_+Y,[gt,Y]),H.useEffect(()=>{G(!0)},[]),H.useLayoutEffect(()=>{if(!O)return;let de=Ee.current,ne=de.style.height;de.style.height="auto";let me=de.getBoundingClientRect().height;de.style.height=ne,se(me),m(ge=>ge.find(F=>F.toastId===h.id)?ge.map(F=>F.toastId===h.id?{...F,height:me}:F):[{toastId:h.id,height:me,position:h.position},...ge])},[O,h.title,h.description,m,h.id]);let Ie=H.useCallback(()=>{ee(!0),ye(L.current),m(de=>de.filter(ne=>ne.toastId!==h.id)),setTimeout(()=>{k(h)},W5)},[h,k,m,L]);H.useEffect(()=>{if(h.promise&&xt==="loading"||h.duration===1/0||h.type==="loading")return;let de,ne=Ct;return A||v||I&&te?(()=>{if(N.current<ct.current){let me=new Date().getTime()-ct.current;ne=ne-me}N.current=new Date().getTime()})():ne!==1/0&&(ct.current=new Date().getTime(),de=setTimeout(()=>{var me;(me=h.onAutoClose)==null||me.call(h,h),Ie()},ne)),()=>clearTimeout(de)},[A,v,R,h,Ct,Ie,h.promise,xt,I,te]),H.useEffect(()=>{let de=Ee.current;if(de){let ne=de.getBoundingClientRect().height;return se(ne),m(me=>[{toastId:h.id,height:ne,position:h.position},...me]),()=>m(me=>me.filter(ge=>ge.toastId!==h.id))}},[m,h.id]),H.useEffect(()=>{h.delete&&Ie()},[Ie,h.delete]);function wt(){return j!=null&&j.loading?H.createElement("div",{className:"sonner-loader","data-visible":xt==="loading"},j.loading):T?H.createElement("div",{className:"sonner-loader","data-visible":xt==="loading"},T):H.createElement(N5,{visible:xt==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ee,className:w(q,nt,M==null?void 0:M.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[xt],(n=h==null?void 0:h.classNames)==null?void 0:n[xt]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:B,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":O,"data-promise":!!h.promise,"data-removed":X,"data-visible":Ze,"data-y-position":$,"data-x-position":W,"data-index":x,"data-front":Oe,"data-swiping":oe,"data-dismissible":He,"data-type":xt,"data-invert":qe,"data-swipe-out":we,"data-expanded":!!(A||R&&O),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${X?Se:L.current}px`,"--initial-height":R?"auto":`${Fe}px`,...U,...h.style},onPointerDown:de=>{ze||!He||(he.current=new Date,ye(L.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(ue(!0),C.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,ne,me,ge;if(we||!He)return;C.current=null;let F=Number(((de=Ee.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),re=new Date().getTime()-((ne=he.current)==null?void 0:ne.getTime()),Re=Math.abs(F)/re;if(Math.abs(F)>=F5||Re>.11){ye(L.current),(me=h.onDismiss)==null||me.call(h,h),Ie(),Te(!0);return}(ge=Ee.current)==null||ge.style.setProperty("--swipe-amount","0px"),ue(!1)},onPointerMove:de=>{var ne;if(!C.current||!He)return;let me=de.clientY-C.current.y,ge=de.clientX-C.current.x,F=($==="top"?Math.min:Math.max)(0,me),re=de.pointerType==="touch"?10:2;Math.abs(F)>re?(ne=Ee.current)==null||ne.style.setProperty("--swipe-amount",`${me}px`):Math.abs(ge)>re&&(C.current=null)}},$e&&!h.jsx?H.createElement("button",{"aria-label":P,"data-disabled":ze,"data-close-button":!0,onClick:ze||!He?()=>{}:()=>{var de;Ie(),(de=h.onDismiss)==null||de.call(h,h)},className:w(M==null?void 0:M.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,xt||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:w(M==null?void 0:M.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||wt():null,h.type!=="loading"?h.icon||(j==null?void 0:j[xt])||E5(xt):null):null,H.createElement("div",{"data-content":"",className:w(M==null?void 0:M.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},H.createElement("div",{"data-title":"",className:w(M==null?void 0:M.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:w(J,nn,M==null?void 0:M.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&rf(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||K,onClick:de=>{var ne,me;rf(h.cancel)&&He&&((me=(ne=h.cancel).onClick)==null||me.call(ne,de),Ie())},className:w(M==null?void 0:M.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&rf(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||V,onClick:de=>{var ne,me;rf(h.action)&&(de.defaultPrevented||((me=(ne=h.action).onClick)==null||me.call(ne,de),Ie()))},className:w(M==null?void 0:M.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function mS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var q5=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=D5,toastOptions:p,dir:v=mS(),gap:m=U5,loadingIcon:b,icons:S,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:E,cn:A=V5}=t,[k,B]=H.useState([]),z=H.useMemo(()=>Array.from(new Set([n].concat(k.filter(I=>I.position).map(I=>I.position)))),[k,n]),[U,K]=H.useState([]),[V,q]=H.useState(!1),[J,D]=H.useState(!1),[y,_]=H.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=H.useRef(null),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=H.useRef(null),j=H.useRef(!1),P=H.useCallback(I=>{var w;(w=k.find(O=>O.id===I.id))!=null&&w.delete||xr.dismiss(I.id),B(O=>O.filter(({id:G})=>G!==I.id))},[k]);return H.useEffect(()=>xr.subscribe(I=>{if(I.dismiss){B(w=>w.map(O=>O.id===I.id?{...O,delete:!0}:O));return}setTimeout(()=>{GN.flushSync(()=>{B(w=>{let O=w.findIndex(G=>G.id===I.id);return O!==-1?[...w.slice(0,O),{...w[O],...I},...w.slice(O+1)]:[I,...w]})})})}),[]),H.useEffect(()=>{if(l!=="system"){_(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_("dark"):_("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:I})=>{_(I?"dark":"light")})},[l]),H.useEffect(()=>{k.length<=1&&q(!1)},[k]),H.useEffect(()=>{let I=w=>{var O,G;r.every(X=>w[X]||w.code===X)&&(q(!0),(O=T.current)==null||O.focus()),w.code==="Escape"&&(document.activeElement===T.current||(G=T.current)!=null&&G.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),H.useEffect(()=>{if(T.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,j.current=!1)}},[T.current]),k.length?H.createElement("section",{"aria-label":`${x} ${R}`,tabIndex:-1},z.map((I,w)=>{var O;let[G,X]=I.split("-");return H.createElement("ol",{key:I,dir:v==="auto"?mS():v,tabIndex:-1,ref:T,className:i,"data-sonner-toaster":!0,"data-theme":y,"data-y-position":G,"data-x-position":X,style:{"--front-toast-height":`${((O=U[0])==null?void 0:O.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||B5,"--width":`${$5}px`,"--gap":`${m}px`,...f},onBlur:ee=>{j.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(j.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||j.current||(j.current=!0,M.current=ee.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{J||q(!1)},onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},k.filter(ee=>!ee.position&&w===0||ee.position===I).map((ee,oe)=>{var ue,we;return H.createElement(H5,{key:ee.id,icons:S,index:oe,toast:ee,defaultRichColors:c,duration:(ue=p==null?void 0:p.duration)!=null?ue:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(we=p==null?void 0:p.closeButton)!=null?we:o,interacting:J,position:I,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:P,toasts:k.filter(Te=>Te.position==ee.position),heights:U.filter(Te=>Te.position==ee.position),setHeights:K,expandByDefault:s,gap:m,loadingIcon:b,expanded:V,pauseWhenPageIsHidden:E,cn:A})}))})):null};const G5=({...t})=>{const{theme:e="system"}=S5();return u.jsx(q5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var K5=Sw.useId||(()=>{}),Y5=0;function Rl(t){const[e,n]=g.useState(K5());return Gn(()=>{n(r=>r??String(Y5++))},[t]),e?`radix-${e}`:""}const Q5=["top","right","bottom","left"],Ai=Math.min,Mr=Math.max,Fh=Math.round,sf=Math.floor,Ci=t=>({x:t,y:t}),J5={left:"right",right:"left",bottom:"top",top:"bottom"},Z5={start:"end",end:"start"};function Fy(t,e,n){return Mr(t,Ai(e,n))}function bo(t,e){return typeof t=="function"?t(e):t}function xo(t){return t.split("-")[0]}function _c(t){return t.split("-")[1]}function bb(t){return t==="x"?"y":"x"}function xb(t){return t==="y"?"height":"width"}function ki(t){return["top","bottom"].includes(xo(t))?"y":"x"}function Sb(t){return bb(ki(t))}function X5(t,e,n){n===void 0&&(n=!1);const r=_c(t),s=Sb(t),o=xb(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Wh(i)),[i,Wh(i)]}function eL(t){const e=Wh(t);return[Wy(t),e,Wy(e)]}function Wy(t){return t.replace(/start|end/g,e=>Z5[e])}function tL(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function nL(t,e,n,r){const s=_c(t);let o=tL(xo(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Wy)))),o}function Wh(t){return t.replace(/left|right|bottom|top/g,e=>J5[e])}function rL(t){return{top:0,right:0,bottom:0,left:0,...t}}function UA(t){return typeof t!="number"?rL(t):{top:t,right:t,bottom:t,left:t}}function Vh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function gS(t,e,n){let{reference:r,floating:s}=t;const o=ki(e),i=Sb(e),a=xb(i),l=xo(e),c=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(_c(e)){case"start":p[i]-=h*(n&&c?-1:1);break;case"end":p[i]+=h*(n&&c?-1:1);break}return p}const sL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=gS(c,r,l),h=r,p={},v=0;for(let m=0;m<a.length;m++){const{name:b,fn:S}=a[m],{x,y:E,data:A,reset:k}=await S({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});d=x??d,f=E??f,p={...p,[b]:{...p[b],...A}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=gS(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Gu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=bo(e,t),v=UA(p),b=a[h?f==="floating"?"reference":"floating":f],S=Vh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},k=Vh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:E,strategy:l}):x);return{top:(S.top-k.top+v.top)/A.y,bottom:(k.bottom-S.bottom+v.bottom)/A.y,left:(S.left-k.left+v.left)/A.x,right:(k.right-S.right+v.right)/A.x}}const oL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=bo(t,e)||{};if(c==null)return{};const f=UA(d),h={x:n,y:r},p=Sb(s),v=xb(p),m=await i.getDimensions(c),b=p==="y",S=b?"top":"left",x=b?"bottom":"right",E=b?"clientHeight":"clientWidth",A=o.reference[v]+o.reference[p]-h[p]-o.floating[v],k=h[p]-o.reference[p],B=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let z=B?B[E]:0;(!z||!await(i.isElement==null?void 0:i.isElement(B)))&&(z=a.floating[E]||o.floating[v]);const U=A/2-k/2,K=z/2-m[v]/2-1,V=Ai(f[S],K),q=Ai(f[x],K),J=V,D=z-m[v]-q,y=z/2-m[v]/2+U,_=Fy(J,y,D),T=!l.arrow&&_c(s)!=null&&y!==_&&o.reference[v]/2-(y<J?V:q)-m[v]/2<0,R=T?y<J?y-J:y-D:0;return{[p]:h[p]+R,data:{[p]:_,centerOffset:y-_-R,...T&&{alignmentOffset:R}},reset:T}}}),iL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...b}=bo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=xo(s),x=ki(a),E=xo(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(E||!m?[Wh(a)]:eL(a)),B=v!=="none";!h&&B&&k.push(...nL(a,m,v,A));const z=[a,...k],U=await Gu(e,b),K=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&K.push(U[S]),f){const y=X5(s,i,A);K.push(U[y[0]],U[y[1]])}if(V=[...V,{placement:s,overflows:K}],!K.every(y=>y<=0)){var q,J;const y=(((q=o.flip)==null?void 0:q.index)||0)+1,_=z[y];if(_)return{data:{index:y,overflows:V},reset:{placement:_}};let T=(J=V.filter(R=>R.overflows[0]<=0).sort((R,M)=>R.overflows[1]-M.overflows[1])[0])==null?void 0:J.placement;if(!T)switch(p){case"bestFit":{var D;const R=(D=V.filter(M=>{if(B){const j=ki(M.placement);return j===x||j==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(j=>j>0).reduce((j,P)=>j+P,0)]).sort((M,j)=>M[1]-j[1])[0])==null?void 0:D[0];R&&(T=R);break}case"initialPlacement":T=a;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function yS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vS(t){return Q5.some(e=>t[e]>=0)}const aL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=bo(t,e);switch(r){case"referenceHidden":{const o=await Gu(e,{...s,elementContext:"reference"}),i=yS(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:vS(i)}}}case"escaped":{const o=await Gu(e,{...s,altBoundary:!0}),i=yS(o,n.floating);return{data:{escapedOffsets:i,escaped:vS(i)}}}default:return{}}}}};async function lL(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=xo(n),a=_c(n),l=ki(n)==="y",c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,f=bo(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const cL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await lL(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},uL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:S,y:x}=b;return{x:S,y:x}}},...l}=bo(t,e),c={x:n,y:r},d=await Gu(e,l),f=ki(xo(s)),h=bb(f);let p=c[h],v=c[f];if(o){const b=h==="y"?"top":"left",S=h==="y"?"bottom":"right",x=p+d[b],E=p-d[S];p=Fy(x,p,E)}if(i){const b=f==="y"?"top":"left",S=f==="y"?"bottom":"right",x=v+d[b],E=v-d[S];v=Fy(x,v,E)}const m=a.fn({...e,[h]:p,[f]:v});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[f]:i}}}}}},dL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=bo(t,e),d={x:n,y:r},f=ki(s),h=bb(f);let p=d[h],v=d[f];const m=bo(a,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const E=h==="y"?"height":"width",A=o.reference[h]-o.floating[E]+b.mainAxis,k=o.reference[h]+o.reference[E]-b.mainAxis;p<A?p=A:p>k&&(p=k)}if(c){var S,x;const E=h==="y"?"width":"height",A=["top","left"].includes(xo(s)),k=o.reference[f]-o.floating[E]+(A&&((S=i.offset)==null?void 0:S[f])||0)+(A?0:b.crossAxis),B=o.reference[f]+o.reference[E]+(A?0:((x=i.offset)==null?void 0:x[f])||0)-(A?b.crossAxis:0);v<k?v=k:v>B&&(v=B)}return{[h]:p,[f]:v}}}},fL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...c}=bo(t,e),d=await Gu(e,c),f=xo(s),h=_c(s),p=ki(s)==="y",{width:v,height:m}=o.floating;let b,S;f==="top"||f==="bottom"?(b=f,S=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(S=f,b=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,E=v-d.left-d.right,A=Ai(m-d[b],x),k=Ai(v-d[S],E),B=!e.middlewareData.shift;let z=A,U=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=x),B&&!h){const V=Mr(d.left,0),q=Mr(d.right,0),J=Mr(d.top,0),D=Mr(d.bottom,0);p?U=v-2*(V!==0||q!==0?V+q:Mr(d.left,d.right)):z=m-2*(J!==0||D!==0?J+D:Mr(d.top,d.bottom))}await l({...e,availableWidth:U,availableHeight:z});const K=await i.getDimensions(a.floating);return v!==K.width||m!==K.height?{reset:{rects:!0}}:{}}}};function Wp(){return typeof window<"u"}function Nc(t){return FA(t)?(t.nodeName||"").toLowerCase():"#document"}function jr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fs(t){var e;return(e=(FA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FA(t){return Wp()?t instanceof Node||t instanceof jr(t).Node:!1}function ws(t){return Wp()?t instanceof Element||t instanceof jr(t).Element:!1}function zs(t){return Wp()?t instanceof HTMLElement||t instanceof jr(t).HTMLElement:!1}function wS(t){return!Wp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jr(t).ShadowRoot}function gd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function hL(t){return["table","td","th"].includes(Nc(t))}function Vp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Eb(t){const e=_b(),n=ws(t)?bs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pL(t){let e=Mi(t);for(;zs(e)&&!sc(e);){if(Eb(e))return e;if(Vp(e))return null;e=Mi(e)}return null}function _b(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sc(t){return["html","body","#document"].includes(Nc(t))}function bs(t){return jr(t).getComputedStyle(t)}function Hp(t){return ws(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(Nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wS(t)&&t.host||Fs(t);return wS(e)?e.host:e}function WA(t){const e=Mi(t);return sc(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&gd(e)?e:WA(e)}function Ku(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=WA(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=jr(s);if(o){const a=Vy(i);return e.concat(i,i.visualViewport||[],gd(s)?s:[],a&&n?Ku(a):[])}return e.concat(s,Ku(s,[],n))}function Vy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VA(t){const e=bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=zs(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=Fh(n)!==o||Fh(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Nb(t){return ws(t)?t:t.contextElement}function Ol(t){const e=Nb(t);if(!zs(e))return Ci(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=VA(e);let i=(o?Fh(n.width):n.width)/r,a=(o?Fh(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const mL=Ci(0);function HA(t){const e=jr(t);return!_b()||!e.visualViewport?mL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jr(t)?!1:e}function Aa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Nb(t);let i=Ci(1);e&&(r?ws(r)&&(i=Ol(r)):i=Ol(t));const a=gL(o,n,r)?HA(o):Ci(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=jr(o),p=r&&ws(r)?jr(r):r;let v=h,m=Vy(v);for(;m&&r&&p!==v;){const b=Ol(m),S=m.getBoundingClientRect(),x=bs(m),E=S.left+(m.clientLeft+parseFloat(x.paddingLeft))*b.x,A=S.top+(m.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=E,c+=A,v=jr(m),m=Vy(v)}}return Vh({width:d,height:f,x:l,y:c})}function yL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Fs(r),a=e?Vp(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ci(1);const d=Ci(0),f=zs(r);if((f||!f&&!o)&&((Nc(r)!=="body"||gd(i))&&(l=Hp(r)),zs(r))){const h=Aa(r);c=Ol(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function vL(t){return Array.from(t.getClientRects())}function Hy(t,e){const n=Hp(t).scrollLeft;return e?e.left+n:Aa(Fs(t)).left+n}function wL(t){const e=Fs(t),n=Hp(t),r=t.ownerDocument.body,s=Mr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Mr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Hy(t);const a=-n.scrollTop;return bs(r).direction==="rtl"&&(i+=Mr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function bL(t,e){const n=jr(t),r=Fs(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=_b();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function xL(t,e){const n=Aa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=zs(t)?Ol(t):Ci(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function bS(t,e,n){let r;if(e==="viewport")r=bL(t,n);else if(e==="document")r=wL(Fs(t));else if(ws(e))r=xL(e,n);else{const s=HA(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Vh(r)}function qA(t,e){const n=Mi(t);return n===e||!ws(n)||sc(n)?!1:bs(n).position==="fixed"||qA(n,e)}function SL(t,e){const n=e.get(t);if(n)return n;let r=Ku(t,[],!1).filter(a=>ws(a)&&Nc(a)!=="body"),s=null;const o=bs(t).position==="fixed";let i=o?Mi(t):t;for(;ws(i)&&!sc(i);){const a=bs(i),l=Eb(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||gd(i)&&!l&&qA(t,i))?r=r.filter(d=>d!==i):s=a,i=Mi(i)}return e.set(t,r),r}function EL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Vp(e)?[]:SL(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const f=bS(e,d,s);return c.top=Mr(f.top,c.top),c.right=Ai(f.right,c.right),c.bottom=Ai(f.bottom,c.bottom),c.left=Mr(f.left,c.left),c},bS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _L(t){const{width:e,height:n}=VA(t);return{width:e,height:n}}function NL(t,e,n){const r=zs(e),s=Fs(e),o=n==="fixed",i=Aa(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Ci(0);if(r||!r&&!o)if((Nc(e)!=="body"||gd(s))&&(a=Hp(e)),r){const p=Aa(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=Hy(s));let c=0,d=0;if(s&&!r&&!o){const p=s.getBoundingClientRect();d=p.top+a.scrollTop,c=p.left+a.scrollLeft-Hy(s,p)}const f=i.left+a.scrollLeft-l.x-c,h=i.top+a.scrollTop-l.y-d;return{x:f,y:h,width:i.width,height:i.height}}function Ig(t){return bs(t).position==="static"}function xS(t,e){if(!zs(t)||bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fs(t)===n&&(n=n.ownerDocument.body),n}function GA(t,e){const n=jr(t);if(Vp(t))return n;if(!zs(t)){let s=Mi(t);for(;s&&!sc(s);){if(ws(s)&&!Ig(s))return s;s=Mi(s)}return n}let r=xS(t,e);for(;r&&hL(r)&&Ig(r);)r=xS(r,e);return r&&sc(r)&&Ig(r)&&!Eb(r)?n:r||pL(t)||n}const AL=async function(t){const e=this.getOffsetParent||GA,n=this.getDimensions,r=await n(t.floating);return{reference:NL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CL(t){return bs(t).direction==="rtl"}const kL={convertOffsetParentRelativeRectToViewportRelativeRect:yL,getDocumentElement:Fs,getClippingRect:EL,getOffsetParent:GA,getElementRects:AL,getClientRects:vL,getDimensions:_L,getScale:Ol,isElement:ws,isRTL:CL};function ML(t,e){let n=null,r;const s=Fs(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const p=sf(d),v=sf(s.clientWidth-(c+f)),m=sf(s.clientHeight-(d+h)),b=sf(c),x={rootMargin:-p+"px "+-v+"px "+-m+"px "+-b+"px",threshold:Mr(0,Ai(1,l))||1};let E=!0;function A(k){const B=k[0].intersectionRatio;if(B!==l){if(!E)return i();B?i(!1,B):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(A,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return i(!0),o}function TL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Nb(t),d=s||o?[...c?Ku(c):[],...Ku(e)]:[];d.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const f=c&&a?ML(c,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(S=>{let[x]=S;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let v,m=l?Aa(t):null;l&&b();function b(){const S=Aa(t);m&&(S.x!==m.x||S.y!==m.y||S.width!==m.width||S.height!==m.height)&&n(),m=S,v=requestAnimationFrame(b)}return n(),()=>{var S;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(S=p)==null||S.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const IL=cL,jL=uL,RL=iL,OL=fL,LL=aL,SS=oL,PL=dL,DL=(t,e,n)=>{const r=new Map,s={platform:kL,...n},o={...s.platform,_c:r};return sL(t,e,{...s,platform:o})};var Ff=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Hh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Hh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function KA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ES(t,e){const n=KA(t);return Math.round(e*n)/n}function jg(t){const e=g.useRef(t);return Ff(()=>{e.current=t}),e}function BL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(r);Hh(h,r)||p(r);const[v,m]=g.useState(null),[b,S]=g.useState(null),x=g.useCallback(M=>{M!==B.current&&(B.current=M,m(M))},[]),E=g.useCallback(M=>{M!==z.current&&(z.current=M,S(M))},[]),A=o||v,k=i||b,B=g.useRef(null),z=g.useRef(null),U=g.useRef(d),K=l!=null,V=jg(l),q=jg(s),J=jg(c),D=g.useCallback(()=>{if(!B.current||!z.current)return;const M={placement:e,strategy:n,middleware:h};q.current&&(M.platform=q.current),DL(B.current,z.current,M).then(j=>{const P={...j,isPositioned:J.current!==!1};y.current&&!Hh(U.current,P)&&(U.current=P,Co.flushSync(()=>{f(P)}))})},[h,e,n,q,J]);Ff(()=>{c===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[c]);const y=g.useRef(!1);Ff(()=>(y.current=!0,()=>{y.current=!1}),[]),Ff(()=>{if(A&&(B.current=A),k&&(z.current=k),A&&k){if(V.current)return V.current(A,k,D);D()}},[A,k,D,V,K]);const _=g.useMemo(()=>({reference:B,floating:z,setReference:x,setFloating:E}),[x,E]),T=g.useMemo(()=>({reference:A,floating:k}),[A,k]),R=g.useMemo(()=>{const M={position:n,left:0,top:0};if(!T.floating)return M;const j=ES(T.floating,d.x),P=ES(T.floating,d.y);return a?{...M,transform:"translate("+j+"px, "+P+"px)",...KA(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:P}},[n,a,T.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:D,refs:_,elements:T,floatingStyles:R}),[d,D,_,T,R])}const zL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?SS({element:r.current,padding:s}).fn(n):{}:r?SS({element:r,padding:s}).fn(n):{}}}},$L=(t,e)=>({...IL(t),options:[t,e]}),UL=(t,e)=>({...jL(t),options:[t,e]}),FL=(t,e)=>({...PL(t),options:[t,e]}),WL=(t,e)=>({...RL(t),options:[t,e]}),VL=(t,e)=>({...OL(t),options:[t,e]}),HL=(t,e)=>({...LL(t),options:[t,e]}),qL=(t,e)=>({...zL(t),options:[t,e]});var GL="Arrow",YA=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return u.jsx(dt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});YA.displayName=GL;var KL=YA;function YL(t,e=[]){let n=[];function r(o,i){const a=g.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:p,...v}=f,m=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||a,v=g.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,QL(s,...e)]}function QL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function JL(t){const[e,n]=g.useState(void 0);return Gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ab="Popper",[QA,qp]=YL(Ab),[ZL,JA]=QA(Ab),ZA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return u.jsx(ZL,{scope:e,anchor:r,onAnchorChange:s,children:n})};ZA.displayName=Ab;var XA="PopperAnchor",eC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=JA(XA,n),i=g.useRef(null),a=At(e,i);return g.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(dt.div,{...s,ref:a})});eC.displayName=XA;var Cb="PopperContent",[XL,eP]=QA(Cb),tC=g.forwardRef((t,e)=>{var oe,ue,we,Te,Se,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=t,b=JA(Cb,n),[S,x]=g.useState(null),E=At(e,Fe=>x(Fe)),[A,k]=g.useState(null),B=JL(A),z=(B==null?void 0:B.width)??0,U=(B==null?void 0:B.height)??0,K=r+(o!=="center"?"-"+o:""),V=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},q=Array.isArray(c)?c:[c],J=q.length>0,D={padding:V,boundary:q.filter(nP),altBoundary:J},{refs:y,floatingStyles:_,placement:T,isPositioned:R,middlewareData:M}=BL({strategy:"fixed",placement:K,whileElementsMounted:(...Fe)=>TL(...Fe,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[$L({mainAxis:s+U,alignmentAxis:i}),l&&UL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FL():void 0,...D}),l&&WL({...D}),VL({...D,apply:({elements:Fe,rects:se,availableWidth:he,availableHeight:Ee})=>{const{width:Oe,height:Ze}=se.reference,xt=Fe.floating.style;xt.setProperty("--radix-popper-available-width",`${he}px`),xt.setProperty("--radix-popper-available-height",`${Ee}px`),xt.setProperty("--radix-popper-anchor-width",`${Oe}px`),xt.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),A&&qL({element:A,padding:a}),rP({arrowWidth:z,arrowHeight:U}),h&&HL({strategy:"referenceHidden",...D})]}),[j,P]=sC(T),I=Or(v);Gn(()=>{R&&(I==null||I())},[R,I]);const w=(oe=M.arrow)==null?void 0:oe.x,O=(ue=M.arrow)==null?void 0:ue.y,G=((we=M.arrow)==null?void 0:we.centerOffset)!==0,[X,ee]=g.useState();return Gn(()=>{S&&ee(window.getComputedStyle(S).zIndex)},[S]),u.jsx("div",{ref:y.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:R?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(Te=M.transformOrigin)==null?void 0:Te.x,(Se=M.transformOrigin)==null?void 0:Se.y].join(" "),...((ye=M.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(XL,{scope:n,placedSide:j,onArrowChange:k,arrowX:w,arrowY:O,shouldHideArrow:G,children:u.jsx(dt.div,{"data-side":j,"data-align":P,...m,ref:E,style:{...m.style,animation:R?void 0:"none"}})})})});tC.displayName=Cb;var nC="PopperArrow",tP={top:"bottom",right:"left",bottom:"top",left:"right"},rC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=eP(nC,r),i=tP[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(KL,{...s,ref:n,style:{...s.style,display:"block"}})})});rC.displayName=nC;function nP(t){return t!==null}var rP=t=>({name:"transformOrigin",options:t,fn(e){var b,S,x;const{placement:n,rects:r,middlewareData:s}=e,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[c,d]=sC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((S=s.arrow)==null?void 0:S.x)??0)+a/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let v="",m="";return c==="bottom"?(v=i?f:`${h}px`,m=`${-l}px`):c==="top"?(v=i?f:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=i?f:`${p}px`):c==="left"&&(v=`${r.floating.width+l}px`,m=i?f:`${p}px`),{data:{x:v,y:m}}}});function sC(t){const[e,n="center"]=t.split("-");return[e,n]}var sP=ZA,oC=eC,iC=tC,aC=rC,[Gp,QK]=hd("Tooltip",[qp]),kb=qp(),lC="TooltipProvider",oP=700,_S="tooltip.open",[iP,cC]=Gp(lC),uC=t=>{const{__scopeTooltip:e,delayDuration:n=oP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,[i,a]=g.useState(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(iP,{scope:e,isOpenDelayed:i,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:o})};uC.displayName=lC;var dC="Tooltip",[JK,Kp]=Gp(dC),qy="TooltipTrigger",aP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Kp(qy,n),o=cC(qy,n),i=kb(n),a=g.useRef(null),l=At(e,a,s.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(oC,{asChild:!0,...i,children:u.jsx(dt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ye(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ye(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ye(t.onBlur,s.onClose),onClick:Ye(t.onClick,s.onClose)})})});aP.displayName=qy;var lP="TooltipPortal",[ZK,cP]=Gp(lP,{forceMount:void 0}),oc="TooltipContent",fC=g.forwardRef((t,e)=>{const n=cP(oc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=Kp(oc,t.__scopeTooltip);return u.jsx(xc,{present:r||i.open,children:i.disableHoverableContent?u.jsx(hC,{side:s,...o,ref:e}):u.jsx(uP,{side:s,...o,ref:e})})}),uP=g.forwardRef((t,e)=>{const n=Kp(oc,t.__scopeTooltip),r=cC(oc,t.__scopeTooltip),s=g.useRef(null),o=At(e,s),[i,a]=g.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,h=g.useCallback(()=>{a(null),f(!1)},[f]),p=g.useCallback((v,m)=>{const b=v.currentTarget,S={x:v.clientX,y:v.clientY},x=pP(S,b.getBoundingClientRect()),E=mP(S,x),A=gP(m.getBoundingClientRect()),k=vP([...E,...A]);a(k),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(l&&d){const v=b=>p(b,d),m=b=>p(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),g.useEffect(()=>{if(i){const v=m=>{const b=m.target,S={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),E=!yP(S,i);x?h():E&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,c,h]),u.jsx(hC,{...t,ref:o})}),[dP,fP]=Gp(dC,{isInside:!1}),hC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=Kp(oc,n),c=kb(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(_S,d),()=>document.removeEventListener(_S,d)),[d]),g.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(pd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(iC,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(hb,{children:r}),u.jsx(dP,{scope:n,isInside:!0,children:u.jsx(sO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});fC.displayName=oc;var pC="TooltipArrow",hP=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kb(n);return fP(pC,n).isInside?null:u.jsx(aC,{...s,...r,ref:e})});hP.displayName=pC;function pP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gP(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function yP(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o].x,l=e[o].y,c=e[i].x,d=e[i].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function vP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wP(e)}function wP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bP=uC,mC=fC;const xP=bP,SP=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(mC,{ref:r,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));SP.displayName=mC.displayName;var Yp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qp=typeof window>"u"||"Deno"in globalThis;function ns(){}function EP(t,e){return typeof t=="function"?t(e):t}function _P(t){return typeof t=="number"&&t>=0&&t!==1/0}function NP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function NS(t,e){return typeof t=="function"?t(e):t}function AP(t,e){return typeof t=="function"?t(e):t}function AS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==Mb(i,e.options))return!1}else if(!Qu(e.queryKey,i))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function CS(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Yu(e.options.mutationKey)!==Yu(o))return!1}else if(!Qu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Mb(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yu)(t)}function Yu(t){return JSON.stringify(t,(e,n)=>Gy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Qu(t[n],e[n])):!1}function gC(t,e){if(t===e)return t;const n=kS(t)&&kS(e);if(n||Gy(t)&&Gy(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=gC(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===i&&l===s?t:a}return e}function kS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gy(t){if(!MS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!MS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function MS(t){return Object.prototype.toString.call(t)==="[object Object]"}function CP(t){return new Promise(e=>{setTimeout(e,t)})}function kP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gC(t,e):e}function MP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function TP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Tb=Symbol();function yC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Tb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var aa,Zo,Fl,C_,IP=(C_=class extends Yp{constructor(){super();bt(this,aa);bt(this,Zo);bt(this,Fl);et(this,Fl,e=>{if(!Qp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,Zo)||this.setEventListener(ie(this,Fl))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Zo))==null||e.call(this),et(this,Zo,void 0))}setEventListener(e){var n;et(this,Fl,e),(n=ie(this,Zo))==null||n.call(this),et(this,Zo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ie(this,aa)!==e&&(et(this,aa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ie(this,aa)=="boolean"?ie(this,aa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},aa=new WeakMap,Zo=new WeakMap,Fl=new WeakMap,C_),vC=new IP,Wl,Xo,Vl,k_,jP=(k_=class extends Yp{constructor(){super();bt(this,Wl,!0);bt(this,Xo);bt(this,Vl);et(this,Vl,e=>{if(!Qp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,Xo)||this.setEventListener(ie(this,Vl))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Xo))==null||e.call(this),et(this,Xo,void 0))}setEventListener(e){var n;et(this,Vl,e),(n=ie(this,Xo))==null||n.call(this),et(this,Xo,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Wl)!==e&&(et(this,Wl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ie(this,Wl)}},Wl=new WeakMap,Xo=new WeakMap,Vl=new WeakMap,k_),qh=new jP;function RP(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function OP(t){return Math.min(1e3*2**t,3e4)}function wC(t){return(t??"online")==="online"?qh.isOnline():!0}var bC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rg(t){return t instanceof bC}function xC(t){let e=!1,n=0,r=!1,s;const o=RP(),i=m=>{var b;r||(h(new bC(m)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>vC.isFocused()&&(t.networkMode==="always"||qh.isOnline())&&t.canRun(),d=()=>wC(t.networkMode)&&t.canRun(),f=m=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,m),s==null||s(),o.resolve(m))},h=m=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,m),s==null||s(),o.reject(m))},p=()=>new Promise(m=>{var b;s=S=>{(r||c())&&m(S)},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;s=void 0,r||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(r)return;let m;const b=n===0?t.initialPromise:void 0;try{m=b??t.fn()}catch(S){m=Promise.reject(S)}Promise.resolve(m).then(f).catch(S=>{var B;if(r)return;const x=t.retry??(Qp?0:3),E=t.retryDelay??OP,A=typeof E=="function"?E(n,S):E,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,S);if(e||!k){h(S);return}n++,(B=t.onFail)==null||B.call(t,n,S),CP(A).then(()=>c()?void 0:p()).then(()=>{e?h(S):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),o)}}function LP(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var er=LP(),la,M_,SC=(M_=class{constructor(){bt(this,la)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_P(this.gcTime)&&et(this,la,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qp?1/0:5*60*1e3))}clearGcTimeout(){ie(this,la)&&(clearTimeout(ie(this,la)),et(this,la,void 0))}},la=new WeakMap,M_),Hl,ql,Fr,Wn,id,ca,ss,Qs,T_,PP=(T_=class extends SC{constructor(e){super();bt(this,ss);bt(this,Hl);bt(this,ql);bt(this,Fr);bt(this,Wn);bt(this,id);bt(this,ca);et(this,ca,!1),et(this,id,e.defaultOptions),this.setOptions(e.options),this.observers=[],et(this,Fr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,et(this,Hl,BP(this.options)),this.state=e.state??ie(this,Hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ie(this,Wn))==null?void 0:e.promise}setOptions(e){this.options={...ie(this,id),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Fr).remove(this)}setData(e,n){const r=kP(this.state.data,e,this.options);return On(this,ss,Qs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){On(this,ss,Qs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=ie(this,Wn))==null?void 0:r.promise;return(s=ie(this,Wn))==null||s.cancel(e),n?n.then(ns).catch(ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Hl))}isActive(){return this.observers.some(e=>AP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!NP(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,Wn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,Wn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ie(this,Fr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ie(this,Wn)&&(ie(this,ca)?ie(this,Wn).cancel({revert:!0}):ie(this,Wn).cancelRetry()),this.scheduleGc()),ie(this,Fr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||On(this,ss,Qs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Wn))return ie(this,Wn).continueRetry(),ie(this,Wn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(et(this,ca,!0),r.signal)})},o=()=>{const f=yC(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),et(this,ca,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),et(this,ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&On(this,ss,Qs).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,p,v,m;Rg(f)&&f.silent||On(this,ss,Qs).call(this,{type:"error",error:f}),Rg(f)||((p=(h=ie(this,Fr).config).onError)==null||p.call(h,f,this),(m=(v=ie(this,Fr).config).onSettled)==null||m.call(v,this.state.data,f,this)),this.scheduleGc()};return et(this,Wn,xC({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,v,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(p=(h=ie(this,Fr).config).onSuccess)==null||p.call(h,f,this),(m=(v=ie(this,Fr).config).onSettled)==null||m.call(v,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{On(this,ss,Qs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{On(this,ss,Qs).call(this,{type:"pause"})},onContinue:()=>{On(this,ss,Qs).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),ie(this,Wn).start()}},Hl=new WeakMap,ql=new WeakMap,Fr=new WeakMap,Wn=new WeakMap,id=new WeakMap,ca=new WeakMap,ss=new WeakSet,Qs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...DP(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Rg(s)&&s.revert&&ie(this,ql)?{...ie(this,ql),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),er.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,Fr).notify({query:this,type:"updated",action:e})})},T_);function DP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ms,I_,zP=(I_=class extends Yp{constructor(e={}){super();bt(this,Ms);this.config=e,et(this,Ms,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??Mb(s,n);let i=this.get(o);return i||(i=new PP({cache:this,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){ie(this,Ms).has(e.queryHash)||(ie(this,Ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,Ms).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,Ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,Ms).get(e)}getAll(){return[...ie(this,Ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>AS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>AS(e,r)):n}notify(e){er.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ms=new WeakMap,I_),Ts,Zn,ua,Is,Do,j_,$P=(j_=class extends SC{constructor(e){super();bt(this,Is);bt(this,Ts);bt(this,Zn);bt(this,ua);this.mutationId=e.mutationId,et(this,Zn,e.mutationCache),et(this,Ts,[]),this.state=e.state||UP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,Ts).includes(e)||(ie(this,Ts).push(e),this.clearGcTimeout(),ie(this,Zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){et(this,Ts,ie(this,Ts).filter(n=>n!==e)),this.scheduleGc(),ie(this,Zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,Ts).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Zn).remove(this))}continue(){var e;return((e=ie(this,ua))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,i,a,l,c,d,f,h,p,v,m,b,S,x,E,A,k,B,z;et(this,ua,xC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(U,K)=>{On(this,Is,Do).call(this,{type:"failed",failureCount:U,error:K})},onPause:()=>{On(this,Is,Do).call(this,{type:"pause"})},onContinue:()=>{On(this,Is,Do).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Zn).canRun(this)}));const n=this.state.status==="pending",r=!ie(this,ua).canStart();try{if(!n){On(this,Is,Do).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(s=ie(this,Zn).config).onMutate)==null?void 0:o.call(s,e,this));const K=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,e));K!==this.state.context&&On(this,Is,Do).call(this,{type:"pending",context:K,variables:e,isPaused:r})}const U=await ie(this,ua).start();return await((c=(l=ie(this,Zn).config).onSuccess)==null?void 0:c.call(l,U,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,U,e,this.state.context)),await((p=(h=ie(this,Zn).config).onSettled)==null?void 0:p.call(h,U,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,U,null,e,this.state.context)),On(this,Is,Do).call(this,{type:"success",data:U}),U}catch(U){try{throw await((S=(b=ie(this,Zn).config).onError)==null?void 0:S.call(b,U,e,this.state.context,this)),await((E=(x=this.options).onError)==null?void 0:E.call(x,U,e,this.state.context)),await((k=(A=ie(this,Zn).config).onSettled)==null?void 0:k.call(A,void 0,U,this.state.variables,this.state.context,this)),await((z=(B=this.options).onSettled)==null?void 0:z.call(B,void 0,U,e,this.state.context)),U}finally{On(this,Is,Do).call(this,{type:"error",error:U})}}finally{ie(this,Zn).runNext(this)}}},Ts=new WeakMap,Zn=new WeakMap,ua=new WeakMap,Is=new WeakSet,Do=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),er.batch(()=>{ie(this,Ts).forEach(r=>{r.onMutationUpdate(e)}),ie(this,Zn).notify({mutation:this,type:"updated",action:e})})},j_);function UP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var br,ad,R_,FP=(R_=class extends Yp{constructor(e={}){super();bt(this,br);bt(this,ad);this.config=e,et(this,br,new Map),et(this,ad,Date.now())}build(e,n,r){const s=new $P({mutationCache:this,mutationId:++Dd(this,ad)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=of(e),r=ie(this,br).get(n)??[];r.push(e),ie(this,br).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=of(e);if(ie(this,br).has(n)){const s=(r=ie(this,br).get(n))==null?void 0:r.filter(o=>o!==e);s&&(s.length===0?ie(this,br).delete(n):ie(this,br).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ie(this,br).get(of(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ie(this,br).get(of(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ie(this,br).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>CS(n,r))}findAll(e={}){return this.getAll().filter(n=>CS(e,n))}notify(e){er.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return er.batch(()=>Promise.all(e.map(n=>n.continue().catch(ns))))}},br=new WeakMap,ad=new WeakMap,R_);function of(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function TS(t){return{onFetch:(e,n)=>{var d,f,h,p,v;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],i=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},S=yC(e.options,e.fetchOptions),x=async(E,A,k)=>{if(m)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const B={queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};b(B);const z=await S(B),{maxPages:U}=e.options,K=k?TP:MP;return{pages:K(E.pages,z,U),pageParams:K(E.pageParams,A,U)}};if(s&&o.length){const E=s==="backward",A=E?WP:IS,k={pages:o,pageParams:i},B=A(r,k);a=await x(k,B,E)}else{const E=t??o.length;do{const A=l===0?i[0]??r.initialPageParam:IS(r,a);if(l>0&&A==null)break;a=await x(a,A),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function IS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function WP(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xt,ei,ti,Gl,Kl,ni,Yl,Ql,O_,VP=(O_=class{constructor(t={}){bt(this,Xt);bt(this,ei);bt(this,ti);bt(this,Gl);bt(this,Kl);bt(this,ni);bt(this,Yl);bt(this,Ql);et(this,Xt,t.queryCache||new zP),et(this,ei,t.mutationCache||new FP),et(this,ti,t.defaultOptions||{}),et(this,Gl,new Map),et(this,Kl,new Map),et(this,ni,0)}mount(){Dd(this,ni)._++,ie(this,ni)===1&&(et(this,Yl,vC.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,Xt).onFocus())})),et(this,Ql,qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,Xt).onOnline())})))}unmount(){var t,e;Dd(this,ni)._--,ie(this,ni)===0&&((t=ie(this,Yl))==null||t.call(this),et(this,Yl,void 0),(e=ie(this,Ql))==null||e.call(this),et(this,Ql,void 0))}isFetching(t){return ie(this,Xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,ei).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,Xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ie(this,Xt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(NS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ie(this,Xt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ie(this,Xt).get(r.queryHash),o=s==null?void 0:s.state.data,i=EP(e,o);if(i!==void 0)return ie(this,Xt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return er.batch(()=>ie(this,Xt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,Xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ie(this,Xt);er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,Xt),r={type:"active",...t};return er.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=er.batch(()=>ie(this,Xt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ns).catch(ns)}invalidateQueries(t={},e={}){return er.batch(()=>{if(ie(this,Xt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=er.batch(()=>ie(this,Xt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ns)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ns)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ie(this,Xt).build(this,e);return n.isStaleByTime(NS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ns).catch(ns)}fetchInfiniteQuery(t){return t.behavior=TS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ns).catch(ns)}ensureInfiniteQueryData(t){return t.behavior=TS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qh.isOnline()?ie(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,Xt)}getMutationCache(){return ie(this,ei)}getDefaultOptions(){return ie(this,ti)}setDefaultOptions(t){et(this,ti,t)}setQueryDefaults(t,e){ie(this,Gl).set(Yu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,Gl).values()];let n={};return e.forEach(r=>{Qu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ie(this,Kl).set(Yu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Kl).values()];let n={};return e.forEach(r=>{Qu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,ti).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Mb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Tb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,ti).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,Xt).clear(),ie(this,ei).clear()}},Xt=new WeakMap,ei=new WeakMap,ti=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,ni=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,O_),HP=g.createContext(void 0),qP=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(HP.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const jS="popstate";function GP(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return Ky("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_C(s)}return YP(e,n,null,t)}function vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KP(){return Math.random().toString(36).substr(2,8)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function Ky(t,e,n,r){return n===void 0&&(n=null),Ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ac(e):e,{state:n,key:e&&e.key||r||KP()})}function _C(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YP(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=oi.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(Ju({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=oi.Pop;let b=d(),S=b==null?null:b-c;c=b,l&&l({action:a,location:m.location,delta:S})}function h(b,S){a=oi.Push;let x=Ky(m.location,b,S);c=d()+1;let E=RS(x,c),A=m.createHref(x);try{i.pushState(E,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(A)}o&&l&&l({action:a,location:m.location,delta:1})}function p(b,S){a=oi.Replace;let x=Ky(m.location,b,S);c=d();let E=RS(x,c),A=m.createHref(x);i.replaceState(E,"",A),o&&l&&l({action:a,location:m.location,delta:0})}function v(b){let S=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:_C(b);return x=x.replace(/ $/,"%20"),vn(S,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,S)}let m={get action(){return a},get location(){return t(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jS,f),l=b,()=>{s.removeEventListener(jS,f),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let S=v(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:h,replace:p,go(b){return i.go(b)}};return m}var OS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OS||(OS={}));function QP(t,e,n){return n===void 0&&(n="/"),JP(t,e,n,!1)}function JP(t,e,n,r){let s=typeof e=="string"?Ac(e):e,o=CC(s.pathname||"/",n);if(o==null)return null;let i=NC(t);ZP(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=cD(o);a=aD(i[l],c,r)}return a}function NC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ha([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(vn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),NC(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:oD(c,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of AC(o.path))s(o,i,l)}),e}function AC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=AC(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XP=/^:[\w-]+$/,eD=3,tD=2,nD=1,rD=10,sD=-2,LS=t=>t==="*";function oD(t,e){let n=t.split("/"),r=n.length;return n.some(LS)&&(r+=sD),e&&(r+=tD),n.filter(s=>!LS(s)).reduce((s,o)=>s+(XP.test(o)?eD:o===""?nD:rD),r)}function iD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function aD(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=PS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=PS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ha([o,f.pathname]),pathnameBase:mD(ha([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ha([o,f.pathnameBase]))}return i}function PS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=a[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[f];return p&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function lD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),EC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return EC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ac(t):t;return{pathname:n?n.startsWith("/")?n:dD(n,e):e,search:gD(r),hash:yD(s)}}function dD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Og(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hD(t,e){let n=fD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pD(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ac(t):(s=Ju({},t),vn(!s.pathname||!s.pathname.includes("?"),Og("?","pathname","search",s)),vn(!s.pathname||!s.pathname.includes("#"),Og("#","pathname","hash",s)),vn(!s.search||!s.search.includes("#"),Og("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=e.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=uD(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ha=t=>t.join("/").replace(/\/\/+/g,"/"),mD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kC=["post","put","patch","delete"];new Set(kC);const wD=["get",...kC];new Set(wD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}const Ib=g.createContext(null),bD=g.createContext(null),Jp=g.createContext(null),Zp=g.createContext(null),Ra=g.createContext({outlet:null,matches:[],isDataRoute:!1}),MC=g.createContext(null);function Xp(){return g.useContext(Zp)!=null}function yd(){return Xp()||vn(!1),g.useContext(Zp).location}function TC(t){g.useContext(Jp).static||g.useLayoutEffect(t)}function vd(){let{isDataRoute:t}=g.useContext(Ra);return t?OD():xD()}function xD(){Xp()||vn(!1);let t=g.useContext(Ib),{basename:e,future:n,navigator:r}=g.useContext(Jp),{matches:s}=g.useContext(Ra),{pathname:o}=yd(),i=JSON.stringify(hD(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return TC(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=pD(c,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ha([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,i,o,t])}function SD(){let{matches:t}=g.useContext(Ra),e=t[t.length-1];return e?e.params:{}}function ED(t,e){return _D(t,e)}function _D(t,e,n,r){Xp()||vn(!1);let{navigator:s}=g.useContext(Jp),{matches:o}=g.useContext(Ra),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=yd(),d;if(e){var f;let b=typeof e=="string"?Ac(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||vn(!1),d=b}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=QP(t,{pathname:p}),m=MD(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ha([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ha([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&m?g.createElement(Zp.Provider,{value:{location:Zu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oi.Pop}},m):m}function ND(){let t=RD(),e=vD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const AD=g.createElement(ND,null);class CD extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Ra.Provider,{value:this.props.routeContext},g.createElement(MC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kD(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Ib);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ra.Provider,{value:e},r)}function MD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||vn(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,v=!1,m=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||AD,l&&(c<0&&h===0?(v=!0,b=null):c===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,h+1)),x=()=>{let E;return p?E=m:v?E=b:f.route.Component?E=g.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,g.createElement(kD,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(CD,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}var IC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(IC||{}),Gh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gh||{});function TD(t){let e=g.useContext(Ib);return e||vn(!1),e}function ID(t){let e=g.useContext(bD);return e||vn(!1),e}function jD(t){let e=g.useContext(Ra);return e||vn(!1),e}function jC(t){let e=jD(),n=e.matches[e.matches.length-1];return n.route.id||vn(!1),n.route.id}function RD(){var t;let e=g.useContext(MC),n=ID(Gh.UseRouteError),r=jC(Gh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OD(){let{router:t}=TD(IC.UseNavigateStable),e=jC(Gh.UseNavigateStable),n=g.useRef(!1);return TC(()=>{n.current=!0}),g.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zu({fromRouteId:e},o)))},[t,e])}function Za(t){vn(!1)}function LD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=oi.Pop,navigator:o,static:i=!1,future:a}=t;Xp()&&vn(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:o,static:i,future:Zu({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Ac(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=r,m=g.useMemo(()=>{let b=CC(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:s}},[l,d,f,h,p,v,s]);return m==null?null:g.createElement(Jp.Provider,{value:c},g.createElement(Zp.Provider,{children:n,value:m}))}function PD(t){let{children:e,location:n}=t;return ED(Yy(e),n)}new Promise(()=>{});function Yy(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let o=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Yy(r.props.children,o));return}r.type!==Za&&vn(!1),!r.props.index||!r.props.children||vn(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Yy(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const DD="6";try{window.__reactRouterVersion=DD}catch{}const BD="startTransition",DS=Sw[BD];function zD(t){let{basename:e,children:n,future:r,window:s}=t,o=g.useRef();o.current==null&&(o.current=GP({window:s,v5Compat:!0}));let i=o.current,[a,l]=g.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=g.useCallback(f=>{c&&DS?DS(()=>l(f)):l(f)},[l,c]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.createElement(LD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var BS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BS||(BS={}));var zS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zS||(zS={}));var Ke={},em={};em.byteLength=FD;em.toByteArray=VD;em.fromByteArray=GD;var Rs=[],Ur=[],$D=typeof Uint8Array<"u"?Uint8Array:Array,Lg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ua=0,UD=Lg.length;Ua<UD;++Ua)Rs[Ua]=Lg[Ua],Ur[Lg.charCodeAt(Ua)]=Ua;Ur[45]=62;Ur[95]=63;function RC(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function FD(t){var e=RC(t),n=e[0],r=e[1];return(n+r)*3/4-r}function WD(t,e,n){return(e+n)*3/4-n}function VD(t){var e,n=RC(t),r=n[0],s=n[1],o=new $D(WD(t,r,s)),i=0,a=s>0?r-4:r,l;for(l=0;l<a;l+=4)e=Ur[t.charCodeAt(l)]<<18|Ur[t.charCodeAt(l+1)]<<12|Ur[t.charCodeAt(l+2)]<<6|Ur[t.charCodeAt(l+3)],o[i++]=e>>16&255,o[i++]=e>>8&255,o[i++]=e&255;return s===2&&(e=Ur[t.charCodeAt(l)]<<2|Ur[t.charCodeAt(l+1)]>>4,o[i++]=e&255),s===1&&(e=Ur[t.charCodeAt(l)]<<10|Ur[t.charCodeAt(l+1)]<<4|Ur[t.charCodeAt(l+2)]>>2,o[i++]=e>>8&255,o[i++]=e&255),o}function HD(t){return Rs[t>>18&63]+Rs[t>>12&63]+Rs[t>>6&63]+Rs[t&63]}function qD(t,e,n){for(var r,s=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),s.push(HD(r));return s.join("")}function GD(t){for(var e,n=t.length,r=n%3,s=[],o=16383,i=0,a=n-r;i<a;i+=o)s.push(qD(t,i,i+o>a?a:i+o));return r===1?(e=t[n-1],s.push(Rs[e>>2]+Rs[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Rs[e>>10]+Rs[e>>4&63]+Rs[e<<2&63]+"=")),s.join("")}var jb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */jb.read=function(t,e,n,r,s){var o,i,a=s*8-r-1,l=(1<<a)-1,c=l>>1,d=-7,f=n?s-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-d)-1,p>>=-d,d+=a;d>0;o=o*256+t[e+f],f+=h,d-=8);for(i=o&(1<<-d)-1,o>>=-d,d+=r;d>0;i=i*256+t[e+f],f+=h,d-=8);if(o===0)o=1-c;else{if(o===l)return i?NaN:(p?-1:1)*(1/0);i=i+Math.pow(2,r),o=o-c}return(p?-1:1)*i*Math.pow(2,o-r)};jb.write=function(t,e,n,r,s,o){var i,a,l,c=o*8-s-1,d=(1<<c)-1,f=d>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,v=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,i=d):(i=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-i))<1&&(i--,l*=2),i+f>=1?e+=h/l:e+=h*Math.pow(2,1-f),e*l>=2&&(i++,l/=2),i+f>=d?(a=0,i=d):i+f>=1?(a=(e*l-1)*Math.pow(2,s),i=i+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),i=0));s>=8;t[n+p]=a&255,p+=v,a/=256,s-=8);for(i=i<<s|a,c+=s;c>0;t[n+p]=i&255,p+=v,i/=256,c-=8);t[n+p-v]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=em,n=jb,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const L=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(L,N),L.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function i(L){if(L>s)throw new RangeError('The value "'+L+'" is invalid for option "size"');const N=new Uint8Array(L);return Object.setPrototypeOf(N,a.prototype),N}function a(L,N,C){if(typeof L=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(L)}return l(L,N,C)}a.poolSize=8192;function l(L,N,C){if(typeof L=="string")return h(L,N);if(ArrayBuffer.isView(L))return v(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(nn(L,ArrayBuffer)||L&&nn(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nn(L,SharedArrayBuffer)||L&&nn(L.buffer,SharedArrayBuffer)))return m(L,N,C);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=L.valueOf&&L.valueOf();if($!=null&&$!==L)return a.from($,N,C);const W=b(L);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return a.from(L[Symbol.toPrimitive]("string"),N,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}a.from=function(L,N,C){return l(L,N,C)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function d(L,N,C){return c(L),L<=0?i(L):N!==void 0?typeof C=="string"?i(L).fill(N,C):i(L).fill(N):i(L)}a.alloc=function(L,N,C){return d(L,N,C)};function f(L){return c(L),i(L<0?0:S(L)|0)}a.allocUnsafe=function(L){return f(L)},a.allocUnsafeSlow=function(L){return f(L)};function h(L,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const C=E(L,N)|0;let $=i(C);const W=$.write(L,N);return W!==C&&($=$.slice(0,W)),$}function p(L){const N=L.length<0?0:S(L.length)|0,C=i(N);for(let $=0;$<N;$+=1)C[$]=L[$]&255;return C}function v(L){if(nn(L,Uint8Array)){const N=new Uint8Array(L);return m(N.buffer,N.byteOffset,N.byteLength)}return p(L)}function m(L,N,C){if(N<0||L.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<N+(C||0))throw new RangeError('"length" is outside of buffer bounds');let $;return N===void 0&&C===void 0?$=new Uint8Array(L):C===void 0?$=new Uint8Array(L,N):$=new Uint8Array(L,N,C),Object.setPrototypeOf($,a.prototype),$}function b(L){if(a.isBuffer(L)){const N=S(L.length)|0,C=i(N);return C.length===0||L.copy(C,0,0,N),C}if(L.length!==void 0)return typeof L.length!="number"||gt(L.length)?i(0):p(L);if(L.type==="Buffer"&&Array.isArray(L.data))return p(L.data)}function S(L){if(L>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return L|0}function x(L){return+L!=L&&(L=0),a.alloc(+L)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,C){if(nn(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),nn(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(N)||!a.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===C)return 0;let $=N.length,W=C.length;for(let Y=0,te=Math.min($,W);Y<te;++Y)if(N[Y]!==C[Y]){$=N[Y],W=C[Y];break}return $<W?-1:W<$?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,C){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);let $;if(C===void 0)for(C=0,$=0;$<N.length;++$)C+=N[$].length;const W=a.allocUnsafe(C);let Y=0;for($=0;$<N.length;++$){let te=N[$];if(nn(te,Uint8Array))Y+te.length>W.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(W,Y)):Uint8Array.prototype.set.call(W,te,Y);else if(a.isBuffer(te))te.copy(W,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=te.length}return W};function E(L,N){if(a.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||nn(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);const C=L.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&C===0)return 0;let W=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Oe(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return He(L).length;default:if(W)return $?-1:Oe(L).length;N=(""+N).toLowerCase(),W=!0}}a.byteLength=E;function A(L,N,C){let $=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,N>>>=0,C<=N))return"";for(L||(L="utf8");;)switch(L){case"hex":return j(this,N,C);case"utf8":case"utf-8":return y(this,N,C);case"ascii":return R(this,N,C);case"latin1":case"binary":return M(this,N,C);case"base64":return D(this,N,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,N,C);default:if($)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),$=!0}}a.prototype._isBuffer=!0;function k(L,N,C){const $=L[N];L[N]=L[C],L[C]=$}a.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<N;C+=2)k(this,C,C+1);return this},a.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<N;C+=4)k(this,C,C+3),k(this,C+1,C+2);return this},a.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<N;C+=8)k(this,C,C+7),k(this,C+1,C+6),k(this,C+2,C+5),k(this,C+3,C+4);return this},a.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?y(this,0,N):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){let N="";const C=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(N+=" ... "),"<Buffer "+N+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(N,C,$,W,Y){if(nn(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(C===void 0&&(C=0),$===void 0&&($=N?N.length:0),W===void 0&&(W=0),Y===void 0&&(Y=this.length),C<0||$>N.length||W<0||Y>this.length)throw new RangeError("out of range index");if(W>=Y&&C>=$)return 0;if(W>=Y)return-1;if(C>=$)return 1;if(C>>>=0,$>>>=0,W>>>=0,Y>>>=0,this===N)return 0;let te=Y-W,qe=$-C;const ze=Math.min(te,qe),Ie=this.slice(W,Y),wt=N.slice(C,$);for(let de=0;de<ze;++de)if(Ie[de]!==wt[de]){te=Ie[de],qe=wt[de];break}return te<qe?-1:qe<te?1:0};function B(L,N,C,$,W){if(L.length===0)return-1;if(typeof C=="string"?($=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,gt(C)&&(C=W?0:L.length-1),C<0&&(C=L.length+C),C>=L.length){if(W)return-1;C=L.length-1}else if(C<0)if(W)C=0;else return-1;if(typeof N=="string"&&(N=a.from(N,$)),a.isBuffer(N))return N.length===0?-1:z(L,N,C,$,W);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(L,N,C):Uint8Array.prototype.lastIndexOf.call(L,N,C):z(L,[N],C,$,W);throw new TypeError("val must be string, number or Buffer")}function z(L,N,C,$,W){let Y=1,te=L.length,qe=N.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(L.length<2||N.length<2)return-1;Y=2,te/=2,qe/=2,C/=2}function ze(wt,de){return Y===1?wt[de]:wt.readUInt16BE(de*Y)}let Ie;if(W){let wt=-1;for(Ie=C;Ie<te;Ie++)if(ze(L,Ie)===ze(N,wt===-1?0:Ie-wt)){if(wt===-1&&(wt=Ie),Ie-wt+1===qe)return wt*Y}else wt!==-1&&(Ie-=Ie-wt),wt=-1}else for(C+qe>te&&(C=te-qe),Ie=C;Ie>=0;Ie--){let wt=!0;for(let de=0;de<qe;de++)if(ze(L,Ie+de)!==ze(N,de)){wt=!1;break}if(wt)return Ie}return-1}a.prototype.includes=function(N,C,$){return this.indexOf(N,C,$)!==-1},a.prototype.indexOf=function(N,C,$){return B(this,N,C,$,!0)},a.prototype.lastIndexOf=function(N,C,$){return B(this,N,C,$,!1)};function U(L,N,C,$){C=Number(C)||0;const W=L.length-C;$?($=Number($),$>W&&($=W)):$=W;const Y=N.length;$>Y/2&&($=Y/2);let te;for(te=0;te<$;++te){const qe=parseInt(N.substr(te*2,2),16);if(gt(qe))return te;L[C+te]=qe}return te}function K(L,N,C,$){return nt(Oe(N,L.length-C),L,C,$)}function V(L,N,C,$){return nt(Ze(N),L,C,$)}function q(L,N,C,$){return nt(He(N),L,C,$)}function J(L,N,C,$){return nt(xt(N,L.length-C),L,C,$)}a.prototype.write=function(N,C,$,W){if(C===void 0)W="utf8",$=this.length,C=0;else if($===void 0&&typeof C=="string")W=C,$=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite($)?($=$>>>0,W===void 0&&(W="utf8")):(W=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-C;if(($===void 0||$>Y)&&($=Y),N.length>0&&($<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let te=!1;for(;;)switch(W){case"hex":return U(this,N,C,$);case"utf8":case"utf-8":return K(this,N,C,$);case"ascii":case"latin1":case"binary":return V(this,N,C,$);case"base64":return q(this,N,C,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,N,C,$);default:if(te)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(L,N,C){return N===0&&C===L.length?e.fromByteArray(L):e.fromByteArray(L.slice(N,C))}function y(L,N,C){C=Math.min(L.length,C);const $=[];let W=N;for(;W<C;){const Y=L[W];let te=null,qe=Y>239?4:Y>223?3:Y>191?2:1;if(W+qe<=C){let ze,Ie,wt,de;switch(qe){case 1:Y<128&&(te=Y);break;case 2:ze=L[W+1],(ze&192)===128&&(de=(Y&31)<<6|ze&63,de>127&&(te=de));break;case 3:ze=L[W+1],Ie=L[W+2],(ze&192)===128&&(Ie&192)===128&&(de=(Y&15)<<12|(ze&63)<<6|Ie&63,de>2047&&(de<55296||de>57343)&&(te=de));break;case 4:ze=L[W+1],Ie=L[W+2],wt=L[W+3],(ze&192)===128&&(Ie&192)===128&&(wt&192)===128&&(de=(Y&15)<<18|(ze&63)<<12|(Ie&63)<<6|wt&63,de>65535&&de<1114112&&(te=de))}}te===null?(te=65533,qe=1):te>65535&&(te-=65536,$.push(te>>>10&1023|55296),te=56320|te&1023),$.push(te),W+=qe}return T($)}const _=4096;function T(L){const N=L.length;if(N<=_)return String.fromCharCode.apply(String,L);let C="",$=0;for(;$<N;)C+=String.fromCharCode.apply(String,L.slice($,$+=_));return C}function R(L,N,C){let $="";C=Math.min(L.length,C);for(let W=N;W<C;++W)$+=String.fromCharCode(L[W]&127);return $}function M(L,N,C){let $="";C=Math.min(L.length,C);for(let W=N;W<C;++W)$+=String.fromCharCode(L[W]);return $}function j(L,N,C){const $=L.length;(!N||N<0)&&(N=0),(!C||C<0||C>$)&&(C=$);let W="";for(let Y=N;Y<C;++Y)W+=$e[L[Y]];return W}function P(L,N,C){const $=L.slice(N,C);let W="";for(let Y=0;Y<$.length-1;Y+=2)W+=String.fromCharCode($[Y]+$[Y+1]*256);return W}a.prototype.slice=function(N,C){const $=this.length;N=~~N,C=C===void 0?$:~~C,N<0?(N+=$,N<0&&(N=0)):N>$&&(N=$),C<0?(C+=$,C<0&&(C=0)):C>$&&(C=$),C<N&&(C=N);const W=this.subarray(N,C);return Object.setPrototypeOf(W,a.prototype),W};function I(L,N,C){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+N>C)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,C,$){N=N>>>0,C=C>>>0,$||I(N,C,this.length);let W=this[N],Y=1,te=0;for(;++te<C&&(Y*=256);)W+=this[N+te]*Y;return W},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,C,$){N=N>>>0,C=C>>>0,$||I(N,C,this.length);let W=this[N+--C],Y=1;for(;C>0&&(Y*=256);)W+=this[N+--C]*Y;return W},a.prototype.readUint8=a.prototype.readUInt8=function(N,C){return N=N>>>0,C||I(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,C){return N=N>>>0,C||I(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,C){return N=N>>>0,C||I(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,C){return N=N>>>0,C||I(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,C){return N=N>>>0,C||I(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readBigUInt64LE=Ct(function(N){N=N>>>0,Fe(N,"offset");const C=this[N],$=this[N+7];(C===void 0||$===void 0)&&se(N,this.length-8);const W=C+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,Y=this[++N]+this[++N]*2**8+this[++N]*2**16+$*2**24;return BigInt(W)+(BigInt(Y)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ct(function(N){N=N>>>0,Fe(N,"offset");const C=this[N],$=this[N+7];(C===void 0||$===void 0)&&se(N,this.length-8);const W=C*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],Y=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+$;return(BigInt(W)<<BigInt(32))+BigInt(Y)}),a.prototype.readIntLE=function(N,C,$){N=N>>>0,C=C>>>0,$||I(N,C,this.length);let W=this[N],Y=1,te=0;for(;++te<C&&(Y*=256);)W+=this[N+te]*Y;return Y*=128,W>=Y&&(W-=Math.pow(2,8*C)),W},a.prototype.readIntBE=function(N,C,$){N=N>>>0,C=C>>>0,$||I(N,C,this.length);let W=C,Y=1,te=this[N+--W];for(;W>0&&(Y*=256);)te+=this[N+--W]*Y;return Y*=128,te>=Y&&(te-=Math.pow(2,8*C)),te},a.prototype.readInt8=function(N,C){return N=N>>>0,C||I(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,C){N=N>>>0,C||I(N,2,this.length);const $=this[N]|this[N+1]<<8;return $&32768?$|4294901760:$},a.prototype.readInt16BE=function(N,C){N=N>>>0,C||I(N,2,this.length);const $=this[N+1]|this[N]<<8;return $&32768?$|4294901760:$},a.prototype.readInt32LE=function(N,C){return N=N>>>0,C||I(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,C){return N=N>>>0,C||I(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readBigInt64LE=Ct(function(N){N=N>>>0,Fe(N,"offset");const C=this[N],$=this[N+7];(C===void 0||$===void 0)&&se(N,this.length-8);const W=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+($<<24);return(BigInt(W)<<BigInt(32))+BigInt(C+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),a.prototype.readBigInt64BE=Ct(function(N){N=N>>>0,Fe(N,"offset");const C=this[N],$=this[N+7];(C===void 0||$===void 0)&&se(N,this.length-8);const W=(C<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(W)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+$)}),a.prototype.readFloatLE=function(N,C){return N=N>>>0,C||I(N,4,this.length),n.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,C){return N=N>>>0,C||I(N,4,this.length),n.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,C){return N=N>>>0,C||I(N,8,this.length),n.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,C){return N=N>>>0,C||I(N,8,this.length),n.read(this,N,!1,52,8)};function w(L,N,C,$,W,Y){if(!a.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>W||N<Y)throw new RangeError('"value" argument is out of bounds');if(C+$>L.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,C,$,W){if(N=+N,C=C>>>0,$=$>>>0,!W){const qe=Math.pow(2,8*$)-1;w(this,N,C,$,qe,0)}let Y=1,te=0;for(this[C]=N&255;++te<$&&(Y*=256);)this[C+te]=N/Y&255;return C+$},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,C,$,W){if(N=+N,C=C>>>0,$=$>>>0,!W){const qe=Math.pow(2,8*$)-1;w(this,N,C,$,qe,0)}let Y=$-1,te=1;for(this[C+Y]=N&255;--Y>=0&&(te*=256);)this[C+Y]=N/te&255;return C+$},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,1,255,0),this[C]=N&255,C+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,2,65535,0),this[C]=N&255,this[C+1]=N>>>8,C+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,2,65535,0),this[C]=N>>>8,this[C+1]=N&255,C+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,4,4294967295,0),this[C+3]=N>>>24,this[C+2]=N>>>16,this[C+1]=N>>>8,this[C]=N&255,C+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,4,4294967295,0),this[C]=N>>>24,this[C+1]=N>>>16,this[C+2]=N>>>8,this[C+3]=N&255,C+4};function O(L,N,C,$,W){ye(N,$,W,L,C,7);let Y=Number(N&BigInt(4294967295));L[C++]=Y,Y=Y>>8,L[C++]=Y,Y=Y>>8,L[C++]=Y,Y=Y>>8,L[C++]=Y;let te=Number(N>>BigInt(32)&BigInt(4294967295));return L[C++]=te,te=te>>8,L[C++]=te,te=te>>8,L[C++]=te,te=te>>8,L[C++]=te,C}function G(L,N,C,$,W){ye(N,$,W,L,C,7);let Y=Number(N&BigInt(4294967295));L[C+7]=Y,Y=Y>>8,L[C+6]=Y,Y=Y>>8,L[C+5]=Y,Y=Y>>8,L[C+4]=Y;let te=Number(N>>BigInt(32)&BigInt(4294967295));return L[C+3]=te,te=te>>8,L[C+2]=te,te=te>>8,L[C+1]=te,te=te>>8,L[C]=te,C+8}a.prototype.writeBigUInt64LE=Ct(function(N,C=0){return O(this,N,C,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ct(function(N,C=0){return G(this,N,C,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(N,C,$,W){if(N=+N,C=C>>>0,!W){const ze=Math.pow(2,8*$-1);w(this,N,C,$,ze-1,-ze)}let Y=0,te=1,qe=0;for(this[C]=N&255;++Y<$&&(te*=256);)N<0&&qe===0&&this[C+Y-1]!==0&&(qe=1),this[C+Y]=(N/te>>0)-qe&255;return C+$},a.prototype.writeIntBE=function(N,C,$,W){if(N=+N,C=C>>>0,!W){const ze=Math.pow(2,8*$-1);w(this,N,C,$,ze-1,-ze)}let Y=$-1,te=1,qe=0;for(this[C+Y]=N&255;--Y>=0&&(te*=256);)N<0&&qe===0&&this[C+Y+1]!==0&&(qe=1),this[C+Y]=(N/te>>0)-qe&255;return C+$},a.prototype.writeInt8=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,1,127,-128),N<0&&(N=255+N+1),this[C]=N&255,C+1},a.prototype.writeInt16LE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,2,32767,-32768),this[C]=N&255,this[C+1]=N>>>8,C+2},a.prototype.writeInt16BE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,2,32767,-32768),this[C]=N>>>8,this[C+1]=N&255,C+2},a.prototype.writeInt32LE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,4,2147483647,-2147483648),this[C]=N&255,this[C+1]=N>>>8,this[C+2]=N>>>16,this[C+3]=N>>>24,C+4},a.prototype.writeInt32BE=function(N,C,$){return N=+N,C=C>>>0,$||w(this,N,C,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[C]=N>>>24,this[C+1]=N>>>16,this[C+2]=N>>>8,this[C+3]=N&255,C+4},a.prototype.writeBigInt64LE=Ct(function(N,C=0){return O(this,N,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ct(function(N,C=0){return G(this,N,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(L,N,C,$,W,Y){if(C+$>L.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function ee(L,N,C,$,W){return N=+N,C=C>>>0,W||X(L,N,C,4),n.write(L,N,C,$,23,4),C+4}a.prototype.writeFloatLE=function(N,C,$){return ee(this,N,C,!0,$)},a.prototype.writeFloatBE=function(N,C,$){return ee(this,N,C,!1,$)};function oe(L,N,C,$,W){return N=+N,C=C>>>0,W||X(L,N,C,8),n.write(L,N,C,$,52,8),C+8}a.prototype.writeDoubleLE=function(N,C,$){return oe(this,N,C,!0,$)},a.prototype.writeDoubleBE=function(N,C,$){return oe(this,N,C,!1,$)},a.prototype.copy=function(N,C,$,W){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if($||($=0),!W&&W!==0&&(W=this.length),C>=N.length&&(C=N.length),C||(C=0),W>0&&W<$&&(W=$),W===$||N.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),N.length-C<W-$&&(W=N.length-C+$);const Y=W-$;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,$,W):Uint8Array.prototype.set.call(N,this.subarray($,W),C),Y},a.prototype.fill=function(N,C,$,W){if(typeof N=="string"){if(typeof C=="string"?(W=C,C=0,$=this.length):typeof $=="string"&&(W=$,$=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!a.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(N.length===1){const te=N.charCodeAt(0);(W==="utf8"&&te<128||W==="latin1")&&(N=te)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(C<0||this.length<C||this.length<$)throw new RangeError("Out of range index");if($<=C)return this;C=C>>>0,$=$===void 0?this.length:$>>>0,N||(N=0);let Y;if(typeof N=="number")for(Y=C;Y<$;++Y)this[Y]=N;else{const te=a.isBuffer(N)?N:a.from(N,W),qe=te.length;if(qe===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Y=0;Y<$-C;++Y)this[Y+C]=te[Y%qe]}return this};const ue={};function we(L,N,C){ue[L]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}we("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(L,N){return`The "${L}" argument must be of type number. Received type ${typeof N}`},TypeError),we("ERR_OUT_OF_RANGE",function(L,N,C){let $=`The value of "${L}" is out of range.`,W=C;return Number.isInteger(C)&&Math.abs(C)>2**32?W=Te(String(C)):typeof C=="bigint"&&(W=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(W=Te(W)),W+="n"),$+=` It must be ${N}. Received ${W}`,$},RangeError);function Te(L){let N="",C=L.length;const $=L[0]==="-"?1:0;for(;C>=$+4;C-=3)N=`_${L.slice(C-3,C)}${N}`;return`${L.slice(0,C)}${N}`}function Se(L,N,C){Fe(N,"offset"),(L[N]===void 0||L[N+C]===void 0)&&se(N,L.length-(C+1))}function ye(L,N,C,$,W,Y){if(L>C||L<N){const te=typeof N=="bigint"?"n":"";let qe;throw N===0||N===BigInt(0)?qe=`>= 0${te} and < 2${te} ** ${(Y+1)*8}${te}`:qe=`>= -(2${te} ** ${(Y+1)*8-1}${te}) and < 2 ** ${(Y+1)*8-1}${te}`,new ue.ERR_OUT_OF_RANGE("value",qe,L)}Se($,W,Y)}function Fe(L,N){if(typeof L!="number")throw new ue.ERR_INVALID_ARG_TYPE(N,"number",L)}function se(L,N,C){throw Math.floor(L)!==L?(Fe(L,C),new ue.ERR_OUT_OF_RANGE("offset","an integer",L)):N<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,L)}const he=/[^+/0-9A-Za-z-_]/g;function Ee(L){if(L=L.split("=")[0],L=L.trim().replace(he,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function Oe(L,N){N=N||1/0;let C;const $=L.length;let W=null;const Y=[];for(let te=0;te<$;++te){if(C=L.charCodeAt(te),C>55295&&C<57344){if(!W){if(C>56319){(N-=3)>-1&&Y.push(239,191,189);continue}else if(te+1===$){(N-=3)>-1&&Y.push(239,191,189);continue}W=C;continue}if(C<56320){(N-=3)>-1&&Y.push(239,191,189),W=C;continue}C=(W-55296<<10|C-56320)+65536}else W&&(N-=3)>-1&&Y.push(239,191,189);if(W=null,C<128){if((N-=1)<0)break;Y.push(C)}else if(C<2048){if((N-=2)<0)break;Y.push(C>>6|192,C&63|128)}else if(C<65536){if((N-=3)<0)break;Y.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((N-=4)<0)break;Y.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return Y}function Ze(L){const N=[];for(let C=0;C<L.length;++C)N.push(L.charCodeAt(C)&255);return N}function xt(L,N){let C,$,W;const Y=[];for(let te=0;te<L.length&&!((N-=2)<0);++te)C=L.charCodeAt(te),$=C>>8,W=C%256,Y.push(W),Y.push($);return Y}function He(L){return e.toByteArray(Ee(L))}function nt(L,N,C,$){let W;for(W=0;W<$&&!(W+C>=N.length||W>=L.length);++W)N[W+C]=L[W];return W}function nn(L,N){return L instanceof N||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===N.name}function gt(L){return L!==L}const $e=function(){const L="0123456789abcdef",N=new Array(256);for(let C=0;C<16;++C){const $=C*16;for(let W=0;W<16;++W)N[$+W]=L[C]+L[W]}return N}();function Ct(L){return typeof BigInt>"u"?ct:L}function ct(){throw new Error("BigInt not supported")}})(Ke);const Fa=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function KD(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function wd(t,...e){if(!KD(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function YD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Qy(t.outputLen),Qy(t.blockLen)}function Kh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function QD(t,e){wd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ic(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Pg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ns(t,e){return t<<32-e|t>>>e}function JD(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Rb(t){return typeof t=="string"&&(t=JD(t)),wd(t),t}function ZD(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];wd(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const o=t[r];n.set(o,s),s+=o.length}return n}class OC{}function LC(t){const e=r=>t().update(Rb(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function PC(t=32){if(Fa&&typeof Fa.getRandomValues=="function")return Fa.getRandomValues(new Uint8Array(t));if(Fa&&typeof Fa.randomBytes=="function")return Uint8Array.from(Fa.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function XD(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,i,r),t.setUint32(e+c,a,r)}function e8(t,e,n){return t&e^~t&n}function t8(t,e,n){return t&e^t&n^e&n}class DC extends OC{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Pg(this.buffer)}update(e){Kh(this),e=Rb(e),wd(e);const{view:n,buffer:r,blockLen:s}=this,o=e.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const l=Pg(e);for(;s<=o-i;i+=s)this.process(l,i);continue}r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kh(this),QD(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,ic(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;XD(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Pg(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return e.destroyed=i,e.finished=o,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const jo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),af=BigInt(2**32-1),$S=BigInt(32);function n8(t,e=!1){return e?{h:Number(t&af),l:Number(t>>$S&af)}:{h:Number(t>>$S&af)|0,l:Number(t&af)|0}}function r8(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=n8(t[o],e);[r[o],s[o]]=[i,a]}return[r,s]}const US=(t,e,n)=>t>>>n,FS=(t,e,n)=>t<<32-n|e>>>n,Wa=(t,e,n)=>t>>>n|e<<32-n,Va=(t,e,n)=>t<<32-n|e>>>n,lf=(t,e,n)=>t<<64-n|e>>>n-32,cf=(t,e,n)=>t>>>n-32|e<<64-n;function Ks(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const s8=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),o8=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,i8=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),a8=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,l8=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),c8=(t,e,n,r,s,o)=>e+n+r+s+o+(t/2**32|0)|0,u8=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ro=new Uint32Array(64);class d8 extends DC{constructor(e=32){super(64,e,8,!1),this.A=jo[0]|0,this.B=jo[1]|0,this.C=jo[2]|0,this.D=jo[3]|0,this.E=jo[4]|0,this.F=jo[5]|0,this.G=jo[6]|0,this.H=jo[7]|0}get(){const{A:e,B:n,C:r,D:s,E:o,F:i,G:a,H:l}=this;return[e,n,r,s,o,i,a,l]}set(e,n,r,s,o,i,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Ro[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Ro[f-15],p=Ro[f-2],v=Ns(h,7)^Ns(h,18)^h>>>3,m=Ns(p,17)^Ns(p,19)^p>>>10;Ro[f]=m+Ro[f-7]+v+Ro[f-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:l,G:c,H:d}=this;for(let f=0;f<64;f++){const h=Ns(a,6)^Ns(a,11)^Ns(a,25),p=d+h+e8(a,l,c)+u8[f]+Ro[f]|0,m=(Ns(r,2)^Ns(r,13)^Ns(r,22))+t8(r,s,o)|0;d=c,c=l,l=a,a=i+p|0,i=o,o=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,l,c,d)}roundClean(){ic(Ro)}destroy(){this.set(0,0,0,0,0,0,0,0),ic(this.buffer)}}const BC=r8(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),f8=BC[0],h8=BC[1],Oo=new Uint32Array(80),Lo=new Uint32Array(80);class p8 extends DC{constructor(e=64){super(128,e,16,!1),this.Ah=Dn[0]|0,this.Al=Dn[1]|0,this.Bh=Dn[2]|0,this.Bl=Dn[3]|0,this.Ch=Dn[4]|0,this.Cl=Dn[5]|0,this.Dh=Dn[6]|0,this.Dl=Dn[7]|0,this.Eh=Dn[8]|0,this.El=Dn[9]|0,this.Fh=Dn[10]|0,this.Fl=Dn[11]|0,this.Gh=Dn[12]|0,this.Gl=Dn[13]|0,this.Hh=Dn[14]|0,this.Hl=Dn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:o,Cl:i,Dh:a,Dl:l,Eh:c,El:d,Fh:f,Fl:h,Gh:p,Gl:v,Hh:m,Hl:b}=this;return[e,n,r,s,o,i,a,l,c,d,f,h,p,v,m,b]}set(e,n,r,s,o,i,a,l,c,d,f,h,p,v,m,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=v|0,this.Hh=m|0,this.Hl=b|0}process(e,n){for(let E=0;E<16;E++,n+=4)Oo[E]=e.getUint32(n),Lo[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const A=Oo[E-15]|0,k=Lo[E-15]|0,B=Wa(A,k,1)^Wa(A,k,8)^US(A,k,7),z=Va(A,k,1)^Va(A,k,8)^FS(A,k,7),U=Oo[E-2]|0,K=Lo[E-2]|0,V=Wa(U,K,19)^lf(U,K,61)^US(U,K,6),q=Va(U,K,19)^cf(U,K,61)^FS(U,K,6),J=i8(z,q,Lo[E-7],Lo[E-16]),D=a8(J,B,V,Oo[E-7],Oo[E-16]);Oo[E]=D|0,Lo[E]=J|0}let{Ah:r,Al:s,Bh:o,Bl:i,Ch:a,Cl:l,Dh:c,Dl:d,Eh:f,El:h,Fh:p,Fl:v,Gh:m,Gl:b,Hh:S,Hl:x}=this;for(let E=0;E<80;E++){const A=Wa(f,h,14)^Wa(f,h,18)^lf(f,h,41),k=Va(f,h,14)^Va(f,h,18)^cf(f,h,41),B=f&p^~f&m,z=h&v^~h&b,U=l8(x,k,z,h8[E],Lo[E]),K=c8(U,S,A,B,f8[E],Oo[E]),V=U|0,q=Wa(r,s,28)^lf(r,s,34)^lf(r,s,39),J=Va(r,s,28)^cf(r,s,34)^cf(r,s,39),D=r&o^r&a^o&a,y=s&i^s&l^i&l;S=m|0,x=b|0,m=p|0,b=v|0,p=f|0,v=h|0,{h:f,l:h}=Ks(c|0,d|0,K|0,V|0),c=a|0,d=l|0,a=o|0,l=i|0,o=r|0,i=s|0;const _=s8(V,J,y);r=o8(_,K,q,D),s=_|0}({h:r,l:s}=Ks(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:i}=Ks(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l}=Ks(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:d}=Ks(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:h}=Ks(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:v}=Ks(this.Fh|0,this.Fl|0,p|0,v|0),{h:m,l:b}=Ks(this.Gh|0,this.Gl|0,m|0,b|0),{h:S,l:x}=Ks(this.Hh|0,this.Hl|0,S|0,x|0),this.set(r,s,o,i,a,l,c,d,f,h,p,v,m,b,S,x)}roundClean(){ic(Oo,Lo)}destroy(){ic(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zC=LC(()=>new d8),m8=LC(()=>new p8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ob=BigInt(0),Jy=BigInt(1);function bd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lb(t){if(!bd(t))throw new Error("Uint8Array expected")}function vi(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function uf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $C(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Ob:BigInt("0x"+t)}const UC=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",g8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ac(t){if(Lb(t),UC)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=g8[t[n]];return e}const Ys={_0:48,_9:57,A:65,F:70,a:97,f:102};function WS(t){if(t>=Ys._0&&t<=Ys._9)return t-Ys._0;if(t>=Ys.A&&t<=Ys.F)return t-(Ys.A-10);if(t>=Ys.a&&t<=Ys.f)return t-(Ys.a-10)}function Yh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(UC)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=WS(t.charCodeAt(o)),a=WS(t.charCodeAt(o+1));if(i===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[s]=i*16+a}return r}function pa(t){return $C(ac(t))}function Su(t){return Lb(t),$C(ac(Uint8Array.from(t).reverse()))}function xd(t,e){return Yh(t.toString(16).padStart(e*2,"0"))}function Qh(t,e){return xd(t,e).reverse()}function sn(t,e,n){let r;if(typeof e=="string")try{r=Yh(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(bd(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function lc(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Lb(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const o=t[r];n.set(o,s),s+=o.length}return n}const Dg=t=>typeof t=="bigint"&&Ob<=t;function Pb(t,e,n){return Dg(t)&&Dg(e)&&Dg(n)&&e<=t&&t<n}function hs(t,e,n,r){if(!Pb(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function y8(t){let e;for(e=0;t>Ob;t>>=Jy,e+=1);return e}const tm=t=>(Jy<<BigInt(t))-Jy,Bg=t=>new Uint8Array(t),VS=t=>Uint8Array.from(t);function v8(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Bg(t),s=Bg(t),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...f)=>n(s,r,...f),l=(f=Bg(0))=>{s=a(VS([0]),f),r=a(),f.length!==0&&(s=a(VS([1]),f),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=a();const p=r.slice();h.push(p),f+=r.length}return lc(...h)};return(f,h)=>{i(),l(f);let p;for(;!(p=h(c()));)l();return i(),p}}const w8={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||bd(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Sd(t,e,n={}){const r=(s,o,i)=>{const a=w8[o];if(typeof a!="function")throw new Error("invalid validator function");const l=t[s];if(!(i&&l===void 0)&&!a(l,t))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+l)};for(const[s,o]of Object.entries(e))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return t}function Jh(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const o=t(n,...r);return e.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hr=BigInt(0),jn=BigInt(1),ea=BigInt(2),b8=BigInt(3),FC=BigInt(4),WC=BigInt(5),VC=BigInt(8);function $t(t,e){const n=t%e;return n>=hr?n:e+n}function en(t,e,n){let r=t;for(;e-- >hr;)r*=r,r%=n;return r}function Zy(t,e){if(t===hr)throw new Error("invert: expected non-zero number");if(e<=hr)throw new Error("invert: expected positive modulus, got "+e);let n=$t(t,e),r=e,s=hr,o=jn;for(;n!==hr;){const a=r/n,l=r%n,c=s-o*a;r=n,n=l,s=o,o=c}if(r!==jn)throw new Error("invert: does not exist");return $t(s,e)}function HC(t,e){const n=(t.ORDER+jn)/FC,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function x8(t,e){const n=(t.ORDER-WC)/VC,r=t.mul(e,ea),s=t.pow(r,n),o=t.mul(e,s),i=t.mul(t.mul(o,ea),s),a=t.mul(o,t.sub(i,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function S8(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-jn,n=0;for(;e%ea===hr;)e/=ea,n++;let r=ea;const s=Ed(t);for(;HS(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return HC;let o=s.pow(r,e);const i=(e+jn)/ea;return function(l,c){if(l.is0(c))return c;if(HS(l,c)!==1)throw new Error("Cannot find square root");let d=n,f=l.mul(l.ONE,o),h=l.pow(c,e),p=l.pow(c,i);for(;!l.eql(h,l.ONE);){if(l.is0(h))return l.ZERO;let v=1,m=l.sqr(h);for(;!l.eql(m,l.ONE);)if(v++,m=l.sqr(m),v===d)throw new Error("Cannot find square root");const b=jn<<BigInt(d-v-1),S=l.pow(f,b);d=v,f=l.sqr(S),h=l.mul(h,f),p=l.mul(p,S)}return p}}function E8(t){return t%FC===b8?HC:t%VC===WC?x8:S8(t)}const _8=(t,e)=>($t(t,e)&jn)===jn,N8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function A8(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=N8.reduce((r,s)=>(r[s]="function",r),e);return Sd(t,n)}function C8(t,e,n){if(n<hr)throw new Error("invalid exponent, negatives unsupported");if(n===hr)return t.ONE;if(n===jn)return e;let r=t.ONE,s=e;for(;n>hr;)n&jn&&(r=t.mul(r,s)),s=t.sqr(s),n>>=jn;return r}function Db(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((i,a,l)=>t.is0(a)?i:(r[l]=i,t.mul(i,a)),t.ONE),o=t.inv(s);return e.reduceRight((i,a,l)=>t.is0(a)?i:(r[l]=t.mul(i,r[l]),t.mul(i,a)),o),r}function HS(t,e){const n=(t.ORDER-jn)/ea,r=t.pow(e,n),s=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function qC(t,e){e!==void 0&&Qy(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ed(t,e,n=!1,r={}){if(t<=hr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:o}=qC(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:o,MASK:tm(s),ZERO:hr,ONE:jn,create:l=>$t(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return hr<=l&&l<t},is0:l=>l===hr,isOdd:l=>(l&jn)===jn,neg:l=>$t(-l,t),eql:(l,c)=>l===c,sqr:l=>$t(l*l,t),add:(l,c)=>$t(l+c,t),sub:(l,c)=>$t(l-c,t),mul:(l,c)=>$t(l*c,t),pow:(l,c)=>C8(a,l,c),div:(l,c)=>$t(l*Zy(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Zy(l,t),sqrt:r.sqrt||(l=>(i||(i=E8(t)),i(a,l))),toBytes:l=>n?Qh(l,o):xd(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?Su(l):pa(l)},invertBatch:l=>Db(a,l),cmov:(l,c,d)=>d?c:l});return Object.freeze(a)}function GC(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function KC(t){const e=GC(t);return e+Math.ceil(e/2)}function k8(t,e,n=!1){const r=t.length,s=GC(e),o=KC(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Su(t):pa(t),a=$t(i,e-jn)+jn;return n?Qh(a,s):xd(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qS=BigInt(0),Xy=BigInt(1);function zg(t,e){const n=e.negate();return t?n:e}function YC(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function $g(t,e){YC(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,o=tm(t),i=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function GS(t,e,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(t&s),l=t>>i;a>r&&(a-=o,l+=Xy);const c=e*r,d=c+Math.abs(a)-1,f=a===0,h=a<0,p=e%2!==0;return{nextN:l,offset:d,isZero:f,isNeg:h,isNegF:p,offsetF:c}}function M8(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function T8(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ug=new WeakMap,QC=new WeakMap;function Fg(t){return QC.get(t)||1}function JC(t,e){return{constTimeNegate:zg,hasPrecomputes(n){return Fg(n)!==1},unsafeLadder(n,r,s=t.ZERO){let o=n;for(;r>qS;)r&Xy&&(s=s.add(o)),o=o.double(),r>>=Xy;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=$g(r,e),i=[];let a=n,l=a;for(let c=0;c<s;c++){l=a,i.push(l);for(let d=1;d<o;d++)l=l.add(a),i.push(l);a=l.double()}return i},wNAF(n,r,s){let o=t.ZERO,i=t.BASE;const a=$g(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:d,isZero:f,isNeg:h,isNegF:p,offsetF:v}=GS(s,l,a);s=c,f?i=i.add(zg(p,r[v])):o=o.add(zg(h,r[d]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=t.ZERO){const i=$g(n,e);for(let a=0;a<i.windows&&s!==qS;a++){const{nextN:l,offset:c,isZero:d,isNeg:f}=GS(s,a,i);if(s=l,!d){const h=r[c];o=o.add(f?h.negate():h)}}return o},getPrecomputes(n,r,s){let o=Ug.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Ug.set(r,s(o))),o},wNAFCached(n,r,s){const o=Fg(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Fg(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){YC(r,e),QC.set(n,r),Ug.delete(n)}}}function ZC(t,e,n,r){M8(n,t),T8(r,e);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,a=y8(BigInt(s));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=tm(l),d=new Array(Number(c)+1).fill(i),f=Math.floor((e.BITS-1)/l)*l;let h=i;for(let p=f;p>=0;p-=l){d.fill(i);for(let m=0;m<o;m++){const b=r[m],S=Number(b>>BigInt(p)&c);d[S]=d[S].add(n[m])}let v=i;for(let m=d.length-1,b=i;m>0;m--)b=b.add(d[m]),v=v.add(b);if(h=h.add(v),p!==0)for(let m=0;m<l;m++)h=h.double()}return h}function Bb(t){return A8(t.Fp),Sd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qC(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const As=BigInt(0),Kn=BigInt(1),KS=BigInt(2),I8=BigInt(8),j8={zip215:!0};function R8(t){const e=Bb(t);return Sd(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function O8(t){const e=R8(t),{Fp:n,n:r,prehash:s,hash:o,randomBytes:i,nByteLength:a,h:l}=e,c=KS<<BigInt(a*8)-Kn,d=n.create,f=Ed(e.n,e.nBitLength);function h(M,j){const P=n.sqr(M),I=n.sqr(j),w=n.add(n.mul(e.a,P),I),O=n.add(n.ONE,n.mul(e.d,n.mul(P,I)));return n.eql(w,O)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const p=e.uvRatio||((M,j)=>{try{return{isValid:!0,value:n.sqrt(M*n.inv(j))}}catch{return{isValid:!1,value:As}}}),v=e.adjustScalarBytes||(M=>M),m=e.domain||((M,j,P)=>{if(vi("phflag",P),j.length||P)throw new Error("Contexts/pre-hash are not supported");return M});function b(M,j,P=!1){const I=P?Kn:As;hs("coordinate "+M,j,I,c)}function S(M){if(!(M instanceof A))throw new Error("ExtendedPoint expected")}const x=Jh((M,j)=>{const{ex:P,ey:I,ez:w}=M,O=M.is0();j==null&&(j=O?I8:n.inv(w));const G=d(P*j),X=d(I*j),ee=d(w*j);if(O)return{x:As,y:Kn};if(ee!==Kn)throw new Error("invZ was invalid");return{x:G,y:X}}),E=Jh(M=>{const{a:j,d:P}=e;if(M.is0())throw new Error("bad point: ZERO");const{ex:I,ey:w,ez:O,et:G}=M,X=d(I*I),ee=d(w*w),oe=d(O*O),ue=d(oe*oe),we=d(X*j),Te=d(oe*d(we+ee)),Se=d(ue+d(P*d(X*ee)));if(Te!==Se)throw new Error("bad point: equation left != right (1)");const ye=d(I*w),Fe=d(O*G);if(ye!==Fe)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(j,P,I,w){b("x",j),b("y",P),b("z",I,!0),b("t",w),this.ex=j,this.ey=P,this.ez=I,this.et=w,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(j){if(j instanceof A)throw new Error("extended point not allowed");const{x:P,y:I}=j||{};return b("x",P),b("y",I),new A(P,I,Kn,d(P*I))}static normalizeZ(j){const P=Db(n,j.map(I=>I.ez));return j.map((I,w)=>I.toAffine(P[w])).map(A.fromAffine)}static msm(j,P){return ZC(A,f,j,P)}_setWindowSize(j){z.setWindowSize(this,j)}assertValidity(){E(this)}equals(j){S(j);const{ex:P,ey:I,ez:w}=this,{ex:O,ey:G,ez:X}=j,ee=d(P*X),oe=d(O*w),ue=d(I*X),we=d(G*w);return ee===oe&&ue===we}is0(){return this.equals(A.ZERO)}negate(){return new A(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:j}=e,{ex:P,ey:I,ez:w}=this,O=d(P*P),G=d(I*I),X=d(KS*d(w*w)),ee=d(j*O),oe=P+I,ue=d(d(oe*oe)-O-G),we=ee+G,Te=we-X,Se=ee-G,ye=d(ue*Te),Fe=d(we*Se),se=d(ue*Se),he=d(Te*we);return new A(ye,Fe,he,se)}add(j){S(j);const{a:P,d:I}=e,{ex:w,ey:O,ez:G,et:X}=this,{ex:ee,ey:oe,ez:ue,et:we}=j,Te=d(w*ee),Se=d(O*oe),ye=d(X*I*we),Fe=d(G*ue),se=d((w+O)*(ee+oe)-Te-Se),he=Fe-ye,Ee=Fe+ye,Oe=d(Se-P*Te),Ze=d(se*he),xt=d(Ee*Oe),He=d(se*Oe),nt=d(he*Ee);return new A(Ze,xt,nt,He)}subtract(j){return this.add(j.negate())}wNAF(j){return z.wNAFCached(this,j,A.normalizeZ)}multiply(j){const P=j;hs("scalar",P,Kn,r);const{p:I,f:w}=this.wNAF(P);return A.normalizeZ([I,w])[0]}multiplyUnsafe(j,P=A.ZERO){const I=j;return hs("scalar",I,As,r),I===As?B:this.is0()||I===Kn?this:z.wNAFCachedUnsafe(this,I,A.normalizeZ,P)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return z.unsafeLadder(this,r).is0()}toAffine(j){return x(this,j)}clearCofactor(){const{h:j}=e;return j===Kn?this:this.multiplyUnsafe(j)}static fromHex(j,P=!1){const{d:I,a:w}=e,O=n.BYTES;j=sn("pointHex",j,O),vi("zip215",P);const G=j.slice(),X=j[O-1];G[O-1]=X&-129;const ee=Su(G),oe=P?c:n.ORDER;hs("pointHex.y",ee,As,oe);const ue=d(ee*ee),we=d(ue-Kn),Te=d(I*ue-w);let{isValid:Se,value:ye}=p(we,Te);if(!Se)throw new Error("Point.fromHex: invalid y coordinate");const Fe=(ye&Kn)===Kn,se=(X&128)!==0;if(!P&&ye===As&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==Fe&&(ye=d(-ye)),A.fromAffine({x:ye,y:ee})}static fromPrivateKey(j){const{scalar:P}=V(j);return k.multiply(P)}toRawBytes(){const{x:j,y:P}=this.toAffine(),I=Qh(P,n.BYTES);return I[I.length-1]|=j&Kn?128:0,I}toHex(){return ac(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,Kn,d(e.Gx*e.Gy)),A.ZERO=new A(As,Kn,Kn,As);const{BASE:k,ZERO:B}=A,z=JC(A,a*8);function U(M){return $t(M,r)}function K(M){return U(Su(M))}function V(M){const j=n.BYTES;M=sn("private key",M,j);const P=sn("hashed private key",o(M),2*j),I=v(P.slice(0,j)),w=P.slice(j,2*j),O=K(I);return{head:I,prefix:w,scalar:O}}function q(M){const{head:j,prefix:P,scalar:I}=V(M),w=k.multiply(I),O=w.toRawBytes();return{head:j,prefix:P,scalar:I,point:w,pointBytes:O}}function J(M){return q(M).pointBytes}function D(M=Uint8Array.of(),...j){const P=lc(...j);return K(o(m(P,sn("context",M),!!s)))}function y(M,j,P={}){M=sn("message",M),s&&(M=s(M));const{prefix:I,scalar:w,pointBytes:O}=q(j),G=D(P.context,I,M),X=k.multiply(G).toRawBytes(),ee=D(P.context,X,O,M),oe=U(G+ee*w);hs("signature.s",oe,As,r);const ue=lc(X,Qh(oe,n.BYTES));return sn("result",ue,n.BYTES*2)}const _=j8;function T(M,j,P,I=_){const{context:w,zip215:O}=I,G=n.BYTES;M=sn("signature",M,2*G),j=sn("message",j),P=sn("publicKey",P,G),O!==void 0&&vi("zip215",O),s&&(j=s(j));const X=Su(M.slice(G,2*G));let ee,oe,ue;try{ee=A.fromHex(P,O),oe=A.fromHex(M.slice(0,G),O),ue=k.multiplyUnsafe(X)}catch{return!1}if(!O&&ee.isSmallOrder())return!1;const we=D(w,oe.toRawBytes(),ee.toRawBytes(),j);return oe.add(ee.multiplyUnsafe(we)).subtract(ue).clearCofactor().equals(A.ZERO)}return k._setWindowSize(8),{CURVE:e,getPublicKey:J,sign:y,verify:T,ExtendedPoint:A,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>i(n.BYTES),precompute(M=8,j=A.BASE){return j._setWindowSize(M),j.multiply(BigInt(3)),j}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),YS=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const L8=BigInt(1),QS=BigInt(2);BigInt(3);const P8=BigInt(5),D8=BigInt(8);function B8(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),o=zb,a=t*t%o*t%o,l=en(a,QS,o)*a%o,c=en(l,L8,o)*t%o,d=en(c,P8,o)*c%o,f=en(d,e,o)*d%o,h=en(f,n,o)*f%o,p=en(h,r,o)*h%o,v=en(p,s,o)*p%o,m=en(v,s,o)*p%o,b=en(m,e,o)*d%o;return{pow_p_5_8:en(b,QS,o)*t%o,b2:a}}function z8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function $8(t,e){const n=zb,r=$t(e*e*e,n),s=$t(r*r*e,n),o=B8(t*s).pow_p_5_8;let i=$t(t*r*o,n);const a=$t(e*i*i,n),l=i,c=$t(i*YS,n),d=a===t,f=a===$t(-t,n),h=a===$t(-t*YS,n);return d&&(i=l),(f||h)&&(i=c),_8(i,n)&&(i=$t(-i,n)),{isValid:d||f,value:i}}const JS=Ed(zb,void 0,!0),U8={a:JS.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:JS,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:D8,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:m8,randomBytes:PC,adjustScalarBytes:z8,uvRatio:$8},$b=O8(U8);var Ub={exports:{}};const F8={},W8=Object.freeze(Object.defineProperty({__proto__:null,default:F8},Symbol.toStringTag,{value:"Module"})),V8=xp(W8);Ub.exports;(function(t){(function(e,n){function r(D,y){if(!D)throw new Error(y||"Assertion failed")}function s(D,y){D.super_=y;var _=function(){};_.prototype=y.prototype,D.prototype=new _,D.prototype.constructor=D}function o(D,y,_){if(o.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((y==="le"||y==="be")&&(_=y,y=10),this._init(D||0,y||10,_||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=V8.Buffer}catch{}o.isBN=function(y){return y instanceof o?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===o.wordSize&&Array.isArray(y.words)},o.max=function(y,_){return y.cmp(_)>0?y:_},o.min=function(y,_){return y.cmp(_)<0?y:_},o.prototype._init=function(y,_,T){if(typeof y=="number")return this._initNumber(y,_,T);if(typeof y=="object")return this._initArray(y,_,T);_==="hex"&&(_=16),r(_===(_|0)&&_>=2&&_<=36),y=y.toString().replace(/\s+/g,"");var R=0;y[0]==="-"&&(R++,this.negative=1),R<y.length&&(_===16?this._parseHex(y,R,T):(this._parseBase(y,_,R),T==="le"&&this._initArray(this.toArray(),_,T)))},o.prototype._initNumber=function(y,_,T){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),_,T)},o.prototype._initArray=function(y,_,T){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var M,j,P=0;if(T==="be")for(R=y.length-1,M=0;R>=0;R-=3)j=y[R]|y[R-1]<<8|y[R-2]<<16,this.words[M]|=j<<P&67108863,this.words[M+1]=j>>>26-P&67108863,P+=24,P>=26&&(P-=26,M++);else if(T==="le")for(R=0,M=0;R<y.length;R+=3)j=y[R]|y[R+1]<<8|y[R+2]<<16,this.words[M]|=j<<P&67108863,this.words[M+1]=j>>>26-P&67108863,P+=24,P>=26&&(P-=26,M++);return this._strip()};function a(D,y){var _=D.charCodeAt(y);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;r(!1,"Invalid character in "+D)}function l(D,y,_){var T=a(D,_);return _-1>=y&&(T|=a(D,_-1)<<4),T}o.prototype._parseHex=function(y,_,T){this.length=Math.ceil((y.length-_)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var M=0,j=0,P;if(T==="be")for(R=y.length-1;R>=_;R-=2)P=l(y,_,R)<<M,this.words[j]|=P&67108863,M>=18?(M-=18,j+=1,this.words[j]|=P>>>26):M+=8;else{var I=y.length-_;for(R=I%2===0?_+1:_;R<y.length;R+=2)P=l(y,_,R)<<M,this.words[j]|=P&67108863,M>=18?(M-=18,j+=1,this.words[j]|=P>>>26):M+=8}this._strip()};function c(D,y,_,T){for(var R=0,M=0,j=Math.min(D.length,_),P=y;P<j;P++){var I=D.charCodeAt(P)-48;R*=T,I>=49?M=I-49+10:I>=17?M=I-17+10:M=I,r(I>=0&&M<T,"Invalid character"),R+=M}return R}o.prototype._parseBase=function(y,_,T){this.words=[0],this.length=1;for(var R=0,M=1;M<=67108863;M*=_)R++;R--,M=M/_|0;for(var j=y.length-T,P=j%R,I=Math.min(j,j-P)+T,w=0,O=T;O<I;O+=R)w=c(y,O,O+R,_),this.imuln(M),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(P!==0){var G=1;for(w=c(y,O,y.length,_),O=0;O<P;O++)G*=_;this.imuln(G),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},o.prototype.copy=function(y){y.words=new Array(this.length);for(var _=0;_<this.length;_++)y.words[_]=this.words[_];y.length=this.length,y.negative=this.negative,y.red=this.red};function d(D,y){D.words=y.words,D.length=y.length,D.negative=y.negative,D.red=y.red}if(o.prototype._move=function(y){d(y,this)},o.prototype.clone=function(){var y=new o(null);return this.copy(y),y},o.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(y,_){y=y||10,_=_|0||1;var T;if(y===16||y==="hex"){T="";for(var R=0,M=0,j=0;j<this.length;j++){var P=this.words[j],I=((P<<R|M)&16777215).toString(16);M=P>>>24-R&16777215,R+=2,R>=26&&(R-=26,j--),M!==0||j!==this.length-1?T=h[6-I.length]+I+T:T=I+T}for(M!==0&&(T=M.toString(16)+T);T.length%_!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(y===(y|0)&&y>=2&&y<=36){var w=p[y],O=v[y];T="";var G=this.clone();for(G.negative=0;!G.isZero();){var X=G.modrn(O).toString(y);G=G.idivn(O),G.isZero()?T=X+T:T=h[w-X.length]+X+T}for(this.isZero()&&(T="0"+T);T.length%_!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},o.prototype.toJSON=function(){return this.toString(16,2)},i&&(o.prototype.toBuffer=function(y,_){return this.toArrayLike(i,y,_)}),o.prototype.toArray=function(y,_){return this.toArrayLike(Array,y,_)};var m=function(y,_){return y.allocUnsafe?y.allocUnsafe(_):new y(_)};o.prototype.toArrayLike=function(y,_,T){this._strip();var R=this.byteLength(),M=T||Math.max(1,R);r(R<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0");var j=m(y,M),P=_==="le"?"LE":"BE";return this["_toArrayLike"+P](j,R),j},o.prototype._toArrayLikeLE=function(y,_){for(var T=0,R=0,M=0,j=0;M<this.length;M++){var P=this.words[M]<<j|R;y[T++]=P&255,T<y.length&&(y[T++]=P>>8&255),T<y.length&&(y[T++]=P>>16&255),j===6?(T<y.length&&(y[T++]=P>>24&255),R=0,j=0):(R=P>>>24,j+=2)}if(T<y.length)for(y[T++]=R;T<y.length;)y[T++]=0},o.prototype._toArrayLikeBE=function(y,_){for(var T=y.length-1,R=0,M=0,j=0;M<this.length;M++){var P=this.words[M]<<j|R;y[T--]=P&255,T>=0&&(y[T--]=P>>8&255),T>=0&&(y[T--]=P>>16&255),j===6?(T>=0&&(y[T--]=P>>24&255),R=0,j=0):(R=P>>>24,j+=2)}if(T>=0)for(y[T--]=R;T>=0;)y[T--]=0},Math.clz32?o.prototype._countBits=function(y){return 32-Math.clz32(y)}:o.prototype._countBits=function(y){var _=y,T=0;return _>=4096&&(T+=13,_>>>=13),_>=64&&(T+=7,_>>>=7),_>=8&&(T+=4,_>>>=4),_>=2&&(T+=2,_>>>=2),T+_},o.prototype._zeroBits=function(y){if(y===0)return 26;var _=y,T=0;return _&8191||(T+=13,_>>>=13),_&127||(T+=7,_>>>=7),_&15||(T+=4,_>>>=4),_&3||(T+=2,_>>>=2),_&1||T++,T},o.prototype.bitLength=function(){var y=this.words[this.length-1],_=this._countBits(y);return(this.length-1)*26+_};function b(D){for(var y=new Array(D.bitLength()),_=0;_<y.length;_++){var T=_/26|0,R=_%26;y[_]=D.words[T]>>>R&1}return y}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,_=0;_<this.length;_++){var T=this._zeroBits(this.words[_]);if(y+=T,T!==26)break}return y},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},o.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var _=0;_<y.length;_++)this.words[_]=this.words[_]|y.words[_];return this._strip()},o.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},o.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},o.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},o.prototype.iuand=function(y){var _;this.length>y.length?_=y:_=this;for(var T=0;T<_.length;T++)this.words[T]=this.words[T]&y.words[T];return this.length=_.length,this._strip()},o.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},o.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},o.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},o.prototype.iuxor=function(y){var _,T;this.length>y.length?(_=this,T=y):(_=y,T=this);for(var R=0;R<T.length;R++)this.words[R]=_.words[R]^T.words[R];if(this!==_)for(;R<_.length;R++)this.words[R]=_.words[R];return this.length=_.length,this._strip()},o.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},o.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},o.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},o.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var _=Math.ceil(y/26)|0,T=y%26;this._expand(_),T>0&&_--;for(var R=0;R<_;R++)this.words[R]=~this.words[R]&67108863;return T>0&&(this.words[R]=~this.words[R]&67108863>>26-T),this._strip()},o.prototype.notn=function(y){return this.clone().inotn(y)},o.prototype.setn=function(y,_){r(typeof y=="number"&&y>=0);var T=y/26|0,R=y%26;return this._expand(T+1),_?this.words[T]=this.words[T]|1<<R:this.words[T]=this.words[T]&~(1<<R),this._strip()},o.prototype.iadd=function(y){var _;if(this.negative!==0&&y.negative===0)return this.negative=0,_=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,_=this.isub(y),y.negative=1,_._normSign();var T,R;this.length>y.length?(T=this,R=y):(T=y,R=this);for(var M=0,j=0;j<R.length;j++)_=(T.words[j]|0)+(R.words[j]|0)+M,this.words[j]=_&67108863,M=_>>>26;for(;M!==0&&j<T.length;j++)_=(T.words[j]|0)+M,this.words[j]=_&67108863,M=_>>>26;if(this.length=T.length,M!==0)this.words[this.length]=M,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},o.prototype.add=function(y){var _;return y.negative!==0&&this.negative===0?(y.negative=0,_=this.sub(y),y.negative^=1,_):y.negative===0&&this.negative!==0?(this.negative=0,_=y.sub(this),this.negative=1,_):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},o.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var _=this.iadd(y);return y.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var T=this.cmp(y);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,M;T>0?(R=this,M=y):(R=y,M=this);for(var j=0,P=0;P<M.length;P++)_=(R.words[P]|0)-(M.words[P]|0)+j,j=_>>26,this.words[P]=_&67108863;for(;j!==0&&P<R.length;P++)_=(R.words[P]|0)+j,j=_>>26,this.words[P]=_&67108863;if(j===0&&P<R.length&&R!==this)for(;P<R.length;P++)this.words[P]=R.words[P];return this.length=Math.max(this.length,P),R!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(y){return this.clone().isub(y)};function S(D,y,_){_.negative=y.negative^D.negative;var T=D.length+y.length|0;_.length=T,T=T-1|0;var R=D.words[0]|0,M=y.words[0]|0,j=R*M,P=j&67108863,I=j/67108864|0;_.words[0]=P;for(var w=1;w<T;w++){for(var O=I>>>26,G=I&67108863,X=Math.min(w,y.length-1),ee=Math.max(0,w-D.length+1);ee<=X;ee++){var oe=w-ee|0;R=D.words[oe]|0,M=y.words[ee]|0,j=R*M+G,O+=j/67108864|0,G=j&67108863}_.words[w]=G|0,I=O|0}return I!==0?_.words[w]=I|0:_.length--,_._strip()}var x=function(y,_,T){var R=y.words,M=_.words,j=T.words,P=0,I,w,O,G=R[0]|0,X=G&8191,ee=G>>>13,oe=R[1]|0,ue=oe&8191,we=oe>>>13,Te=R[2]|0,Se=Te&8191,ye=Te>>>13,Fe=R[3]|0,se=Fe&8191,he=Fe>>>13,Ee=R[4]|0,Oe=Ee&8191,Ze=Ee>>>13,xt=R[5]|0,He=xt&8191,nt=xt>>>13,nn=R[6]|0,gt=nn&8191,$e=nn>>>13,Ct=R[7]|0,ct=Ct&8191,L=Ct>>>13,N=R[8]|0,C=N&8191,$=N>>>13,W=R[9]|0,Y=W&8191,te=W>>>13,qe=M[0]|0,ze=qe&8191,Ie=qe>>>13,wt=M[1]|0,de=wt&8191,ne=wt>>>13,me=M[2]|0,ge=me&8191,F=me>>>13,re=M[3]|0,Re=re&8191,We=re>>>13,ae=M[4]|0,Xe=ae&8191,ht=ae>>>13,rt=M[5]|0,Ne=rt&8191,Ve=rt>>>13,kt=M[6]|0,Ge=kt&8191,at=kt>>>13,$r=M[7]|0,Rt=$r&8191,Jt=$r>>>13,Pd=M[8]|0,Zt=Pd&8191,Ft=Pd>>>13,H1=M[9]|0,ln=H1&8191,cn=H1>>>13;T.negative=y.negative^_.negative,T.length=19,I=Math.imul(X,ze),w=Math.imul(X,Ie),w=w+Math.imul(ee,ze)|0,O=Math.imul(ee,Ie);var Lm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Lm>>>26)|0,Lm&=67108863,I=Math.imul(ue,ze),w=Math.imul(ue,Ie),w=w+Math.imul(we,ze)|0,O=Math.imul(we,Ie),I=I+Math.imul(X,de)|0,w=w+Math.imul(X,ne)|0,w=w+Math.imul(ee,de)|0,O=O+Math.imul(ee,ne)|0;var Pm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Pm>>>26)|0,Pm&=67108863,I=Math.imul(Se,ze),w=Math.imul(Se,Ie),w=w+Math.imul(ye,ze)|0,O=Math.imul(ye,Ie),I=I+Math.imul(ue,de)|0,w=w+Math.imul(ue,ne)|0,w=w+Math.imul(we,de)|0,O=O+Math.imul(we,ne)|0,I=I+Math.imul(X,ge)|0,w=w+Math.imul(X,F)|0,w=w+Math.imul(ee,ge)|0,O=O+Math.imul(ee,F)|0;var Dm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Dm>>>26)|0,Dm&=67108863,I=Math.imul(se,ze),w=Math.imul(se,Ie),w=w+Math.imul(he,ze)|0,O=Math.imul(he,Ie),I=I+Math.imul(Se,de)|0,w=w+Math.imul(Se,ne)|0,w=w+Math.imul(ye,de)|0,O=O+Math.imul(ye,ne)|0,I=I+Math.imul(ue,ge)|0,w=w+Math.imul(ue,F)|0,w=w+Math.imul(we,ge)|0,O=O+Math.imul(we,F)|0,I=I+Math.imul(X,Re)|0,w=w+Math.imul(X,We)|0,w=w+Math.imul(ee,Re)|0,O=O+Math.imul(ee,We)|0;var Bm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Bm>>>26)|0,Bm&=67108863,I=Math.imul(Oe,ze),w=Math.imul(Oe,Ie),w=w+Math.imul(Ze,ze)|0,O=Math.imul(Ze,Ie),I=I+Math.imul(se,de)|0,w=w+Math.imul(se,ne)|0,w=w+Math.imul(he,de)|0,O=O+Math.imul(he,ne)|0,I=I+Math.imul(Se,ge)|0,w=w+Math.imul(Se,F)|0,w=w+Math.imul(ye,ge)|0,O=O+Math.imul(ye,F)|0,I=I+Math.imul(ue,Re)|0,w=w+Math.imul(ue,We)|0,w=w+Math.imul(we,Re)|0,O=O+Math.imul(we,We)|0,I=I+Math.imul(X,Xe)|0,w=w+Math.imul(X,ht)|0,w=w+Math.imul(ee,Xe)|0,O=O+Math.imul(ee,ht)|0;var zm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(zm>>>26)|0,zm&=67108863,I=Math.imul(He,ze),w=Math.imul(He,Ie),w=w+Math.imul(nt,ze)|0,O=Math.imul(nt,Ie),I=I+Math.imul(Oe,de)|0,w=w+Math.imul(Oe,ne)|0,w=w+Math.imul(Ze,de)|0,O=O+Math.imul(Ze,ne)|0,I=I+Math.imul(se,ge)|0,w=w+Math.imul(se,F)|0,w=w+Math.imul(he,ge)|0,O=O+Math.imul(he,F)|0,I=I+Math.imul(Se,Re)|0,w=w+Math.imul(Se,We)|0,w=w+Math.imul(ye,Re)|0,O=O+Math.imul(ye,We)|0,I=I+Math.imul(ue,Xe)|0,w=w+Math.imul(ue,ht)|0,w=w+Math.imul(we,Xe)|0,O=O+Math.imul(we,ht)|0,I=I+Math.imul(X,Ne)|0,w=w+Math.imul(X,Ve)|0,w=w+Math.imul(ee,Ne)|0,O=O+Math.imul(ee,Ve)|0;var $m=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+($m>>>26)|0,$m&=67108863,I=Math.imul(gt,ze),w=Math.imul(gt,Ie),w=w+Math.imul($e,ze)|0,O=Math.imul($e,Ie),I=I+Math.imul(He,de)|0,w=w+Math.imul(He,ne)|0,w=w+Math.imul(nt,de)|0,O=O+Math.imul(nt,ne)|0,I=I+Math.imul(Oe,ge)|0,w=w+Math.imul(Oe,F)|0,w=w+Math.imul(Ze,ge)|0,O=O+Math.imul(Ze,F)|0,I=I+Math.imul(se,Re)|0,w=w+Math.imul(se,We)|0,w=w+Math.imul(he,Re)|0,O=O+Math.imul(he,We)|0,I=I+Math.imul(Se,Xe)|0,w=w+Math.imul(Se,ht)|0,w=w+Math.imul(ye,Xe)|0,O=O+Math.imul(ye,ht)|0,I=I+Math.imul(ue,Ne)|0,w=w+Math.imul(ue,Ve)|0,w=w+Math.imul(we,Ne)|0,O=O+Math.imul(we,Ve)|0,I=I+Math.imul(X,Ge)|0,w=w+Math.imul(X,at)|0,w=w+Math.imul(ee,Ge)|0,O=O+Math.imul(ee,at)|0;var Um=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Um>>>26)|0,Um&=67108863,I=Math.imul(ct,ze),w=Math.imul(ct,Ie),w=w+Math.imul(L,ze)|0,O=Math.imul(L,Ie),I=I+Math.imul(gt,de)|0,w=w+Math.imul(gt,ne)|0,w=w+Math.imul($e,de)|0,O=O+Math.imul($e,ne)|0,I=I+Math.imul(He,ge)|0,w=w+Math.imul(He,F)|0,w=w+Math.imul(nt,ge)|0,O=O+Math.imul(nt,F)|0,I=I+Math.imul(Oe,Re)|0,w=w+Math.imul(Oe,We)|0,w=w+Math.imul(Ze,Re)|0,O=O+Math.imul(Ze,We)|0,I=I+Math.imul(se,Xe)|0,w=w+Math.imul(se,ht)|0,w=w+Math.imul(he,Xe)|0,O=O+Math.imul(he,ht)|0,I=I+Math.imul(Se,Ne)|0,w=w+Math.imul(Se,Ve)|0,w=w+Math.imul(ye,Ne)|0,O=O+Math.imul(ye,Ve)|0,I=I+Math.imul(ue,Ge)|0,w=w+Math.imul(ue,at)|0,w=w+Math.imul(we,Ge)|0,O=O+Math.imul(we,at)|0,I=I+Math.imul(X,Rt)|0,w=w+Math.imul(X,Jt)|0,w=w+Math.imul(ee,Rt)|0,O=O+Math.imul(ee,Jt)|0;var Fm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Fm>>>26)|0,Fm&=67108863,I=Math.imul(C,ze),w=Math.imul(C,Ie),w=w+Math.imul($,ze)|0,O=Math.imul($,Ie),I=I+Math.imul(ct,de)|0,w=w+Math.imul(ct,ne)|0,w=w+Math.imul(L,de)|0,O=O+Math.imul(L,ne)|0,I=I+Math.imul(gt,ge)|0,w=w+Math.imul(gt,F)|0,w=w+Math.imul($e,ge)|0,O=O+Math.imul($e,F)|0,I=I+Math.imul(He,Re)|0,w=w+Math.imul(He,We)|0,w=w+Math.imul(nt,Re)|0,O=O+Math.imul(nt,We)|0,I=I+Math.imul(Oe,Xe)|0,w=w+Math.imul(Oe,ht)|0,w=w+Math.imul(Ze,Xe)|0,O=O+Math.imul(Ze,ht)|0,I=I+Math.imul(se,Ne)|0,w=w+Math.imul(se,Ve)|0,w=w+Math.imul(he,Ne)|0,O=O+Math.imul(he,Ve)|0,I=I+Math.imul(Se,Ge)|0,w=w+Math.imul(Se,at)|0,w=w+Math.imul(ye,Ge)|0,O=O+Math.imul(ye,at)|0,I=I+Math.imul(ue,Rt)|0,w=w+Math.imul(ue,Jt)|0,w=w+Math.imul(we,Rt)|0,O=O+Math.imul(we,Jt)|0,I=I+Math.imul(X,Zt)|0,w=w+Math.imul(X,Ft)|0,w=w+Math.imul(ee,Zt)|0,O=O+Math.imul(ee,Ft)|0;var Wm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Wm>>>26)|0,Wm&=67108863,I=Math.imul(Y,ze),w=Math.imul(Y,Ie),w=w+Math.imul(te,ze)|0,O=Math.imul(te,Ie),I=I+Math.imul(C,de)|0,w=w+Math.imul(C,ne)|0,w=w+Math.imul($,de)|0,O=O+Math.imul($,ne)|0,I=I+Math.imul(ct,ge)|0,w=w+Math.imul(ct,F)|0,w=w+Math.imul(L,ge)|0,O=O+Math.imul(L,F)|0,I=I+Math.imul(gt,Re)|0,w=w+Math.imul(gt,We)|0,w=w+Math.imul($e,Re)|0,O=O+Math.imul($e,We)|0,I=I+Math.imul(He,Xe)|0,w=w+Math.imul(He,ht)|0,w=w+Math.imul(nt,Xe)|0,O=O+Math.imul(nt,ht)|0,I=I+Math.imul(Oe,Ne)|0,w=w+Math.imul(Oe,Ve)|0,w=w+Math.imul(Ze,Ne)|0,O=O+Math.imul(Ze,Ve)|0,I=I+Math.imul(se,Ge)|0,w=w+Math.imul(se,at)|0,w=w+Math.imul(he,Ge)|0,O=O+Math.imul(he,at)|0,I=I+Math.imul(Se,Rt)|0,w=w+Math.imul(Se,Jt)|0,w=w+Math.imul(ye,Rt)|0,O=O+Math.imul(ye,Jt)|0,I=I+Math.imul(ue,Zt)|0,w=w+Math.imul(ue,Ft)|0,w=w+Math.imul(we,Zt)|0,O=O+Math.imul(we,Ft)|0,I=I+Math.imul(X,ln)|0,w=w+Math.imul(X,cn)|0,w=w+Math.imul(ee,ln)|0,O=O+Math.imul(ee,cn)|0;var Vm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Vm>>>26)|0,Vm&=67108863,I=Math.imul(Y,de),w=Math.imul(Y,ne),w=w+Math.imul(te,de)|0,O=Math.imul(te,ne),I=I+Math.imul(C,ge)|0,w=w+Math.imul(C,F)|0,w=w+Math.imul($,ge)|0,O=O+Math.imul($,F)|0,I=I+Math.imul(ct,Re)|0,w=w+Math.imul(ct,We)|0,w=w+Math.imul(L,Re)|0,O=O+Math.imul(L,We)|0,I=I+Math.imul(gt,Xe)|0,w=w+Math.imul(gt,ht)|0,w=w+Math.imul($e,Xe)|0,O=O+Math.imul($e,ht)|0,I=I+Math.imul(He,Ne)|0,w=w+Math.imul(He,Ve)|0,w=w+Math.imul(nt,Ne)|0,O=O+Math.imul(nt,Ve)|0,I=I+Math.imul(Oe,Ge)|0,w=w+Math.imul(Oe,at)|0,w=w+Math.imul(Ze,Ge)|0,O=O+Math.imul(Ze,at)|0,I=I+Math.imul(se,Rt)|0,w=w+Math.imul(se,Jt)|0,w=w+Math.imul(he,Rt)|0,O=O+Math.imul(he,Jt)|0,I=I+Math.imul(Se,Zt)|0,w=w+Math.imul(Se,Ft)|0,w=w+Math.imul(ye,Zt)|0,O=O+Math.imul(ye,Ft)|0,I=I+Math.imul(ue,ln)|0,w=w+Math.imul(ue,cn)|0,w=w+Math.imul(we,ln)|0,O=O+Math.imul(we,cn)|0;var Hm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Hm>>>26)|0,Hm&=67108863,I=Math.imul(Y,ge),w=Math.imul(Y,F),w=w+Math.imul(te,ge)|0,O=Math.imul(te,F),I=I+Math.imul(C,Re)|0,w=w+Math.imul(C,We)|0,w=w+Math.imul($,Re)|0,O=O+Math.imul($,We)|0,I=I+Math.imul(ct,Xe)|0,w=w+Math.imul(ct,ht)|0,w=w+Math.imul(L,Xe)|0,O=O+Math.imul(L,ht)|0,I=I+Math.imul(gt,Ne)|0,w=w+Math.imul(gt,Ve)|0,w=w+Math.imul($e,Ne)|0,O=O+Math.imul($e,Ve)|0,I=I+Math.imul(He,Ge)|0,w=w+Math.imul(He,at)|0,w=w+Math.imul(nt,Ge)|0,O=O+Math.imul(nt,at)|0,I=I+Math.imul(Oe,Rt)|0,w=w+Math.imul(Oe,Jt)|0,w=w+Math.imul(Ze,Rt)|0,O=O+Math.imul(Ze,Jt)|0,I=I+Math.imul(se,Zt)|0,w=w+Math.imul(se,Ft)|0,w=w+Math.imul(he,Zt)|0,O=O+Math.imul(he,Ft)|0,I=I+Math.imul(Se,ln)|0,w=w+Math.imul(Se,cn)|0,w=w+Math.imul(ye,ln)|0,O=O+Math.imul(ye,cn)|0;var qm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(qm>>>26)|0,qm&=67108863,I=Math.imul(Y,Re),w=Math.imul(Y,We),w=w+Math.imul(te,Re)|0,O=Math.imul(te,We),I=I+Math.imul(C,Xe)|0,w=w+Math.imul(C,ht)|0,w=w+Math.imul($,Xe)|0,O=O+Math.imul($,ht)|0,I=I+Math.imul(ct,Ne)|0,w=w+Math.imul(ct,Ve)|0,w=w+Math.imul(L,Ne)|0,O=O+Math.imul(L,Ve)|0,I=I+Math.imul(gt,Ge)|0,w=w+Math.imul(gt,at)|0,w=w+Math.imul($e,Ge)|0,O=O+Math.imul($e,at)|0,I=I+Math.imul(He,Rt)|0,w=w+Math.imul(He,Jt)|0,w=w+Math.imul(nt,Rt)|0,O=O+Math.imul(nt,Jt)|0,I=I+Math.imul(Oe,Zt)|0,w=w+Math.imul(Oe,Ft)|0,w=w+Math.imul(Ze,Zt)|0,O=O+Math.imul(Ze,Ft)|0,I=I+Math.imul(se,ln)|0,w=w+Math.imul(se,cn)|0,w=w+Math.imul(he,ln)|0,O=O+Math.imul(he,cn)|0;var Gm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Gm>>>26)|0,Gm&=67108863,I=Math.imul(Y,Xe),w=Math.imul(Y,ht),w=w+Math.imul(te,Xe)|0,O=Math.imul(te,ht),I=I+Math.imul(C,Ne)|0,w=w+Math.imul(C,Ve)|0,w=w+Math.imul($,Ne)|0,O=O+Math.imul($,Ve)|0,I=I+Math.imul(ct,Ge)|0,w=w+Math.imul(ct,at)|0,w=w+Math.imul(L,Ge)|0,O=O+Math.imul(L,at)|0,I=I+Math.imul(gt,Rt)|0,w=w+Math.imul(gt,Jt)|0,w=w+Math.imul($e,Rt)|0,O=O+Math.imul($e,Jt)|0,I=I+Math.imul(He,Zt)|0,w=w+Math.imul(He,Ft)|0,w=w+Math.imul(nt,Zt)|0,O=O+Math.imul(nt,Ft)|0,I=I+Math.imul(Oe,ln)|0,w=w+Math.imul(Oe,cn)|0,w=w+Math.imul(Ze,ln)|0,O=O+Math.imul(Ze,cn)|0;var Km=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Km>>>26)|0,Km&=67108863,I=Math.imul(Y,Ne),w=Math.imul(Y,Ve),w=w+Math.imul(te,Ne)|0,O=Math.imul(te,Ve),I=I+Math.imul(C,Ge)|0,w=w+Math.imul(C,at)|0,w=w+Math.imul($,Ge)|0,O=O+Math.imul($,at)|0,I=I+Math.imul(ct,Rt)|0,w=w+Math.imul(ct,Jt)|0,w=w+Math.imul(L,Rt)|0,O=O+Math.imul(L,Jt)|0,I=I+Math.imul(gt,Zt)|0,w=w+Math.imul(gt,Ft)|0,w=w+Math.imul($e,Zt)|0,O=O+Math.imul($e,Ft)|0,I=I+Math.imul(He,ln)|0,w=w+Math.imul(He,cn)|0,w=w+Math.imul(nt,ln)|0,O=O+Math.imul(nt,cn)|0;var Ym=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Ym>>>26)|0,Ym&=67108863,I=Math.imul(Y,Ge),w=Math.imul(Y,at),w=w+Math.imul(te,Ge)|0,O=Math.imul(te,at),I=I+Math.imul(C,Rt)|0,w=w+Math.imul(C,Jt)|0,w=w+Math.imul($,Rt)|0,O=O+Math.imul($,Jt)|0,I=I+Math.imul(ct,Zt)|0,w=w+Math.imul(ct,Ft)|0,w=w+Math.imul(L,Zt)|0,O=O+Math.imul(L,Ft)|0,I=I+Math.imul(gt,ln)|0,w=w+Math.imul(gt,cn)|0,w=w+Math.imul($e,ln)|0,O=O+Math.imul($e,cn)|0;var Qm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Qm>>>26)|0,Qm&=67108863,I=Math.imul(Y,Rt),w=Math.imul(Y,Jt),w=w+Math.imul(te,Rt)|0,O=Math.imul(te,Jt),I=I+Math.imul(C,Zt)|0,w=w+Math.imul(C,Ft)|0,w=w+Math.imul($,Zt)|0,O=O+Math.imul($,Ft)|0,I=I+Math.imul(ct,ln)|0,w=w+Math.imul(ct,cn)|0,w=w+Math.imul(L,ln)|0,O=O+Math.imul(L,cn)|0;var Jm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Jm>>>26)|0,Jm&=67108863,I=Math.imul(Y,Zt),w=Math.imul(Y,Ft),w=w+Math.imul(te,Zt)|0,O=Math.imul(te,Ft),I=I+Math.imul(C,ln)|0,w=w+Math.imul(C,cn)|0,w=w+Math.imul($,ln)|0,O=O+Math.imul($,cn)|0;var Zm=(P+I|0)+((w&8191)<<13)|0;P=(O+(w>>>13)|0)+(Zm>>>26)|0,Zm&=67108863,I=Math.imul(Y,ln),w=Math.imul(Y,cn),w=w+Math.imul(te,ln)|0,O=Math.imul(te,cn);var Xm=(P+I|0)+((w&8191)<<13)|0;return P=(O+(w>>>13)|0)+(Xm>>>26)|0,Xm&=67108863,j[0]=Lm,j[1]=Pm,j[2]=Dm,j[3]=Bm,j[4]=zm,j[5]=$m,j[6]=Um,j[7]=Fm,j[8]=Wm,j[9]=Vm,j[10]=Hm,j[11]=qm,j[12]=Gm,j[13]=Km,j[14]=Ym,j[15]=Qm,j[16]=Jm,j[17]=Zm,j[18]=Xm,P!==0&&(j[19]=P,T.length++),T};Math.imul||(x=S);function E(D,y,_){_.negative=y.negative^D.negative,_.length=D.length+y.length;for(var T=0,R=0,M=0;M<_.length-1;M++){var j=R;R=0;for(var P=T&67108863,I=Math.min(M,y.length-1),w=Math.max(0,M-D.length+1);w<=I;w++){var O=M-w,G=D.words[O]|0,X=y.words[w]|0,ee=G*X,oe=ee&67108863;j=j+(ee/67108864|0)|0,oe=oe+P|0,P=oe&67108863,j=j+(oe>>>26)|0,R+=j>>>26,j&=67108863}_.words[M]=P,T=j,j=R}return T!==0?_.words[M]=T:_.length--,_._strip()}function A(D,y,_){return E(D,y,_)}o.prototype.mulTo=function(y,_){var T,R=this.length+y.length;return this.length===10&&y.length===10?T=x(this,y,_):R<63?T=S(this,y,_):R<1024?T=E(this,y,_):T=A(this,y,_),T},o.prototype.mul=function(y){var _=new o(null);return _.words=new Array(this.length+y.length),this.mulTo(y,_)},o.prototype.mulf=function(y){var _=new o(null);return _.words=new Array(this.length+y.length),A(this,y,_)},o.prototype.imul=function(y){return this.clone().mulTo(y,this)},o.prototype.imuln=function(y){var _=y<0;_&&(y=-y),r(typeof y=="number"),r(y<67108864);for(var T=0,R=0;R<this.length;R++){var M=(this.words[R]|0)*y,j=(M&67108863)+(T&67108863);T>>=26,T+=M/67108864|0,T+=j>>>26,this.words[R]=j&67108863}return T!==0&&(this.words[R]=T,this.length++),this.length=y===0?1:this.length,_?this.ineg():this},o.prototype.muln=function(y){return this.clone().imuln(y)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(y){var _=b(y);if(_.length===0)return new o(1);for(var T=this,R=0;R<_.length&&_[R]===0;R++,T=T.sqr());if(++R<_.length)for(var M=T.sqr();R<_.length;R++,M=M.sqr())_[R]!==0&&(T=T.mul(M));return T},o.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var _=y%26,T=(y-_)/26,R=67108863>>>26-_<<26-_,M;if(_!==0){var j=0;for(M=0;M<this.length;M++){var P=this.words[M]&R,I=(this.words[M]|0)-P<<_;this.words[M]=I|j,j=P>>>26-_}j&&(this.words[M]=j,this.length++)}if(T!==0){for(M=this.length-1;M>=0;M--)this.words[M+T]=this.words[M];for(M=0;M<T;M++)this.words[M]=0;this.length+=T}return this._strip()},o.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},o.prototype.iushrn=function(y,_,T){r(typeof y=="number"&&y>=0);var R;_?R=(_-_%26)/26:R=0;var M=y%26,j=Math.min((y-M)/26,this.length),P=67108863^67108863>>>M<<M,I=T;if(R-=j,R=Math.max(0,R),I){for(var w=0;w<j;w++)I.words[w]=this.words[w];I.length=j}if(j!==0)if(this.length>j)for(this.length-=j,w=0;w<this.length;w++)this.words[w]=this.words[w+j];else this.words[0]=0,this.length=1;var O=0;for(w=this.length-1;w>=0&&(O!==0||w>=R);w--){var G=this.words[w]|0;this.words[w]=O<<26-M|G>>>M,O=G&P}return I&&O!==0&&(I.words[I.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(y,_,T){return r(this.negative===0),this.iushrn(y,_,T)},o.prototype.shln=function(y){return this.clone().ishln(y)},o.prototype.ushln=function(y){return this.clone().iushln(y)},o.prototype.shrn=function(y){return this.clone().ishrn(y)},o.prototype.ushrn=function(y){return this.clone().iushrn(y)},o.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var _=y%26,T=(y-_)/26,R=1<<_;if(this.length<=T)return!1;var M=this.words[T];return!!(M&R)},o.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var _=y%26,T=(y-_)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(_!==0&&T++,this.length=Math.min(T,this.length),_!==0){var R=67108863^67108863>>>_<<_;this.words[this.length-1]&=R}return this._strip()},o.prototype.maskn=function(y){return this.clone().imaskn(y)},o.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},o.prototype._iaddn=function(y){this.words[0]+=y;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},o.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},o.prototype.addn=function(y){return this.clone().iaddn(y)},o.prototype.subn=function(y){return this.clone().isubn(y)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(y,_,T){var R=y.length+T,M;this._expand(R);var j,P=0;for(M=0;M<y.length;M++){j=(this.words[M+T]|0)+P;var I=(y.words[M]|0)*_;j-=I&67108863,P=(j>>26)-(I/67108864|0),this.words[M+T]=j&67108863}for(;M<this.length-T;M++)j=(this.words[M+T]|0)+P,P=j>>26,this.words[M+T]=j&67108863;if(P===0)return this._strip();for(r(P===-1),P=0,M=0;M<this.length;M++)j=-(this.words[M]|0)+P,P=j>>26,this.words[M]=j&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(y,_){var T=this.length-y.length,R=this.clone(),M=y,j=M.words[M.length-1]|0,P=this._countBits(j);T=26-P,T!==0&&(M=M.ushln(T),R.iushln(T),j=M.words[M.length-1]|0);var I=R.length-M.length,w;if(_!=="mod"){w=new o(null),w.length=I+1,w.words=new Array(w.length);for(var O=0;O<w.length;O++)w.words[O]=0}var G=R.clone()._ishlnsubmul(M,1,I);G.negative===0&&(R=G,w&&(w.words[I]=1));for(var X=I-1;X>=0;X--){var ee=(R.words[M.length+X]|0)*67108864+(R.words[M.length+X-1]|0);for(ee=Math.min(ee/j|0,67108863),R._ishlnsubmul(M,ee,X);R.negative!==0;)ee--,R.negative=0,R._ishlnsubmul(M,1,X),R.isZero()||(R.negative^=1);w&&(w.words[X]=ee)}return w&&w._strip(),R._strip(),_!=="div"&&T!==0&&R.iushrn(T),{div:w||null,mod:R}},o.prototype.divmod=function(y,_,T){if(r(!y.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var R,M,j;return this.negative!==0&&y.negative===0?(j=this.neg().divmod(y,_),_!=="mod"&&(R=j.div.neg()),_!=="div"&&(M=j.mod.neg(),T&&M.negative!==0&&M.iadd(y)),{div:R,mod:M}):this.negative===0&&y.negative!==0?(j=this.divmod(y.neg(),_),_!=="mod"&&(R=j.div.neg()),{div:R,mod:j.mod}):this.negative&y.negative?(j=this.neg().divmod(y.neg(),_),_!=="div"&&(M=j.mod.neg(),T&&M.negative!==0&&M.isub(y)),{div:j.div,mod:M}):y.length>this.length||this.cmp(y)<0?{div:new o(0),mod:this}:y.length===1?_==="div"?{div:this.divn(y.words[0]),mod:null}:_==="mod"?{div:null,mod:new o(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new o(this.modrn(y.words[0]))}:this._wordDiv(y,_)},o.prototype.div=function(y){return this.divmod(y,"div",!1).div},o.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},o.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},o.prototype.divRound=function(y){var _=this.divmod(y);if(_.mod.isZero())return _.div;var T=_.div.negative!==0?_.mod.isub(y):_.mod,R=y.ushrn(1),M=y.andln(1),j=T.cmp(R);return j<0||M===1&&j===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},o.prototype.modrn=function(y){var _=y<0;_&&(y=-y),r(y<=67108863);for(var T=(1<<26)%y,R=0,M=this.length-1;M>=0;M--)R=(T*R+(this.words[M]|0))%y;return _?-R:R},o.prototype.modn=function(y){return this.modrn(y)},o.prototype.idivn=function(y){var _=y<0;_&&(y=-y),r(y<=67108863);for(var T=0,R=this.length-1;R>=0;R--){var M=(this.words[R]|0)+T*67108864;this.words[R]=M/y|0,T=M%y}return this._strip(),_?this.ineg():this},o.prototype.divn=function(y){return this.clone().idivn(y)},o.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var _=this,T=y.clone();_.negative!==0?_=_.umod(y):_=_.clone();for(var R=new o(1),M=new o(0),j=new o(0),P=new o(1),I=0;_.isEven()&&T.isEven();)_.iushrn(1),T.iushrn(1),++I;for(var w=T.clone(),O=_.clone();!_.isZero();){for(var G=0,X=1;!(_.words[0]&X)&&G<26;++G,X<<=1);if(G>0)for(_.iushrn(G);G-- >0;)(R.isOdd()||M.isOdd())&&(R.iadd(w),M.isub(O)),R.iushrn(1),M.iushrn(1);for(var ee=0,oe=1;!(T.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(T.iushrn(ee);ee-- >0;)(j.isOdd()||P.isOdd())&&(j.iadd(w),P.isub(O)),j.iushrn(1),P.iushrn(1);_.cmp(T)>=0?(_.isub(T),R.isub(j),M.isub(P)):(T.isub(_),j.isub(R),P.isub(M))}return{a:j,b:P,gcd:T.iushln(I)}},o.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var _=this,T=y.clone();_.negative!==0?_=_.umod(y):_=_.clone();for(var R=new o(1),M=new o(0),j=T.clone();_.cmpn(1)>0&&T.cmpn(1)>0;){for(var P=0,I=1;!(_.words[0]&I)&&P<26;++P,I<<=1);if(P>0)for(_.iushrn(P);P-- >0;)R.isOdd()&&R.iadd(j),R.iushrn(1);for(var w=0,O=1;!(T.words[0]&O)&&w<26;++w,O<<=1);if(w>0)for(T.iushrn(w);w-- >0;)M.isOdd()&&M.iadd(j),M.iushrn(1);_.cmp(T)>=0?(_.isub(T),R.isub(M)):(T.isub(_),M.isub(R))}var G;return _.cmpn(1)===0?G=R:G=M,G.cmpn(0)<0&&G.iadd(y),G},o.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var _=this.clone(),T=y.clone();_.negative=0,T.negative=0;for(var R=0;_.isEven()&&T.isEven();R++)_.iushrn(1),T.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;T.isEven();)T.iushrn(1);var M=_.cmp(T);if(M<0){var j=_;_=T,T=j}else if(M===0||T.cmpn(1)===0)break;_.isub(T)}while(!0);return T.iushln(R)},o.prototype.invm=function(y){return this.egcd(y).a.umod(y)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(y){return this.words[0]&y},o.prototype.bincn=function(y){r(typeof y=="number");var _=y%26,T=(y-_)/26,R=1<<_;if(this.length<=T)return this._expand(T+1),this.words[T]|=R,this;for(var M=R,j=T;M!==0&&j<this.length;j++){var P=this.words[j]|0;P+=M,M=P>>>26,P&=67108863,this.words[j]=P}return M!==0&&(this.words[j]=M,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(y){var _=y<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var T;if(this.length>1)T=1;else{_&&(y=-y),r(y<=67108863,"Number is too big");var R=this.words[0]|0;T=R===y?0:R<y?-1:1}return this.negative!==0?-T|0:T},o.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var _=this.ucmp(y);return this.negative!==0?-_|0:_},o.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var _=0,T=this.length-1;T>=0;T--){var R=this.words[T]|0,M=y.words[T]|0;if(R!==M){R<M?_=-1:R>M&&(_=1);break}}return _},o.prototype.gtn=function(y){return this.cmpn(y)===1},o.prototype.gt=function(y){return this.cmp(y)===1},o.prototype.gten=function(y){return this.cmpn(y)>=0},o.prototype.gte=function(y){return this.cmp(y)>=0},o.prototype.ltn=function(y){return this.cmpn(y)===-1},o.prototype.lt=function(y){return this.cmp(y)===-1},o.prototype.lten=function(y){return this.cmpn(y)<=0},o.prototype.lte=function(y){return this.cmp(y)<=0},o.prototype.eqn=function(y){return this.cmpn(y)===0},o.prototype.eq=function(y){return this.cmp(y)===0},o.red=function(y){return new q(y)},o.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(y){return this.red=y,this},o.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},o.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},o.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},o.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},o.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},o.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},o.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},o.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var k={k256:null,p224:null,p192:null,p25519:null};function B(D,y){this.name=D,this.p=new o(y,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var y=new o(null);return y.words=new Array(Math.ceil(this.n/13)),y},B.prototype.ireduce=function(y){var _=y,T;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),T=_.bitLength();while(T>this.n);var R=T<this.n?-1:_.ucmp(this.p);return R===0?(_.words[0]=0,_.length=1):R>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},B.prototype.split=function(y,_){y.iushrn(this.n,0,_)},B.prototype.imulK=function(y){return y.imul(this.k)};function z(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(z,B),z.prototype.split=function(y,_){for(var T=4194303,R=Math.min(y.length,9),M=0;M<R;M++)_.words[M]=y.words[M];if(_.length=R,y.length<=9){y.words[0]=0,y.length=1;return}var j=y.words[9];for(_.words[_.length++]=j&T,M=10;M<y.length;M++){var P=y.words[M]|0;y.words[M-10]=(P&T)<<4|j>>>22,j=P}j>>>=22,y.words[M-10]=j,j===0&&y.length>10?y.length-=10:y.length-=9},z.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var _=0,T=0;T<y.length;T++){var R=y.words[T]|0;_+=R*977,y.words[T]=_&67108863,_=R*64+(_/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function U(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,B);function K(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(K,B);function V(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(V,B),V.prototype.imulK=function(y){for(var _=0,T=0;T<y.length;T++){var R=(y.words[T]|0)*19+_,M=R&67108863;R>>>=26,y.words[T]=M,_=R}return _!==0&&(y.words[y.length++]=_),y},o._prime=function(y){if(k[y])return k[y];var _;if(y==="k256")_=new z;else if(y==="p224")_=new U;else if(y==="p192")_=new K;else if(y==="p25519")_=new V;else throw new Error("Unknown prime "+y);return k[y]=_,_};function q(D){if(typeof D=="string"){var y=o._prime(D);this.m=y.p,this.prime=y}else r(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}q.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},q.prototype._verify2=function(y,_){r((y.negative|_.negative)===0,"red works only with positives"),r(y.red&&y.red===_.red,"red works only with red numbers")},q.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(d(y,y.umod(this.m)._forceRed(this)),y)},q.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},q.prototype.add=function(y,_){this._verify2(y,_);var T=y.add(_);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},q.prototype.iadd=function(y,_){this._verify2(y,_);var T=y.iadd(_);return T.cmp(this.m)>=0&&T.isub(this.m),T},q.prototype.sub=function(y,_){this._verify2(y,_);var T=y.sub(_);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},q.prototype.isub=function(y,_){this._verify2(y,_);var T=y.isub(_);return T.cmpn(0)<0&&T.iadd(this.m),T},q.prototype.shl=function(y,_){return this._verify1(y),this.imod(y.ushln(_))},q.prototype.imul=function(y,_){return this._verify2(y,_),this.imod(y.imul(_))},q.prototype.mul=function(y,_){return this._verify2(y,_),this.imod(y.mul(_))},q.prototype.isqr=function(y){return this.imul(y,y.clone())},q.prototype.sqr=function(y){return this.mul(y,y)},q.prototype.sqrt=function(y){if(y.isZero())return y.clone();var _=this.m.andln(3);if(r(_%2===1),_===3){var T=this.m.add(new o(1)).iushrn(2);return this.pow(y,T)}for(var R=this.m.subn(1),M=0;!R.isZero()&&R.andln(1)===0;)M++,R.iushrn(1);r(!R.isZero());var j=new o(1).toRed(this),P=j.redNeg(),I=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new o(2*w*w).toRed(this);this.pow(w,I).cmp(P)!==0;)w.redIAdd(P);for(var O=this.pow(w,R),G=this.pow(y,R.addn(1).iushrn(1)),X=this.pow(y,R),ee=M;X.cmp(j)!==0;){for(var oe=X,ue=0;oe.cmp(j)!==0;ue++)oe=oe.redSqr();r(ue<ee);var we=this.pow(O,new o(1).iushln(ee-ue-1));G=G.redMul(we),O=we.redSqr(),X=X.redMul(O),ee=ue}return G},q.prototype.invm=function(y){var _=y._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},q.prototype.pow=function(y,_){if(_.isZero())return new o(1).toRed(this);if(_.cmpn(1)===0)return y.clone();var T=4,R=new Array(1<<T);R[0]=new o(1).toRed(this),R[1]=y;for(var M=2;M<R.length;M++)R[M]=this.mul(R[M-1],y);var j=R[0],P=0,I=0,w=_.bitLength()%26;for(w===0&&(w=26),M=_.length-1;M>=0;M--){for(var O=_.words[M],G=w-1;G>=0;G--){var X=O>>G&1;if(j!==R[0]&&(j=this.sqr(j)),X===0&&P===0){I=0;continue}P<<=1,P|=X,I++,!(I!==T&&(M!==0||G!==0))&&(j=this.mul(j,R[P]),I=0,P=0)}w=26}return j},q.prototype.convertTo=function(y){var _=y.umod(this.m);return _===y?_.clone():_},q.prototype.convertFrom=function(y){var _=y.clone();return _.red=null,_},o.mont=function(y){return new J(y)};function J(D){q.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(J,q),J.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},J.prototype.convertFrom=function(y){var _=this.imod(y.mul(this.rinv));return _.red=null,_},J.prototype.imul=function(y,_){if(y.isZero()||_.isZero())return y.words[0]=0,y.length=1,y;var T=y.imul(_),R=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=T.isub(R).iushrn(this.shift),j=M;return M.cmp(this.m)>=0?j=M.isub(this.m):M.cmpn(0)<0&&(j=M.iadd(this.m)),j._forceRed(this)},J.prototype.mul=function(y,_){if(y.isZero()||_.isZero())return new o(0)._forceRed(this);var T=y.mul(_),R=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=T.isub(R).iushrn(this.shift),j=M;return M.cmp(this.m)>=0?j=M.isub(this.m):M.cmpn(0)<0&&(j=M.iadd(this.m)),j._forceRed(this)},J.prototype.invm=function(y){var _=this.imod(y._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(t,Kt)})(Ub);var XC=Ub.exports;const ZS=No(XC);var ev={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Ke,r=n.Buffer;function s(i,a){for(var l in i)a[l]=i[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o);function o(i,a,l){return r(i,a,l)}o.prototype=Object.create(r.prototype),s(r,o),o.from=function(i,a,l){if(typeof i=="number")throw new TypeError("Argument must not be a number");return r(i,a,l)},o.alloc=function(i,a,l){if(typeof i!="number")throw new TypeError("Argument must be a number");var c=r(i);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r(i)},o.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(i)}})(ev,ev.exports);var H8=ev.exports,df=H8.Buffer;function q8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var i=t.length,a=t.charAt(0),l=Math.log(i)/Math.log(256),c=Math.log(256)/Math.log(i);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=df.from(p)),!df.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var v=0,m=0,b=0,S=p.length;b!==S&&p[b]===0;)b++,v++;for(var x=(S-b)*c+1>>>0,E=new Uint8Array(x);b!==S;){for(var A=p[b],k=0,B=x-1;(A!==0||k<m)&&B!==-1;B--,k++)A+=256*E[B]>>>0,E[B]=A%i>>>0,A=A/i>>>0;if(A!==0)throw new Error("Non-zero carry");m=k,b++}for(var z=x-m;z!==x&&E[z]===0;)z++;for(var U=a.repeat(v);z<x;++z)U+=t.charAt(E[z]);return U}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return df.alloc(0);for(var v=0,m=0,b=0;p[v]===a;)m++,v++;for(var S=(p.length-v)*l+1>>>0,x=new Uint8Array(S);v<p.length;){var E=p.charCodeAt(v);if(E>255)return;var A=e[E];if(A===255)return;for(var k=0,B=S-1;(A!==0||k<b)&&B!==-1;B--,k++)A+=i*x[B]>>>0,x[B]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=k,v++}for(var z=S-b;z!==S&&x[z]===0;)z++;var U=df.allocUnsafe(m+(S-z));U.fill(0,0,m);for(var K=m;z!==S;)U[K++]=x[z++];return U}function h(p){var v=f(p);if(v)return v;throw new Error("Non-base"+i+" character")}return{encode:d,decodeUnsafe:f,decode:h}}var G8=q8,K8=G8,Y8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ek=K8(Y8);const Tn=No(ek),XS=zC;var Mn={};function ro(t,e,n){return e<=t&&t<=n}function nm(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Q8(t){for(var e=String(t),n=e.length,r=0,s=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)s.push(65533);else{var i=t.charCodeAt(r+1);if(56320<=i&&i<=57343){var a=o&1023,l=i&1023;s.push(65536+(a<<10)+l),r+=1}else s.push(65533)}r+=1}return s}function J8(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Zh=-1;function Fb(t){this.tokens=[].slice.call(t)}Fb.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Zh},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var cc=-1;function Wg(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Xh="utf-8";function ep(t,e){if(!(this instanceof ep))return new ep(t,e);if(t=t!==void 0?String(t).toLowerCase():Xh,t!==Xh)throw new Error("Encoding not supported. Only utf-8 is supported");e=nm(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ep.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=nm(n),this._streaming||(this._decoder=new Z8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Fb(r),o=[],i;!s.endOfStream()&&(i=this._decoder.handler(s,s.read()),i!==cc);)i!==null&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));if(!this._streaming){do{if(i=this._decoder.handler(s,s.read()),i===cc)break;i!==null&&(Array.isArray(i)?o.push.apply(o,i):o.push(i))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),J8(o)}};function tp(t,e){if(!(this instanceof tp))return new tp(t,e);if(t=t!==void 0?String(t).toLowerCase():Xh,t!==Xh)throw new Error("Encoding not supported. Only utf-8 is supported");e=nm(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}tp.prototype={encode:function(e,n){e=e?String(e):"",n=nm(n),this._streaming||(this._encoder=new X8(this._options)),this._streaming=!!n.stream;for(var r=[],s=new Fb(Q8(e)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==cc);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==cc;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function Z8(t){var e=t.fatal,n=0,r=0,s=0,o=128,i=191;this.handler=function(a,l){if(l===Zh&&s!==0)return s=0,Wg(e);if(l===Zh)return cc;if(s===0){if(ro(l,0,127))return l;if(ro(l,194,223))s=1,n=l-192;else if(ro(l,224,239))l===224&&(o=160),l===237&&(i=159),s=2,n=l-224;else if(ro(l,240,244))l===240&&(o=144),l===244&&(i=143),s=3,n=l-240;else return Wg(e);return n=n<<6*s,null}if(!ro(l,o,i))return n=s=r=0,o=128,i=191,a.prepend(l),Wg(e);if(o=128,i=191,r+=1,n+=l-128<<6*(s-r),r!==s)return null;var c=n;return n=s=r=0,c}}function X8(t){t.fatal,this.handler=function(e,n){if(n===Zh)return cc;if(ro(n,0,127))return n;var r,s;ro(n,128,2047)?(r=1,s=192):ro(n,2048,65535)?(r=2,s=224):ro(n,65536,1114111)&&(r=3,s=240);for(var o=[(n>>6*r)+s];r>0;){var i=n>>6*(r-1);o.push(128|i&63),r-=1}return o}}const e6=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ep,TextEncoder:tp},Symbol.toStringTag,{value:"Module"})),t6=xp(e6);var n6=Kt&&Kt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),r6=Kt&&Kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ws=Kt&&Kt.__decorate||function(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},s6=Kt&&Kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&n6(e,t,n);return r6(e,t),e},tk=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});var nk=Mn.deserializeUnchecked=lk=Mn.deserialize=ak=Mn.serialize=Mn.BinaryReader=Mn.BinaryWriter=Mn.BorshError=Mn.baseDecode=Mn.baseEncode=void 0;const ii=tk(XC),rk=tk(ek),o6=s6(t6),i6=typeof TextDecoder!="function"?o6.TextDecoder:TextDecoder,a6=new i6("utf-8",{fatal:!0});function l6(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),rk.default.encode(Buffer.from(t))}Mn.baseEncode=l6;function c6(t){return Buffer.from(rk.default.decode(t))}Mn.baseDecode=c6;const Vg=1024;class nr extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Mn.BorshError=nr;class sk{constructor(){this.buf=Buffer.alloc(Vg),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Vg)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ii.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ii.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ii.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ii.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Vg)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Mn.BinaryWriter=sk;function Vs(t,e,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(o){if(o instanceof RangeError){const i=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new nr("Reached the end of buffer when deserializing")}throw o}}}class Dr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ii.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ii.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ii.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ii.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new nr(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return a6.decode(n)}catch(r){throw new nr(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(e());return r}}Ws([Vs],Dr.prototype,"readU8",null);Ws([Vs],Dr.prototype,"readU16",null);Ws([Vs],Dr.prototype,"readU32",null);Ws([Vs],Dr.prototype,"readU64",null);Ws([Vs],Dr.prototype,"readU128",null);Ws([Vs],Dr.prototype,"readU256",null);Ws([Vs],Dr.prototype,"readU512",null);Ws([Vs],Dr.prototype,"readString",null);Ws([Vs],Dr.prototype,"readFixedArray",null);Ws([Vs],Dr.prototype,"readArray",null);Mn.BinaryReader=Dr;function ok(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ki(t,e,n,r,s){try{if(typeof r=="string")s[`write${ok(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new nr(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new nr(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let o=0;o<r[1];o++)Ki(t,null,n[o],r[0],s)}else s.writeArray(n,o=>{Ki(t,e,o,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Ki(t,e,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((o,i)=>{Ki(t,e,i,r.key,s),Ki(t,e,o,r.value,s)});break}default:throw new nr(`FieldType ${r} unrecognized`)}else ik(t,n,s)}catch(o){throw o instanceof nr&&o.addToFieldPath(e),o}}function ik(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new nr(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,o])=>{Ki(t,s,e[s],o,n)});else if(r.kind==="enum"){const s=e[r.field];for(let o=0;o<r.values.length;++o){const[i,a]=r.values[o];if(i===s){n.writeU8(o),Ki(t,i,e[i],a,n);break}}}else throw new nr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function u6(t,e,n=sk){const r=new n;return ik(t,e,r),r.toArray()}var ak=Mn.serialize=u6;function Yi(t,e,n,r){try{if(typeof n=="string")return r[`read${ok(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let o=0;o<n[1];o++)s.push(Yi(t,null,n[0],r));return s}else return r.readArray(()=>Yi(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Yi(t,e,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const o=r.readU32();for(let i=0;i<o;i++){const a=Yi(t,e,n.key,r),l=Yi(t,e,n.value,r);s.set(a,l)}return s}return Wb(t,n,r)}catch(s){throw s instanceof nr&&s.addToFieldPath(e),s}}function Wb(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new nr(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[o,i]of t.get(e).fields)s[o]=Yi(t,o,i,n);return new e(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new nr(`Enum index: ${s} is out of range`);const[o,i]=r.values[s],a=Yi(t,o,i,n);return new e({[o]:a})}throw new nr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function d6(t,e,n,r=Dr){const s=new r(n),o=Wb(t,e,s);if(s.offset<n.length)throw new nr(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return o}var lk=Mn.deserialize=d6;function f6(t,e,n,r=Dr){const s=new r(n);return Wb(t,e,s)}nk=Mn.deserializeUnchecked=f6;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=An=Z.nu64=Z.u48=Z.u40=Pe=Z.u32=Z.u24=Wr=Z.u16=yt=Z.u8=ma=Z.offset=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0;Z.constant=Z.utf8=Z.cstr=Pt=Z.blob=Z.unionLayoutDiscriminator=Z.union=Hn=Z.seq=Z.bits=Ae=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=_r=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const Vb=Ke;function Cc(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=Cc;function mt(t){return Cc(t),Vb.Buffer.from(t.buffer,t.byteOffset,t.length)}Z.uint8ArrayToBuffer=mt;class _t{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Z.Layout=_t;function Hb(t,e){return e.property?t+"["+e.property+"]":t}Z.nameWithProperty=Hb;function h6(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof _t))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Z.bindConstructorLayout=h6;class dr extends _t{isCount(){throw new Error("ExternalLayout is abstract")}}Z.ExternalLayout=dr;class ck extends dr{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Cc(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Z.GreedyCount=ck;class qb extends dr{constructor(e,n=0,r){if(!(e instanceof _t))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Qr||this.layout instanceof ys}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Z.OffsetLayout=qb;class Qr extends _t{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return mt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return mt(n).writeUIntLE(e,r,this.span),this.span}}Z.UInt=Qr;class ys extends _t{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return mt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return mt(n).writeUIntBE(e,r,this.span),this.span}}Z.UIntBE=ys;class Oa extends _t{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return mt(e).readIntLE(n,this.span)}encode(e,n,r=0){return mt(n).writeIntLE(e,r,this.span),this.span}}Z.Int=Oa;class kc extends _t{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return mt(e).readIntBE(n,this.span)}encode(e,n,r=0){return mt(n).writeIntBE(e,r,this.span),this.span}}Z.IntBE=kc;const tv=Math.pow(2,32);function rm(t){const e=Math.floor(t/tv),n=t-e*tv;return{hi32:e,lo32:n}}function sm(t,e){return t*tv+e}class uk extends _t{constructor(e){super(8,e)}decode(e,n=0){const r=mt(e),s=r.readUInt32LE(n),o=r.readUInt32LE(n+4);return sm(o,s)}encode(e,n,r=0){const s=rm(e),o=mt(n);return o.writeUInt32LE(s.lo32,r),o.writeUInt32LE(s.hi32,r+4),8}}Z.NearUInt64=uk;class dk extends _t{constructor(e){super(8,e)}decode(e,n=0){const r=mt(e),s=r.readUInt32BE(n),o=r.readUInt32BE(n+4);return sm(s,o)}encode(e,n,r=0){const s=rm(e),o=mt(n);return o.writeUInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}Z.NearUInt64BE=dk;class fk extends _t{constructor(e){super(8,e)}decode(e,n=0){const r=mt(e),s=r.readUInt32LE(n),o=r.readInt32LE(n+4);return sm(o,s)}encode(e,n,r=0){const s=rm(e),o=mt(n);return o.writeUInt32LE(s.lo32,r),o.writeInt32LE(s.hi32,r+4),8}}Z.NearInt64=fk;class hk extends _t{constructor(e){super(8,e)}decode(e,n=0){const r=mt(e),s=r.readInt32BE(n),o=r.readUInt32BE(n+4);return sm(s,o)}encode(e,n,r=0){const s=rm(e),o=mt(n);return o.writeInt32BE(s.hi32,r),o.writeUInt32BE(s.lo32,r+4),8}}Z.NearInt64BE=hk;class pk extends _t{constructor(e){super(4,e)}decode(e,n=0){return mt(e).readFloatLE(n)}encode(e,n,r=0){return mt(n).writeFloatLE(e,r),4}}Z.Float=pk;class mk extends _t{constructor(e){super(4,e)}decode(e,n=0){return mt(e).readFloatBE(n)}encode(e,n,r=0){return mt(n).writeFloatBE(e,r),4}}Z.FloatBE=mk;class gk extends _t{constructor(e){super(8,e)}decode(e,n=0){return mt(e).readDoubleLE(n)}encode(e,n,r=0){return mt(n).writeDoubleLE(e,r),8}}Z.Double=gk;class yk extends _t{constructor(e){super(8,e)}decode(e,n=0){return mt(e).readDoubleBE(n)}encode(e,n,r=0){return mt(n).writeDoubleBE(e,r),8}}Z.DoubleBE=yk;class vk extends _t{constructor(e,n,r){if(!(e instanceof _t))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof dr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof dr)&&0<e.span&&(s=n*e.span),super(s,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof dr&&(s=s.decode(e,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let o=0;for(;o<s;)r+=this.elementLayout.getSpan(e,n+r),++o}return r}decode(e,n=0){const r=[];let s=0,o=this.count;for(o instanceof dr&&(o=o.decode(e,n));s<o;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),s+=1;return r}encode(e,n,r=0){const s=this.elementLayout,o=e.reduce((i,a)=>i+s.encode(a,n,r+i),0);return this.count instanceof dr&&this.count.encode(e.length,n,r),o}}Z.Sequence=vk;class wk extends _t{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((o,i)=>o&&i instanceof _t,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((o,i)=>o+i.getSpan(),0)}catch{}super(s,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,o)=>{const i=o.getSpan(e,n);return n+=i,s+i},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Cc(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,n)),n+=s.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const s=r;let o=0,i=0;for(const a of this.fields){let l=a.span;if(i=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(i=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}o=r,r+=l}return o+i-s}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Z.Structure=wk;class Gb{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Z.UnionDiscriminator=Gb;class np extends Gb{constructor(e,n){if(!(e instanceof dr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Z.UnionLayoutDiscriminator=np;class Kb extends _t{constructor(e,n,r){let s;if(e instanceof Qr||e instanceof ys)s=new np(new qb(e));else if(e instanceof dr&&e.isCount())s=new np(e);else if(e instanceof Gb)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof _t))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let o=-1;n&&(o=n.span,0<=o&&(e instanceof Qr||e instanceof ys)&&(o+=s.layout.span)),super(o,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof Qr||e instanceof ys,this.defaultLayout=n,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return i(a)},this.configGetSourceVariant=function(a){i=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const s=this.discriminator,o=s.decode(e,n),i=this.registry[o];if(i===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=s.layout.span),r=this.makeDestinationObject(),r[s.property]=o,r[a.property]=a.decode(e,n+l)}else r=i.decode(e,n);return r}encode(e,n,r=0){const s=this.getSourceVariant(e);if(s===void 0){const o=this.discriminator,i=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],n,r),a+i.encode(e[i.property],n,r+a)}return s.encode(e,n,r)}addVariant(e,n,r){const s=new bk(this,e,n,r);return this.registry[e]=s,s}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Z.Union=Kb;class bk extends _t{constructor(e,n,r,s){if(!(e instanceof Kb))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof _t))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,s),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,n+r)),r+s}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let o=s;if(this.layout&&(this.layout.encode(e[this.property],n,r+s),o+=this.layout.getSpan(n,r+s),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Z.VariantLayout=bk;function Xa(t){return 0>t&&(t+=4294967296),t}class Yb extends _t{constructor(e,n,r){if(!(e instanceof Qr||e instanceof ys))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(o){return s=Xa(o),this},this._packedGetValue=function(){return s}}decode(e,n=0){const r=this.makeDestinationObject(),s=this.word.decode(e,n);this._packedSetValue(s);for(const o of this.fields)o.property!==void 0&&(r[o.property]=o.decode(e));return r}encode(e,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const o of this.fields)if(o.property!==void 0){const i=e[o.property];i!==void 0&&o.encode(i)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Qb(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new xk(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Z.BitStructure=Yb;class Qb{constructor(e,n,r){if(!(e instanceof Yb))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*e.span,o=e.fields.reduce((i,a)=>i+a.bits,0);if(n+o>s)throw new Error("bits too long for span remainder ("+(s-o)+" of "+s+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=s-o-n),this.wordMask=Xa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Xa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Xa(e&this.valueMask))throw new TypeError(Hb("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Xa(e<<this.start);this.container._packedSetValue(Xa(n&~this.wordMask)|r)}}Z.BitField=Qb;let xk=class extends Qb{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Z.Boolean=xk;let Sk=class extends _t{constructor(e,n){if(!(e instanceof dr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof dr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),mt(e).slice(n,n+r)}encode(e,n,r){let s=this.length;if(this.length instanceof dr&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(Hb("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const o=mt(e);return mt(n).write(o.toString("hex"),r,s,"hex"),this.length instanceof dr&&this.length.encode(s,n,r),s}};Z.Blob=Sk;class Ek extends _t{constructor(e){super(-1,e)}getSpan(e,n=0){Cc(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return mt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=Vb.Buffer.from(e,"utf8"),o=s.length;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");const i=mt(n);return s.copy(i,r),i[r+o]=0,o+1}}Z.CString=Ek;class _k extends _t{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Cc(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return mt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const s=Vb.Buffer.from(e,"utf8"),o=s.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(mt(n),r),o}}Z.UTF8=_k;class Nk extends _t{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Z.Constant=Nk;Z.greedy=(t,e)=>new ck(t,e);var ma=Z.offset=(t,e,n)=>new qb(t,e,n),yt=Z.u8=t=>new Qr(1,t),Wr=Z.u16=t=>new Qr(2,t);Z.u24=t=>new Qr(3,t);var Pe=Z.u32=t=>new Qr(4,t);Z.u40=t=>new Qr(5,t);Z.u48=t=>new Qr(6,t);var An=Z.nu64=t=>new uk(t);Z.u16be=t=>new ys(2,t);Z.u24be=t=>new ys(3,t);Z.u32be=t=>new ys(4,t);Z.u40be=t=>new ys(5,t);Z.u48be=t=>new ys(6,t);Z.nu64be=t=>new dk(t);Z.s8=t=>new Oa(1,t);Z.s16=t=>new Oa(2,t);Z.s24=t=>new Oa(3,t);Z.s32=t=>new Oa(4,t);Z.s40=t=>new Oa(5,t);Z.s48=t=>new Oa(6,t);var _r=Z.ns64=t=>new fk(t);Z.s16be=t=>new kc(2,t);Z.s24be=t=>new kc(3,t);Z.s32be=t=>new kc(4,t);Z.s40be=t=>new kc(5,t);Z.s48be=t=>new kc(6,t);Z.ns64be=t=>new hk(t);Z.f32=t=>new pk(t);Z.f32be=t=>new mk(t);Z.f64=t=>new gk(t);Z.f64be=t=>new yk(t);var Ae=Z.struct=(t,e,n)=>new wk(t,e,n);Z.bits=(t,e,n)=>new Yb(t,e,n);var Hn=Z.seq=(t,e,n)=>new vk(t,e,n);Z.union=(t,e,n)=>new Kb(t,e,n);Z.unionLayoutDiscriminator=(t,e)=>new np(t,e);var Pt=Z.blob=(t,e)=>new Sk(t,e);Z.cstr=t=>new Ek(t);Z.utf8=(t,e)=>new _k(t,e);Z.constant=(t,e)=>new Nk(t,e);var p6=8078e3,m6=8078001,g6=8078004,y6=8078005,v6=8078006,w6=8078011;function Ak(t){return Array.isArray(t)?"%5B"+t.map(Ak).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function b6([t,e]){return`${t}=${Ak(e)}`}function x6(t){const e=Object.entries(t).map(b6).join("&");return btoa(e)}function S6(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${x6(e)}'`),`${n}\``}}var Ll=class extends Error{constructor(...[e,n]){let r,s;if(n){const{cause:i,...a}=n;i&&(s={cause:i}),Object.keys(a).length>0&&(r=a)}const o=S6(e,r);super(o,s);ke(this,"cause",this.cause);ke(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function E6(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function _6(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(E6(e,t));return t.write(e,n,0),n}})}function N6(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ha(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function A6(t,e){if(Ha(t)!==Ha(e))throw new Ll(g6);if(Ha(t)&&Ha(e)&&t.fixedSize!==e.fixedSize)throw new Ll(y6,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ha(t)&&!Ha(e)&&t.maxSize!==e.maxSize)throw new Ll(v6,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function C6(t,e,n=0){if(e.length-n<=0)throw new Ll(p6,{codecDescription:t})}function k6(t,e,n,r=0){const s=n.length-r;if(s<e)throw new Ll(m6,{bytesLength:s,codecDescription:t,expected:e})}function M6(t,e,n,r){if(r<e||r>n)throw new Ll(w6,{codecDescription:t,max:n,min:e,value:r})}function Ck(t){return(t==null?void 0:t.endian)!==1}function T6(t){return _6({fixedSize:t.size,write(e,n,r){t.range&&M6(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,Ck(t.config)),n.set(new Uint8Array(s),r),r+t.size}})}function I6(t){return N6({fixedSize:t.size,read(e,n=0){C6(t.name,e,n),k6(t.name,t.size,e,n);const r=new DataView(j6(e,n,t.size));return[t.get(r,Ck(t.config)),n+t.size]}})}function j6(t,e,n){const r=t.byteOffset+(e??0),s=n??t.byteLength;return t.buffer.slice(r,r+s)}var R6=(t={})=>T6({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),O6=(t={})=>I6({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),L6=(t={})=>A6(R6(t),O6(t));class P6 extends TypeError{constructor(e,n){let r;const{message:s,explanation:o,...i}=e,{path:a}=e,l=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(o??l),o!=null&&(this.cause=l),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function D6(t){return _d(t)&&typeof t[Symbol.iterator]=="function"}function _d(t){return typeof t=="object"&&t!=null}function rp(t){return _d(t)&&!Array.isArray(t)}function xs(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function B6(t){const{done:e,value:n}=t.next();return e?void 0:n}function z6(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:o}=e,{type:i}=n,{refinement:a,message:l=`Expected a value of type \`${i}\`${a?` with refinement \`${a}\``:""}, but received: \`${xs(r)}\``}=t;return{value:r,type:i,refinement:a,key:s[s.length-1],path:s,branch:o,...t,message:l}}function*eE(t,e,n,r){D6(t)||(t=[t]);for(const s of t){const o=z6(s,e,n,r);o&&(yield o)}}function*Jb(t,e,n={}){const{path:r=[],branch:s=[t],coerce:o=!1,mask:i=!1}=n,a={path:r,branch:s,mask:i};o&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,d,f]of e.entries(t,a)){const h=Jb(d,f,{path:c===void 0?r:[...r,c],branch:c===void 0?s:[...s,d],coerce:o,mask:i,message:n.message});for(const p of h)p[0]?(l=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(d=p[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):_d(t)&&(d!==void 0||c in t)&&(t[c]=d))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Hs=class{constructor(e){const{type:n,schema:r,validator:s,refiner:o,coercer:i=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=i,s?this.validator=(l,c)=>{const d=s(l,c);return eE(d,c,this,l)}:this.validator=()=>[],o?this.refiner=(l,c)=>{const d=o(l,c);return eE(d,c,this,l)}:this.refiner=()=>[]}assert(e,n){return $6(e,this,n)}create(e,n){return ve(e,this,n)}is(e){return kk(e,this)}mask(e,n){return U6(e,this,n)}validate(e,n={}){return Nd(e,this,n)}};function $6(t,e,n){const r=Nd(t,e,{message:n});if(r[0])throw r[0]}function ve(t,e,n){const r=Nd(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function U6(t,e,n){const r=Nd(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function kk(t,e){return!Nd(t,e)[0]}function Nd(t,e,n={}){const r=Jb(t,e,n),s=B6(r);return s[0]?[new P6(s[0],function*(){for(const i of r)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function La(t,e){return new Hs({type:t,schema:null,validator:e})}function F6(){return La("any",()=>!0)}function be(t){return new Hs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${xs(e)}`}})}function $s(){return La("boolean",t=>typeof t=="boolean")}function Zb(t){return La("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${xs(e)}`)}function qt(t){const e=xs(t),n=typeof t;return new Hs({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${xs(r)}`}})}function W6(){return La("never",()=>!1)}function xe(t){return new Hs({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Q(){return La("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${xs(t)}`)}function Be(t){return new Hs({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Mk(t,e){return new Hs({type:"record",schema:null,*entries(n){if(_d(n))for(const r in n){const s=n[r];yield[r,r,t],yield[r,s,e]}},validator(n){return rp(n)||`Expected an object, but received: ${xs(n)}`},coercer(n){return rp(n)?{...n}:n}})}function pe(){return La("string",t=>typeof t=="string"||`Expected a string, but received: ${xs(t)}`)}function Xb(t){const e=W6();return new Hs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],t[s]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${xs(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function le(t){const e=Object.keys(t);return new Hs({type:"type",schema:t,*entries(n){if(_d(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return rp(n)||`Expected an object, but received: ${xs(n)}`},coercer(n){return rp(n)?{...n}:n}})}function sr(t){const e=t.map(n=>n.type).join(" | ");return new Hs({type:"union",schema:null,coercer(n,r){for(const s of t){const[o,i]=s.validate(n,{coerce:!0,mask:r.mask});if(!o)return i}return n},validator(n,r){const s=[];for(const o of t){const[...i]=Jb(n,o,r),[a]=i;if(a[0])for(const[l]of i)l&&s.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${xs(n)}`,...s]}})}function Mc(){return La("unknown",()=>!0)}function Ad(t,e,n){return new Hs({...t,coercer:(r,s)=>kk(r,e)?t.coercer(n(r,s),s):t.coercer(r,s)})}var ff,V6=new Uint8Array(16);function Tk(){if(!ff&&(ff=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ff))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ff(V6)}const H6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function om(t){return typeof t=="string"&&H6.test(t)}var Nn=[];for(var Hg=0;Hg<256;++Hg)Nn.push((Hg+256).toString(16).substr(1));function im(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Nn[t[e+0]]+Nn[t[e+1]]+Nn[t[e+2]]+Nn[t[e+3]]+"-"+Nn[t[e+4]]+Nn[t[e+5]]+"-"+Nn[t[e+6]]+Nn[t[e+7]]+"-"+Nn[t[e+8]]+Nn[t[e+9]]+"-"+Nn[t[e+10]]+Nn[t[e+11]]+Nn[t[e+12]]+Nn[t[e+13]]+Nn[t[e+14]]+Nn[t[e+15]]).toLowerCase();if(!om(n))throw TypeError("Stringified UUID is invalid");return n}var tE,qg,Gg=0,Kg=0;function q6(t,e,n){var r=e&&n||0,s=e||new Array(16);t=t||{};var o=t.node||tE,i=t.clockseq!==void 0?t.clockseq:qg;if(o==null||i==null){var a=t.random||(t.rng||Tk)();o==null&&(o=tE=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),i==null&&(i=qg=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Kg+1,d=l-Gg+(c-Kg)/1e4;if(d<0&&t.clockseq===void 0&&(i=i+1&16383),(d<0||l>Gg)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Gg=l,Kg=c,qg=i,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;s[r++]=f>>>24&255,s[r++]=f>>>16&255,s[r++]=f>>>8&255,s[r++]=f&255;var h=l/4294967296*1e4&268435455;s[r++]=h>>>8&255,s[r++]=h&255,s[r++]=h>>>24&15|16,s[r++]=h>>>16&255,s[r++]=i>>>8|128,s[r++]=i&255;for(var p=0;p<6;++p)s[r+p]=o[p];return e||im(s)}function Ik(t){if(!om(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function G6(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var K6="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Y6="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function jk(t,e,n){function r(s,o,i,a){if(typeof s=="string"&&(s=G6(s)),typeof o=="string"&&(o=Ik(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+s.length);if(l.set(o),l.set(s,o.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,i){a=a||0;for(var c=0;c<16;++c)i[a+c]=l[c];return i}return im(l)}try{r.name=t}catch{}return r.DNS=K6,r.URL=Y6,r}function Q6(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return J6(Z6(X6(t),t.length*8))}function J6(t){for(var e=[],n=t.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var o=t[s>>5]>>>s%32&255,i=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);e.push(i)}return e}function Rk(t){return(t+64>>>9<<4)+14+1}function Z6(t,e){t[e>>5]|=128<<e%32,t[Rk(e)-1]=e;for(var n=1732584193,r=-271733879,s=-1732584194,o=271733878,i=0;i<t.length;i+=16){var a=n,l=r,c=s,d=o;n=Bn(n,r,s,o,t[i],7,-680876936),o=Bn(o,n,r,s,t[i+1],12,-389564586),s=Bn(s,o,n,r,t[i+2],17,606105819),r=Bn(r,s,o,n,t[i+3],22,-1044525330),n=Bn(n,r,s,o,t[i+4],7,-176418897),o=Bn(o,n,r,s,t[i+5],12,1200080426),s=Bn(s,o,n,r,t[i+6],17,-1473231341),r=Bn(r,s,o,n,t[i+7],22,-45705983),n=Bn(n,r,s,o,t[i+8],7,1770035416),o=Bn(o,n,r,s,t[i+9],12,-1958414417),s=Bn(s,o,n,r,t[i+10],17,-42063),r=Bn(r,s,o,n,t[i+11],22,-1990404162),n=Bn(n,r,s,o,t[i+12],7,1804603682),o=Bn(o,n,r,s,t[i+13],12,-40341101),s=Bn(s,o,n,r,t[i+14],17,-1502002290),r=Bn(r,s,o,n,t[i+15],22,1236535329),n=zn(n,r,s,o,t[i+1],5,-165796510),o=zn(o,n,r,s,t[i+6],9,-1069501632),s=zn(s,o,n,r,t[i+11],14,643717713),r=zn(r,s,o,n,t[i],20,-373897302),n=zn(n,r,s,o,t[i+5],5,-701558691),o=zn(o,n,r,s,t[i+10],9,38016083),s=zn(s,o,n,r,t[i+15],14,-660478335),r=zn(r,s,o,n,t[i+4],20,-405537848),n=zn(n,r,s,o,t[i+9],5,568446438),o=zn(o,n,r,s,t[i+14],9,-1019803690),s=zn(s,o,n,r,t[i+3],14,-187363961),r=zn(r,s,o,n,t[i+8],20,1163531501),n=zn(n,r,s,o,t[i+13],5,-1444681467),o=zn(o,n,r,s,t[i+2],9,-51403784),s=zn(s,o,n,r,t[i+7],14,1735328473),r=zn(r,s,o,n,t[i+12],20,-1926607734),n=$n(n,r,s,o,t[i+5],4,-378558),o=$n(o,n,r,s,t[i+8],11,-2022574463),s=$n(s,o,n,r,t[i+11],16,1839030562),r=$n(r,s,o,n,t[i+14],23,-35309556),n=$n(n,r,s,o,t[i+1],4,-1530992060),o=$n(o,n,r,s,t[i+4],11,1272893353),s=$n(s,o,n,r,t[i+7],16,-155497632),r=$n(r,s,o,n,t[i+10],23,-1094730640),n=$n(n,r,s,o,t[i+13],4,681279174),o=$n(o,n,r,s,t[i],11,-358537222),s=$n(s,o,n,r,t[i+3],16,-722521979),r=$n(r,s,o,n,t[i+6],23,76029189),n=$n(n,r,s,o,t[i+9],4,-640364487),o=$n(o,n,r,s,t[i+12],11,-421815835),s=$n(s,o,n,r,t[i+15],16,530742520),r=$n(r,s,o,n,t[i+2],23,-995338651),n=Un(n,r,s,o,t[i],6,-198630844),o=Un(o,n,r,s,t[i+7],10,1126891415),s=Un(s,o,n,r,t[i+14],15,-1416354905),r=Un(r,s,o,n,t[i+5],21,-57434055),n=Un(n,r,s,o,t[i+12],6,1700485571),o=Un(o,n,r,s,t[i+3],10,-1894986606),s=Un(s,o,n,r,t[i+10],15,-1051523),r=Un(r,s,o,n,t[i+1],21,-2054922799),n=Un(n,r,s,o,t[i+8],6,1873313359),o=Un(o,n,r,s,t[i+15],10,-30611744),s=Un(s,o,n,r,t[i+6],15,-1560198380),r=Un(r,s,o,n,t[i+13],21,1309151649),n=Un(n,r,s,o,t[i+4],6,-145523070),o=Un(o,n,r,s,t[i+11],10,-1120210379),s=Un(s,o,n,r,t[i+2],15,718787259),r=Un(r,s,o,n,t[i+9],21,-343485551),n=ai(n,a),r=ai(r,l),s=ai(s,c),o=ai(o,d)}return[n,r,s,o]}function X6(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Rk(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ai(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function eB(t,e){return t<<e|t>>>32-e}function am(t,e,n,r,s,o){return ai(eB(ai(ai(e,t),ai(r,o)),s),n)}function Bn(t,e,n,r,s,o,i){return am(e&n|~e&r,t,e,s,o,i)}function zn(t,e,n,r,s,o,i){return am(e&r|n&~r,t,e,s,o,i)}function $n(t,e,n,r,s,o,i){return am(e^n^r,t,e,s,o,i)}function Un(t,e,n,r,s,o,i){return am(n^(e|~r),t,e,s,o,i)}var tB=jk("v3",48,Q6);function nB(t,e,n){t=t||{};var r=t.random||(t.rng||Tk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return im(r)}function rB(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Yg(t,e){return t<<e|t>>>32-e}function sB(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var s=0;s<r.length;++s)t.push(r.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,i=Math.ceil(o/16),a=new Array(i),l=0;l<i;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[l*64+d*4]<<24|t[l*64+d*4+1]<<16|t[l*64+d*4+2]<<8|t[l*64+d*4+3];a[l]=c}a[i-1][14]=(t.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<i;++f){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[f][p];for(var v=16;v<80;++v)h[v]=Yg(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);for(var m=n[0],b=n[1],S=n[2],x=n[3],E=n[4],A=0;A<80;++A){var k=Math.floor(A/20),B=Yg(m,5)+rB(k,b,S,x)+E+e[k]+h[A]>>>0;E=x,x=S,S=Yg(b,30)>>>0,b=m,m=B}n[0]=n[0]+m>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+x>>>0,n[4]=n[4]+E>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var oB=jk("v5",80,sB);const iB="00000000-0000-0000-0000-000000000000";function aB(t){if(!om(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const lB=Object.freeze(Object.defineProperty({__proto__:null,NIL:iB,parse:Ik,stringify:im,v1:q6,v3:tB,v4:nB,v5:oB,validate:om,version:aB},Symbol.toStringTag,{value:"Module"})),Ok=xp(lB),cB=Ok.v4,uB=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(s===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof n>"u"){const i=typeof r.generator=="function"?r.generator:function(){return cB()};o.id=i(o,r)}else s===2&&n===null?r.notificationIdNull&&(o.id=null):o.id=n;return o};var dB=uB;const fB=Ok.v4,hB=dB,Xu=function(t,e){if(!(this instanceof Xu))return new Xu(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return fB()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var pB=Xu;Xu.prototype.request=function(t,e,n,r){const s=this;let o=null;const i=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&i)throw new TypeError("JSON-RPC 1.0 does not support batching");if(i||!i&&t&&typeof t=="object"&&typeof e=="function")r=e,o=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{o=hB(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,d){s._parseResponse(c,d,r)}),o};Xu.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(i){return typeof i.error<"u"},o=function(i){return!s(i)};return n(null,r.filter(s),r.filter(o))}else return n(null,r.error,r.result);n(null,r)};const mB=No(pB);var Lk={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,p,v){var m=n?n+c:c;if(!this._events[m])return!1;var b=this._events[m],S=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(E=1,x=new Array(S-1);E<S;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var A=b.length,k;for(E=0;E<A;E++)switch(b[E].once&&this.removeListener(c,b[E].fn,void 0,!0),S){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,h);break;default:if(!x)for(k=1,x=new Array(S-1);k<S;k++)x[k-1]=arguments[k];b[E].fn.apply(b[E].context,x)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return i(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,p);else{for(var m=0,b=[],S=v.length;m<S;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&b.push(v[m]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Lk);var gB=Lk.exports;const Pk=No(gB);var yB=class extends Pk{constructor(e,n,r){super();ke(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,n,r){const s=r||n;try{this.socket.send(e),s()}catch(o){s(o)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function vB(t,e){return new yB(t,e)}var wB=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},bB=class extends Pk{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:i=5,...a}={},l,c){super();ke(this,"address");ke(this,"rpc_id");ke(this,"queue");ke(this,"options");ke(this,"autoconnect");ke(this,"ready");ke(this,"reconnect");ke(this,"reconnect_timer_id");ke(this,"reconnect_interval");ke(this,"max_reconnects");ke(this,"rest_options");ke(this,"current_reconnects");ke(this,"generate_request_id");ke(this,"socket");ke(this,"webSocketFactory");ke(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=i,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new wB,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((o,i)=>{if(!this.ready)return i(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),s,c=>{if(c)return i(c);this.queue[a]={promise:[o,i]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],i(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(o),i=>{if(i)return s(i);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Ke.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let o=0;o<r.params.length;o++)s.push(r.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class Dk extends OC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,YD(e);const r=Rb(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=e.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),ic(o)}update(e){return Kh(this),this.iHash.update(e),this}digestInto(e){Kh(this),wd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=i,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bk=(t,e,n)=>new Dk(t,e).update(n).digest();Bk.create=(t,e)=>new Dk(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nE(t){t.lowS!==void 0&&vi("lowS",t.lowS),t.prehash!==void 0&&vi("prehash",t.prehash)}function xB(t){const e=Bb(t);Sd(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class SB extends Error{constructor(e=""){super(e)}}const to={Err:SB,_tlv:{encode:(t,e)=>{const{Err:n}=to;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=uf(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?uf(s.length/2|128):"";return uf(t)+o+s+e},decode(t,e){const{Err:n}=to;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const l=s&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of c)i=i<<8|d;if(r+=l,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=to;if(t<so)throw new e("integer: negative integers are not allowed");let n=uf(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=to;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return pa(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=to,s=sn("signature",t),{v:o,l:i}=r.decode(48,s);if(i.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:d}=r.decode(2,l);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=to,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),o=r+s;return e.encode(48,o)}};function Qg(t,e){return ac(xd(t,e))}const so=BigInt(0),xn=BigInt(1);BigInt(2);const Jg=BigInt(3),EB=BigInt(4);function _B(t){const e=xB(t),{Fp:n}=e,r=Ed(e.n,e.nBitLength),s=e.toBytes||((E,A,k)=>{const B=A.toAffine();return lc(Uint8Array.from([4]),n.toBytes(B.x),n.toBytes(B.y))}),o=e.fromBytes||(E=>{const A=E.subarray(1),k=n.fromBytes(A.subarray(0,n.BYTES)),B=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:k,y:B}});function i(E){const{a:A,b:k}=e,B=n.sqr(E),z=n.mul(B,E);return n.add(n.add(z,n.mul(E,A)),k)}function a(E,A){const k=n.sqr(A),B=i(E);return n.eql(k,B)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,Jg),EB),c=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function d(E){return Pb(E,xn,e.n)}function f(E){const{allowedPrivateKeyLengths:A,nByteLength:k,wrapPrivateKey:B,n:z}=e;if(A&&typeof E!="bigint"){if(bd(E)&&(E=ac(E)),typeof E!="string"||!A.includes(E.length))throw new Error("invalid private key");E=E.padStart(k*2,"0")}let U;try{U=typeof E=="bigint"?E:pa(sn("private key",E,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof E)}return B&&(U=$t(U,z)),hs("private key",U,xn,z),U}function h(E){if(!(E instanceof m))throw new Error("ProjectivePoint expected")}const p=Jh((E,A)=>{const{px:k,py:B,pz:z}=E;if(n.eql(z,n.ONE))return{x:k,y:B};const U=E.is0();A==null&&(A=U?n.ONE:n.inv(z));const K=n.mul(k,A),V=n.mul(B,A),q=n.mul(z,A);if(U)return{x:n.ZERO,y:n.ZERO};if(!n.eql(q,n.ONE))throw new Error("invZ was invalid");return{x:K,y:V}}),v=Jh(E=>{if(E.is0()){if(e.allowInfinityPoint&&!n.is0(E.py))return;throw new Error("bad point: ZERO")}const{x:A,y:k}=E.toAffine();if(!n.isValid(A)||!n.isValid(k))throw new Error("bad point: x or y not FE");if(!a(A,k))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(A,k,B){if(A==null||!n.isValid(A))throw new Error("x required");if(k==null||!n.isValid(k)||n.is0(k))throw new Error("y required");if(B==null||!n.isValid(B))throw new Error("z required");this.px=A,this.py=k,this.pz=B,Object.freeze(this)}static fromAffine(A){const{x:k,y:B}=A||{};if(!A||!n.isValid(k)||!n.isValid(B))throw new Error("invalid affine point");if(A instanceof m)throw new Error("projective point not allowed");const z=U=>n.eql(U,n.ZERO);return z(k)&&z(B)?m.ZERO:new m(k,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const k=Db(n,A.map(B=>B.pz));return A.map((B,z)=>B.toAffine(k[z])).map(m.fromAffine)}static fromHex(A){const k=m.fromAffine(o(sn("pointHex",A)));return k.assertValidity(),k}static fromPrivateKey(A){return m.BASE.multiply(f(A))}static msm(A,k){return ZC(m,r,A,k)}_setWindowSize(A){x.setWindowSize(this,A)}assertValidity(){v(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){h(A);const{px:k,py:B,pz:z}=this,{px:U,py:K,pz:V}=A,q=n.eql(n.mul(k,V),n.mul(U,z)),J=n.eql(n.mul(B,V),n.mul(K,z));return q&&J}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:k}=e,B=n.mul(k,Jg),{px:z,py:U,pz:K}=this;let V=n.ZERO,q=n.ZERO,J=n.ZERO,D=n.mul(z,z),y=n.mul(U,U),_=n.mul(K,K),T=n.mul(z,U);return T=n.add(T,T),J=n.mul(z,K),J=n.add(J,J),V=n.mul(A,J),q=n.mul(B,_),q=n.add(V,q),V=n.sub(y,q),q=n.add(y,q),q=n.mul(V,q),V=n.mul(T,V),J=n.mul(B,J),_=n.mul(A,_),T=n.sub(D,_),T=n.mul(A,T),T=n.add(T,J),J=n.add(D,D),D=n.add(J,D),D=n.add(D,_),D=n.mul(D,T),q=n.add(q,D),_=n.mul(U,K),_=n.add(_,_),D=n.mul(_,T),V=n.sub(V,D),J=n.mul(_,y),J=n.add(J,J),J=n.add(J,J),new m(V,q,J)}add(A){h(A);const{px:k,py:B,pz:z}=this,{px:U,py:K,pz:V}=A;let q=n.ZERO,J=n.ZERO,D=n.ZERO;const y=e.a,_=n.mul(e.b,Jg);let T=n.mul(k,U),R=n.mul(B,K),M=n.mul(z,V),j=n.add(k,B),P=n.add(U,K);j=n.mul(j,P),P=n.add(T,R),j=n.sub(j,P),P=n.add(k,z);let I=n.add(U,V);return P=n.mul(P,I),I=n.add(T,M),P=n.sub(P,I),I=n.add(B,z),q=n.add(K,V),I=n.mul(I,q),q=n.add(R,M),I=n.sub(I,q),D=n.mul(y,P),q=n.mul(_,M),D=n.add(q,D),q=n.sub(R,D),D=n.add(R,D),J=n.mul(q,D),R=n.add(T,T),R=n.add(R,T),M=n.mul(y,M),P=n.mul(_,P),R=n.add(R,M),M=n.sub(T,M),M=n.mul(y,M),P=n.add(P,M),T=n.mul(R,P),J=n.add(J,T),T=n.mul(I,P),q=n.mul(j,q),q=n.sub(q,T),T=n.mul(j,R),D=n.mul(I,D),D=n.add(D,T),new m(q,J,D)}subtract(A){return this.add(A.negate())}is0(){return this.equals(m.ZERO)}wNAF(A){return x.wNAFCached(this,A,m.normalizeZ)}multiplyUnsafe(A){const{endo:k,n:B}=e;hs("scalar",A,so,B);const z=m.ZERO;if(A===so)return z;if(this.is0()||A===xn)return this;if(!k||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,A,m.normalizeZ);let{k1neg:U,k1:K,k2neg:V,k2:q}=k.splitScalar(A),J=z,D=z,y=this;for(;K>so||q>so;)K&xn&&(J=J.add(y)),q&xn&&(D=D.add(y)),y=y.double(),K>>=xn,q>>=xn;return U&&(J=J.negate()),V&&(D=D.negate()),D=new m(n.mul(D.px,k.beta),D.py,D.pz),J.add(D)}multiply(A){const{endo:k,n:B}=e;hs("scalar",A,xn,B);let z,U;if(k){const{k1neg:K,k1:V,k2neg:q,k2:J}=k.splitScalar(A);let{p:D,f:y}=this.wNAF(V),{p:_,f:T}=this.wNAF(J);D=x.constTimeNegate(K,D),_=x.constTimeNegate(q,_),_=new m(n.mul(_.px,k.beta),_.py,_.pz),z=D.add(_),U=y.add(T)}else{const{p:K,f:V}=this.wNAF(A);z=K,U=V}return m.normalizeZ([z,U])[0]}multiplyAndAddUnsafe(A,k,B){const z=m.BASE,U=(V,q)=>q===so||q===xn||!V.equals(z)?V.multiplyUnsafe(q):V.multiply(q),K=U(this,k).add(U(A,B));return K.is0()?void 0:K}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:k}=e;if(A===xn)return!0;if(k)return k(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:k}=e;return A===xn?this:k?k(m,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return vi("isCompressed",A),this.assertValidity(),s(m,this,A)}toHex(A=!0){return vi("isCompressed",A),ac(this.toRawBytes(A))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:S}=e,x=JC(m,b?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:d}}function NB(t){const e=Bb(t);return Sd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function AB(t){const e=NB(t),{Fp:n,n:r,nByteLength:s,nBitLength:o}=e,i=n.BYTES+1,a=2*n.BYTES+1;function l(_){return $t(_,r)}function c(_){return Zy(_,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:h,isWithinCurveOrder:p}=_B({...e,toBytes(_,T,R){const M=T.toAffine(),j=n.toBytes(M.x),P=lc;return vi("isCompressed",R),R?P(Uint8Array.from([T.hasEvenY()?2:3]),j):P(Uint8Array.from([4]),j,n.toBytes(M.y))},fromBytes(_){const T=_.length,R=_[0],M=_.subarray(1);if(T===i&&(R===2||R===3)){const j=pa(M);if(!Pb(j,xn,n.ORDER))throw new Error("Point is not on curve");const P=h(j);let I;try{I=n.sqrt(P)}catch(G){const X=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+X)}const w=(I&xn)===xn;return(R&1)===1!==w&&(I=n.neg(I)),{x:j,y:I}}else if(T===a&&R===4){const j=n.fromBytes(M.subarray(0,n.BYTES)),P=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:j,y:P}}else{const j=i,P=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+P+", got "+T)}}});function v(_){const T=r>>xn;return _>T}function m(_){return v(_)?l(-_):_}const b=(_,T,R)=>pa(_.slice(T,R));class S{constructor(T,R,M){hs("r",T,xn,r),hs("s",R,xn,r),this.r=T,this.s=R,M!=null&&(this.recovery=M),Object.freeze(this)}static fromCompact(T){const R=s;return T=sn("compactSignature",T,R*2),new S(b(T,0,R),b(T,R,2*R))}static fromDER(T){const{r:R,s:M}=to.toSig(sn("DER",T));return new S(R,M)}assertValidity(){}addRecoveryBit(T){return new S(this.r,this.s,T)}recoverPublicKey(T){const{r:R,s:M,recovery:j}=this,P=z(sn("msgHash",T));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const I=j===2||j===3?R+e.n:R;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const w=j&1?"03":"02",O=d.fromHex(w+Qg(I,n.BYTES)),G=c(I),X=l(-P*G),ee=l(M*G),oe=d.BASE.multiplyAndAddUnsafe(O,X,ee);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Yh(this.toDERHex())}toDERHex(){return to.hexFromSig(this)}toCompactRawBytes(){return Yh(this.toCompactHex())}toCompactHex(){const T=s;return Qg(this.r,T)+Qg(this.s,T)}}const x={isValidPrivateKey(_){try{return f(_),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const _=KC(e.n);return k8(e.randomBytes(_),e.n)},precompute(_=8,T=d.BASE){return T._setWindowSize(_),T.multiply(BigInt(3)),T}};function E(_,T=!0){return d.fromPrivateKey(_).toRawBytes(T)}function A(_){if(typeof _=="bigint")return!1;if(_ instanceof d)return!0;const R=sn("key",_).length,M=n.BYTES,j=M+1,P=2*M+1;if(!(e.allowedPrivateKeyLengths||s===j))return R===j||R===P}function k(_,T,R=!0){if(A(_)===!0)throw new Error("first arg must be private key");if(A(T)===!1)throw new Error("second arg must be public key");return d.fromHex(T).multiply(f(_)).toRawBytes(R)}const B=e.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const T=pa(_),R=_.length*8-o;return R>0?T>>BigInt(R):T},z=e.bits2int_modN||function(_){return l(B(_))},U=tm(o);function K(_){return hs("num < 2^"+o,_,so,U),xd(_,s)}function V(_,T,R=q){if(["recovered","canonical"].some(we=>we in R))throw new Error("sign() legacy options not supported");const{hash:M,randomBytes:j}=e;let{lowS:P,prehash:I,extraEntropy:w}=R;P==null&&(P=!0),_=sn("msgHash",_),nE(R),I&&(_=sn("prehashed msgHash",M(_)));const O=z(_),G=f(T),X=[K(G),K(O)];if(w!=null&&w!==!1){const we=w===!0?j(n.BYTES):w;X.push(sn("extraEntropy",we))}const ee=lc(...X),oe=O;function ue(we){const Te=B(we);if(!p(Te))return;const Se=c(Te),ye=d.BASE.multiply(Te).toAffine(),Fe=l(ye.x);if(Fe===so)return;const se=l(Se*l(oe+Fe*G));if(se===so)return;let he=(ye.x===Fe?0:2)|Number(ye.y&xn),Ee=se;return P&&v(se)&&(Ee=m(se),he^=1),new S(Fe,Ee,he)}return{seed:ee,k2sig:ue}}const q={lowS:e.lowS,prehash:!1},J={lowS:e.lowS,prehash:!1};function D(_,T,R=q){const{seed:M,k2sig:j}=V(_,T,R),P=e;return v8(P.hash.outputLen,P.nByteLength,P.hmac)(M,j)}d.BASE._setWindowSize(8);function y(_,T,R,M=J){var he;const j=_;T=sn("msgHash",T),R=sn("publicKey",R);const{lowS:P,prehash:I,format:w}=M;if(nE(M),"strict"in M)throw new Error("options.strict was renamed to lowS");if(w!==void 0&&w!=="compact"&&w!=="der")throw new Error("format must be compact or der");const O=typeof j=="string"||bd(j),G=!O&&!w&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!O&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let X,ee;try{if(G&&(X=new S(j.r,j.s)),O){try{w!=="compact"&&(X=S.fromDER(j))}catch(Ee){if(!(Ee instanceof to.Err))throw Ee}!X&&w!=="der"&&(X=S.fromCompact(j))}ee=d.fromHex(R)}catch{return!1}if(!X||P&&X.hasHighS())return!1;I&&(T=e.hash(T));const{r:oe,s:ue}=X,we=z(T),Te=c(ue),Se=l(we*Te),ye=l(oe*Te),Fe=(he=d.BASE.multiplyAndAddUnsafe(ee,Se,ye))==null?void 0:he.toAffine();return Fe?l(Fe.x)===oe:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:k,sign:D,verify:y,ProjectivePoint:d,Signature:S,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CB(t){return{hash:t,hmac:(e,...n)=>Bk(t,e,ZD(...n)),randomBytes:PC}}function kB(t,e){const n=r=>AB({...t,...CB(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MB=BigInt(0),TB=BigInt(1),nv=BigInt(2),sE=(t,e)=>(t+e/nv)/e;function IB(t){const e=zk,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,d=c*c*t%e,f=en(d,n,e)*d%e,h=en(f,n,e)*d%e,p=en(h,nv,e)*c%e,v=en(p,s,e)*p%e,m=en(v,o,e)*v%e,b=en(m,a,e)*m%e,S=en(b,l,e)*b%e,x=en(S,a,e)*m%e,E=en(x,n,e)*d%e,A=en(E,i,e)*v%e,k=en(A,r,e)*c%e,B=en(k,nv,e);if(!rv.eql(rv.sqr(B),t))throw new Error("Cannot find square root");return B}const rv=Ed(zk,void 0,void 0,{sqrt:IB}),jB=kB({a:MB,b:BigInt(7),Fp:rv,n:rE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=rE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-TB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=sE(o*t,e),l=sE(-r*t,e);let c=$t(t-a*n-l*s,e),d=$t(-a*r-l*o,e);const f=c>i,h=d>i;if(f&&(c=e-c),h&&(d=e-d),c>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:d}}}},zC);function oE(t){try{return $b.ExtendedPoint.fromHex(t),!0}catch{return!1}}const $k=(t,e)=>$b.sign(t,e.slice(0,32)),RB=$b.verify,uc=t=>Ke.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ke.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ke.Buffer.from(t);class OB{constructor(e){Object.assign(this,e)}encode(){return Ke.Buffer.from(ak(Wf,this))}static decode(e){return lk(Wf,this,e)}static decodeUnchecked(e){return nk(Wf,this,e)}}const Wf=new Map;var Uk;const LB=32,wi=32;function PB(t){return t._bn!==void 0}let iE=1;class Le extends OB{constructor(e){if(super({}),this._bn=void 0,PB(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Tn.decode(e);if(n.length!=wi)throw new Error("Invalid public key input");this._bn=new ZS(n)}else this._bn=new ZS(e);if(this._bn.byteLength()>wi)throw new Error("Invalid public key input")}}static unique(){const e=new Le(iE);return iE+=1,new Le(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Tn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ke.Buffer);if(e.length===wi)return e;const n=Ke.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const s=Ke.Buffer.concat([e.toBuffer(),Ke.Buffer.from(n),r.toBuffer()]),o=XS(s);return new Le(o)}static createProgramAddressSync(e,n){let r=Ke.Buffer.alloc(0);e.forEach(function(o){if(o.length>LB)throw new TypeError("Max seed length exceeded");r=Ke.Buffer.concat([r,uc(o)])}),r=Ke.Buffer.concat([r,n.toBuffer(),Ke.Buffer.from("ProgramDerivedAddress")]);const s=XS(r);if(oE(s))throw new Error("Invalid seeds, address must fall off the curve");return new Le(s)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,s;for(;r!=0;){try{const o=e.concat(Ke.Buffer.from([r]));s=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Le(e);return oE(n.toBytes())}}Uk=Le;Le.default=new Uk("11111111111111111111111111111111");Wf.set(Le,{kind:"struct",fields:[["_bn","u256"]]});new Le("BPFLoader1111111111111111111111111111111111");const Pl=1232,e1=127,ed=64;class Fk extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Fk.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Wk extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Wk.prototype,"name",{value:"TransactionExpiredTimeoutError"});class nu extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(nu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class sp{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,i)=>{r.set(o.toBase58(),i)});const s=o=>{const i=r.get(o.toBase58());if(i===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return i};return e.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(i=>s(i.pubkey)),data:o.data}))}}const ot=(t="publicKey")=>Pt(32,t),DB=(t="signature")=>Pt(64,t),Sl=(t="string")=>{const e=Ae([Pe("length"),Pe("lengthPadding"),Pt(ma(Pe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(o,i)=>n(o,i).chars.toString(),s.encode=(o,i,a)=>{const l={chars:Ke.Buffer.from(o,"utf8")};return r(l,i,a)},s.alloc=o=>Pe().span+Pe().span+Ke.Buffer.from(o,"utf8").length,s},BB=(t="authorized")=>Ae([ot("staker"),ot("withdrawer")],t),zB=(t="lockup")=>Ae([_r("unixTimestamp"),_r("epoch"),ot("custodian")],t),$B=(t="voteInit")=>Ae([ot("nodePubkey"),ot("authorizedVoter"),ot("authorizedWithdrawer"),yt("commission")],t),UB=(t="voteAuthorizeWithSeedArgs")=>Ae([Pe("voteAuthorizationType"),ot("currentAuthorityDerivedKeyOwnerPubkey"),Sl("currentAuthorityDerivedKeySeed"),ot("newAuthorized")],t);function Nr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Ar(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function zt(t,e){if(!t)throw new Error(e||"Assertion failed")}class lm{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,s=i=>{const a=i.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},o=s(n);o.isSigner=!0,o.isWritable=!0;for(const i of e){s(i.programId).isInvoked=!0;for(const a of i.keys){const l=s(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new lm(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];zt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),s=e.filter(([,l])=>!l.isSigner&&l.isWritable),o=e.filter(([,l])=>!l.isSigner&&!l.isWritable),i={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{zt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];zt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Le(l)),...r.map(([l])=>new Le(l)),...s.map(([l])=>new Le(l)),...o.map(([l])=>new Le(l))];return[i,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,i=>!i.isSigner&&!i.isInvoked&&i.isWritable),[s,o]=this.drainKeysFoundInLookupTable(e.state.addresses,i=>!i.isSigner&&!i.isInvoked&&!i.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(e,n){const r=new Array,s=new Array;for(const[o,i]of this.keyMetaMap.entries())if(n(i)){const a=new Le(o),l=e.findIndex(c=>c.equals(a));l>=0&&(zt(l<256,"Max lookup table index exceeded"),r.push(l),s.push(a),this.keyMetaMap.delete(o))}return[r,s]}}const Vk="Reached end of buffer unexpectedly";function oo(t){if(t.length===0)throw new Error(Vk);return t.shift()}function Cr(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(Vk);return t.splice(...e)}class So{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Le(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Tn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new sp(this.staticAccountKeys)}static compile(e){const n=lm.compile(e.instructions,e.payerKey),[r,s]=n.getMessageComponents(),i=new sp(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Tn.encode(a.data)}));return new So({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ar(n,e);const r=this.instructions.map(f=>{const{accounts:h,programIdIndex:p}=f,v=Array.from(Tn.decode(f.data));let m=[];Ar(m,h.length);let b=[];return Ar(b,v.length),{programIdIndex:p,keyIndicesCount:Ke.Buffer.from(m),keyIndices:h,dataLength:Ke.Buffer.from(b),data:v}});let s=[];Ar(s,r.length);let o=Ke.Buffer.alloc(Pl);Ke.Buffer.from(s).copy(o);let i=s.length;r.forEach(f=>{const p=Ae([yt("programIdIndex"),Pt(f.keyIndicesCount.length,"keyIndicesCount"),Hn(yt("keyIndex"),f.keyIndices.length,"keyIndices"),Pt(f.dataLength.length,"dataLength"),Hn(yt("userdatum"),f.data.length,"data")]).encode(f,o,i);i+=p}),o=o.slice(0,i);const a=Ae([Pt(1,"numRequiredSignatures"),Pt(1,"numReadonlySignedAccounts"),Pt(1,"numReadonlyUnsignedAccounts"),Pt(n.length,"keyCount"),Hn(ot("key"),e,"keys"),ot("recentBlockhash")]),l={numRequiredSignatures:Ke.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ke.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ke.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ke.Buffer.from(n),keys:this.accountKeys.map(f=>uc(f.toBytes())),recentBlockhash:Tn.decode(this.recentBlockhash)};let c=Ke.Buffer.alloc(2048);const d=a.encode(l,c);return o.copy(c,d),c.slice(0,d+o.length)}static from(e){let n=[...e];const r=oo(n);if(r!==(r&e1))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=oo(n),o=oo(n),i=Nr(n);let a=[];for(let h=0;h<i;h++){const p=Cr(n,0,wi);a.push(new Le(Ke.Buffer.from(p)))}const l=Cr(n,0,wi),c=Nr(n);let d=[];for(let h=0;h<c;h++){const p=oo(n),v=Nr(n),m=Cr(n,0,v),b=Nr(n),S=Cr(n,0,b),x=Tn.encode(Ke.Buffer.from(S));d.push({programIdIndex:p,accounts:m,data:x})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:Tn.encode(Ke.Buffer.from(l)),accountKeys:a,instructions:d};return new So(f)}}class td{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new sp(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,o=this.addressTableLookups.reduce((i,a)=>i+a.writableIndexes.length,0);return s<o}else if(e>=this.header.numRequiredSignatures){const s=e-n,i=r-n-this.header.numReadonlyUnsignedAccounts;return s<i}else{const s=n-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(o=>o.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<s.state.addresses.length)n.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<s.state.addresses.length)n.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=lm.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const d of o){const f=n.extractTableLookup(d);if(f!==void 0){const[h,{writable:p,readonly:v}]=f;r.push(h),s.writable.push(...p),s.readonly.push(...v)}}const[i,a]=n.getMessageComponents(),c=new sp(a,s).compileInstructions(e.instructions);return new td({header:i,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Ar(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ar(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();Ar(o,this.addressTableLookups.length);const i=Ae([yt("prefix"),Ae([yt("numRequiredSignatures"),yt("numReadonlySignedAccounts"),yt("numReadonlyUnsignedAccounts")],"header"),Pt(e.length,"staticAccountKeysLength"),Hn(ot(),this.staticAccountKeys.length,"staticAccountKeys"),ot("recentBlockhash"),Pt(r.length,"instructionsLength"),Pt(n.length,"serializedInstructions"),Pt(o.length,"addressTableLookupsLength"),Pt(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Pl),c=i.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Tn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(Pl);for(const r of this.compiledInstructions){const s=Array();Ar(s,r.accountKeyIndexes.length);const o=Array();Ar(o,r.data.length);const i=Ae([yt("programIdIndex"),Pt(s.length,"encodedAccountKeyIndexesLength"),Hn(yt(),r.accountKeyIndexes.length,"accountKeyIndexes"),Pt(o.length,"encodedDataLength"),Pt(r.data.length,"data")]);e+=i.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Pl);for(const r of this.addressTableLookups){const s=Array();Ar(s,r.writableIndexes.length);const o=Array();Ar(o,r.readonlyIndexes.length);const i=Ae([ot("accountKey"),Pt(s.length,"encodedWritableIndexesLength"),Hn(yt(),r.writableIndexes.length,"writableIndexes"),Pt(o.length,"encodedReadonlyIndexesLength"),Hn(yt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=i.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=oo(n),s=r&e1;zt(r!==s,"Expected versioned message but received legacy message");const o=s;zt(o===0,`Expected versioned message with version 0 but found version ${o}`);const i={numRequiredSignatures:oo(n),numReadonlySignedAccounts:oo(n),numReadonlyUnsignedAccounts:oo(n)},a=[],l=Nr(n);for(let v=0;v<l;v++)a.push(new Le(Cr(n,0,wi)));const c=Tn.encode(Cr(n,0,wi)),d=Nr(n),f=[];for(let v=0;v<d;v++){const m=oo(n),b=Nr(n),S=Cr(n,0,b),x=Nr(n),E=new Uint8Array(Cr(n,0,x));f.push({programIdIndex:m,accountKeyIndexes:S,data:E})}const h=Nr(n),p=[];for(let v=0;v<h;v++){const m=new Le(Cr(n,0,wi)),b=Nr(n),S=Cr(n,0,b),x=Nr(n),E=Cr(n,0,x);p.push({accountKey:m,writableIndexes:S,readonlyIndexes:E})}return new td({header:i,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:p})}}const cm={deserializeMessageVersion(t){const e=t[0],n=e&e1;return n===e?"legacy":n},deserialize:t=>{const e=cm.deserializeMessageVersion(t);if(e==="legacy")return So.from(t);if(e===0)return td.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Po=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const FB=Ke.Buffer.alloc(ed).fill(0);class aE{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ke.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Gr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new aE(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<n.length;m++)if(n[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);const s=[],o=[];n.forEach(m=>{m.keys.forEach(S=>{o.push({...S})});const b=m.programId.toString();s.includes(b)||s.push(b)}),s.forEach(m=>{o.push({pubkey:new Le(m),isSigner:!1,isWritable:!1})});const i=[];o.forEach(m=>{const b=m.pubkey.toString(),S=i.findIndex(x=>x.pubkey.toString()===b);S>-1?(i[S].isWritable=i[S].isWritable||m.isWritable,i[S].isSigner=i[S].isSigner||m.isSigner):i.push(m)}),i.sort(function(m,b){if(m.isSigner!==b.isSigner)return m.isSigner?-1:1;if(m.isWritable!==b.isWritable)return m.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",S)});const a=i.findIndex(m=>m.pubkey.equals(r));if(a>-1){const[m]=i.splice(a,1);m.isSigner=!0,m.isWritable=!0,i.unshift(m)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const m of this.signatures){const b=i.findIndex(S=>S.pubkey.equals(m.publicKey));if(b>-1)i[b].isSigner||(i[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let l=0,c=0,d=0;const f=[],h=[];i.forEach(({pubkey:m,isSigner:b,isWritable:S})=>{b?(f.push(m.toString()),l+=1,S||(c+=1)):(h.push(m.toString()),S||(d+=1))});const p=f.concat(h),v=n.map(m=>{const{data:b,programId:S}=m;return{programIdIndex:p.indexOf(S.toString()),accounts:m.keys.map(x=>p.indexOf(x.pubkey.toString())),data:Tn.encode(b)}});return v.forEach(m=>{zt(m.programIdIndex>=0),m.accounts.forEach(b=>zt(b>=0))}),new So({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:p,recentBlockhash:e,instructions:v})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,o)=>n[o].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const i=o.publicKey.toString();n.has(i)||(n.add(i),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of e){const i=o.publicKey.toString();n.has(i)||(n.add(i),r.push(o))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(s=>{const o=$k(r,s.secretKey);this._addSignature(s.publicKey,uc(o))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){zt(n.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ke.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:s,publicKey:o}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(o):RB(s,e,o.toBytes())||(r.invalid||(r.invalid=[])).push(o);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(s,n);if(o){let i="Signature verification failed.";throw o.invalid&&(i+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(i+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(i)}}return this._serialize(s)}_serialize(e){const{signatures:n}=this,r=[];Ar(r,n.length);const s=r.length+n.length*64+e.length,o=Ke.Buffer.alloc(s);return zt(n.length<256),Ke.Buffer.from(r).copy(o,0),n.forEach(({signature:i},a)=>{i!==null&&(zt(i.length===64,"signature has invalid length"),Ke.Buffer.from(i).copy(o,r.length+a*64))}),e.copy(o,r.length+n.length*64),zt(o.length<=Pl,`Transaction too large: ${o.length} > ${Pl}`),o}get keys(){return zt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return zt(this.instructions.length===1),this.instructions[0].programId}get data(){return zt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Nr(n);let s=[];for(let o=0;o<r;o++){const i=Cr(n,0,ed);s.push(Tn.encode(Ke.Buffer.from(i)))}return Gr.populate(So.from(n),s)}static populate(e,n=[]){const r=new Gr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((s,o)=>{const i={signature:s==Tn.encode(FB)?null:Tn.decode(s),publicKey:e.accountKeys[o]};r.signatures.push(i)}),e.instructions.forEach(s=>{const o=s.accounts.map(i=>{const a=e.accountKeys[i];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(i),isWritable:e.isAccountWritable(i)}});r.instructions.push(new aE({keys:o,programId:e.accountKeys[s.programIdIndex],data:Tn.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Ti{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)zt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(ed));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ar(n,this.signatures.length);const r=Ae([Pt(n.length,"encodedSignaturesLength"),Hn(DB(),this.signatures.length,"signatures"),Pt(e.length,"serializedMessage")]),s=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,o)}static deserialize(e){let n=[...e];const r=[],s=Nr(n);for(let i=0;i<s;i++)r.push(new Uint8Array(Cr(n,0,ed)));const o=cm.deserialize(new Uint8Array(n));return new Ti(o,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const o=r.findIndex(i=>i.equals(s.publicKey));zt(o>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[o]=$k(n,s.secretKey)}}addSignature(e,n){zt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));zt(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const WB=160,VB=64,HB=WB/VB,qB=1e3/HB;new Le("SysvarC1ock11111111111111111111111111111111");new Le("SysvarEpochSchedu1e111111111111111111111111");new Le("Sysvar1nstructions1111111111111111111111111");new Le("SysvarRecentB1ockHashes11111111111111111111");new Le("SysvarRent111111111111111111111111111111111");new Le("SysvarRewards111111111111111111111111111111");new Le("SysvarS1otHashes111111111111111111111111111");new Le("SysvarS1otHistory11111111111111111111111111");new Le("SysvarStakeHistory1111111111111111111111111");class lE extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:s}){const o=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",i="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+i;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+i;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const o=s.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class je extends Error{constructor({code:e,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function el(t){return new Promise(e=>setTimeout(e,t))}const GB=An("lamportsPerSignature"),Hk=Ae([Pe("version"),Pe("state"),ot("authorizedPubkey"),ot("nonce"),Ae([GB],"feeCalculator")]);Hk.span;class t1{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=Hk.decode(uc(e),0);return new t1({authorizedPubkey:new Le(n.authorizedPubkey),nonce:new Le(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function dc(t){const e=Pt(8,t),n=e.decode.bind(e),r=e.encode.bind(e),s=e,o=L6();return s.decode=(i,a)=>{const l=n(i,a);return o.decode(l)},s.encode=(i,a,l)=>{const c=o.encode(i);return r(c,a,l)},s}Object.freeze({Create:{index:0,layout:Ae([Pe("instruction"),_r("lamports"),_r("space"),ot("programId")])},Assign:{index:1,layout:Ae([Pe("instruction"),ot("programId")])},Transfer:{index:2,layout:Ae([Pe("instruction"),dc("lamports")])},CreateWithSeed:{index:3,layout:Ae([Pe("instruction"),ot("base"),Sl("seed"),_r("lamports"),_r("space"),ot("programId")])},AdvanceNonceAccount:{index:4,layout:Ae([Pe("instruction")])},WithdrawNonceAccount:{index:5,layout:Ae([Pe("instruction"),_r("lamports")])},InitializeNonceAccount:{index:6,layout:Ae([Pe("instruction"),ot("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ae([Pe("instruction"),ot("authorized")])},Allocate:{index:8,layout:Ae([Pe("instruction"),_r("space")])},AllocateWithSeed:{index:9,layout:Ae([Pe("instruction"),ot("base"),Sl("seed"),_r("space"),ot("programId")])},AssignWithSeed:{index:10,layout:Ae([Pe("instruction"),ot("base"),Sl("seed"),ot("programId")])},TransferWithSeed:{index:11,layout:Ae([Pe("instruction"),dc("lamports"),Sl("seed"),ot("programId")])},UpgradeNonceAccount:{index:12,layout:Ae([Pe("instruction")])}});new Le("11111111111111111111111111111111");new Le("BPFLoader2111111111111111111111111111111111");function KB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zg,cE;function YB(){if(cE)return Zg;cE=1;var t=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var o in r)s.push(o);return s};function n(r,s){var o,i,a,l,c,d,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(f=t.call(r),f==="[object Array]"){for(a="[",i=r.length-1,o=0;o<i;o++)a+=n(r[o],!0)+",";return i>-1&&(a+=n(r[o],!0)),a+"]"}else if(f==="[object Object]"){for(l=e(r).sort(),i=l.length,a="",o=0;o<i;)c=l[o],d=n(r[c],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+d),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Zg=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Zg}var QB=YB(),uE=KB(QB);const Gc=32;function Xg(t){let e=0;for(;t>1;)t/=2,e++;return e}function JB(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class ZB{constructor(e,n,r,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Xg(JB(e+Gc+1))-Xg(Gc)-1,r=this.getSlotsInEpoch(n),s=e-(r-Gc);return[n,s]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Gc:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Xg(Gc)):this.slotsPerEpoch}}var XB=globalThis.fetch;class ez extends bB{constructor(e,n,r){const s=o=>{const i=vB(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in i?this.underlyingSocket=i.socket:this.underlyingSocket=i,i};super(s,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function tz(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const dE=56;class fE{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=tz(nz,e),r=e.length-dE;zt(r>=0,"lookup table is invalid"),zt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:o}=Ae([Hn(ot(),s,"addresses")]).decode(e.slice(dE));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Le(n.authority[0]):void 0,addresses:o.map(i=>new Le(i))}}}const nz={index:1,layout:Ae([Pe("typeIndex"),dc("deactivationSlot"),An("lastExtendedSlot"),yt("lastExtendedStartIndex"),yt(),Hn(ot(),ma(yt(),-1),"authority")])},rz=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function sz(t){const e=t.match(rz);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,s,o]=e,i=t.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),l=a==null?"":`:${a+1}`;return`${i}//${r}${l}${o}`}const Qt=Ad(Zb(Le),pe(),t=>new Le(t)),qk=Xb([pe(),qt("base64")]),n1=Ad(Zb(Ke.Buffer),qk,t=>Ke.Buffer.from(t[0],"base64")),oz=30*1e3;function iz(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Mt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...s}=t;e=r,n=s}return{commitment:e,config:n}}function hE(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Gk(t){return sr([le({jsonrpc:qt("2.0"),id:pe(),result:t}),le({jsonrpc:qt("2.0"),id:pe(),error:le({code:Mc(),message:pe(),data:Be(F6())})})])}const az=Gk(Mc());function tt(t){return Ad(Gk(t),az,e=>"error"in e?e:{...e,result:ve(e.result,t)})}function rn(t){return tt(le({context:le({slot:Q()}),value:t}))}function um(t){return le({context:le({slot:Q()}),value:t})}function e0(t,e){return t===0?new td({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Le(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Tn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new So(e)}const lz=le({foundation:Q(),foundationTerm:Q(),initial:Q(),taper:Q(),terminal:Q()}),cz=tt(be(xe(le({epoch:Q(),effectiveSlot:Q(),amount:Q(),postBalance:Q(),commission:Be(xe(Q()))})))),uz=be(le({slot:Q(),prioritizationFee:Q()})),dz=le({total:Q(),validator:Q(),foundation:Q(),epoch:Q()}),fz=le({epoch:Q(),slotIndex:Q(),slotsInEpoch:Q(),absoluteSlot:Q(),blockHeight:Be(Q()),transactionCount:Be(Q())}),hz=le({slotsPerEpoch:Q(),leaderScheduleSlotOffset:Q(),warmup:$s(),firstNormalEpoch:Q(),firstNormalSlot:Q()}),pz=Mk(pe(),be(Q())),Pa=xe(sr([le({}),pe()])),mz=le({err:Pa}),gz=qt("receivedSignature"),yz=le({"solana-core":pe(),"feature-set":Be(Q())}),vz=le({program:pe(),programId:Qt,parsed:Mc()}),wz=le({programId:Qt,accounts:be(Qt),data:pe()}),pE=rn(le({err:xe(sr([le({}),pe()])),logs:xe(be(pe())),accounts:Be(xe(be(xe(le({executable:$s(),owner:pe(),lamports:Q(),data:be(pe()),rentEpoch:Be(Q())}))))),unitsConsumed:Be(Q()),returnData:Be(xe(le({programId:pe(),data:Xb([pe(),qt("base64")])}))),innerInstructions:Be(xe(be(le({index:Q(),instructions:be(sr([vz,wz]))}))))})),bz=rn(le({byIdentity:Mk(pe(),be(Q())),range:le({firstSlot:Q(),lastSlot:Q()})}));function xz(t,e,n,r,s,o){const i=n||XB;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(d,f)=>{const h=await new Promise((p,v)=>{try{r(d,f,(m,b)=>p([m,b]))}catch(m){v(m)}});return await i(...h)}),new mB(async(d,f)=>{const h={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},x$)};try{let p=5,v,m=500;for(;l?v=await l(t,h):v=await i(t,h),!(v.status!==429||s===!0||(p-=1,p===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${m}ms delay...`),await el(m),m*=2;const b=await v.text();v.ok?f(null,b):f(new Error(`${v.status} ${v.statusText}: ${b}`))}catch(p){p instanceof Error&&f(p)}},{})}function Sz(t){return(e,n)=>new Promise((r,s)=>{t.request(e,n,(o,i)=>{if(o){s(o);return}r(i)})})}function Ez(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const s=e.map(o=>t.request(o.methodName,o.args));t.request(s,(o,i)=>{if(o){r(o);return}n(i)})})}const _z=tt(lz),Nz=tt(dz),Az=tt(uz),Cz=tt(fz),kz=tt(hz),Mz=tt(pz),Tz=tt(Q()),Iz=rn(le({total:Q(),circulating:Q(),nonCirculating:Q(),nonCirculatingAccounts:be(Qt)})),sv=le({amount:pe(),uiAmount:xe(Q()),decimals:Q(),uiAmountString:Be(pe())}),jz=rn(be(le({address:Qt,amount:pe(),uiAmount:xe(Q()),decimals:Q(),uiAmountString:Be(pe())}))),Rz=rn(be(le({pubkey:Qt,account:le({executable:$s(),owner:Qt,lamports:Q(),data:n1,rentEpoch:Q()})}))),ov=le({program:pe(),parsed:Mc(),space:Q()}),Oz=rn(be(le({pubkey:Qt,account:le({executable:$s(),owner:Qt,lamports:Q(),data:ov,rentEpoch:Q()})}))),Lz=rn(be(le({lamports:Q(),address:Qt}))),nd=le({executable:$s(),owner:Qt,lamports:Q(),data:n1,rentEpoch:Q()}),Pz=le({pubkey:Qt,account:nd}),Dz=Ad(sr([Zb(Ke.Buffer),ov]),sr([qk,ov]),t=>Array.isArray(t)?ve(t,n1):t),iv=le({executable:$s(),owner:Qt,lamports:Q(),data:Dz,rentEpoch:Q()}),Bz=le({pubkey:Qt,account:iv}),zz=le({state:sr([qt("active"),qt("inactive"),qt("activating"),qt("deactivating")]),active:Q(),inactive:Q()}),$z=tt(be(le({signature:pe(),slot:Q(),err:Pa,memo:xe(pe()),blockTime:Be(xe(Q()))}))),Uz=tt(be(le({signature:pe(),slot:Q(),err:Pa,memo:xe(pe()),blockTime:Be(xe(Q()))}))),Fz=le({subscription:Q(),result:um(nd)}),Wz=le({pubkey:Qt,account:nd}),Vz=le({subscription:Q(),result:um(Wz)}),Hz=le({parent:Q(),slot:Q(),root:Q()}),qz=le({subscription:Q(),result:Hz}),Gz=sr([le({type:sr([qt("firstShredReceived"),qt("completed"),qt("optimisticConfirmation"),qt("root")]),slot:Q(),timestamp:Q()}),le({type:qt("createdBank"),parent:Q(),slot:Q(),timestamp:Q()}),le({type:qt("frozen"),slot:Q(),timestamp:Q(),stats:le({numTransactionEntries:Q(),numSuccessfulTransactions:Q(),numFailedTransactions:Q(),maxTransactionsPerEntry:Q()})}),le({type:qt("dead"),slot:Q(),timestamp:Q(),err:pe()})]),Kz=le({subscription:Q(),result:Gz}),Yz=le({subscription:Q(),result:um(sr([mz,gz]))}),Qz=le({subscription:Q(),result:Q()}),Jz=le({pubkey:pe(),gossip:xe(pe()),tpu:xe(pe()),rpc:xe(pe()),version:xe(pe())}),mE=le({votePubkey:pe(),nodePubkey:pe(),activatedStake:Q(),epochVoteAccount:$s(),epochCredits:be(Xb([Q(),Q(),Q()])),commission:Q(),lastVote:Q(),rootSlot:xe(Q())}),Zz=tt(le({current:be(mE),delinquent:be(mE)})),Xz=sr([qt("processed"),qt("confirmed"),qt("finalized")]),e$=le({slot:Q(),confirmations:xe(Q()),err:Pa,confirmationStatus:Be(Xz)}),t$=rn(be(xe(e$))),n$=tt(Q()),Kk=le({accountKey:Qt,writableIndexes:be(Q()),readonlyIndexes:be(Q())}),r1=le({signatures:be(pe()),message:le({accountKeys:be(pe()),header:le({numRequiredSignatures:Q(),numReadonlySignedAccounts:Q(),numReadonlyUnsignedAccounts:Q()}),instructions:be(le({accounts:be(Q()),data:pe(),programIdIndex:Q()})),recentBlockhash:pe(),addressTableLookups:Be(be(Kk))})}),Yk=le({pubkey:Qt,signer:$s(),writable:$s(),source:Be(sr([qt("transaction"),qt("lookupTable")]))}),Qk=le({accountKeys:be(Yk),signatures:be(pe())}),Jk=le({parsed:Mc(),program:pe(),programId:Qt}),Zk=le({accounts:be(Qt),data:pe(),programId:Qt}),r$=sr([Zk,Jk]),s$=sr([le({parsed:Mc(),program:pe(),programId:pe()}),le({accounts:be(pe()),data:pe(),programId:pe()})]),Xk=Ad(r$,s$,t=>"accounts"in t?ve(t,Zk):ve(t,Jk)),eM=le({signatures:be(pe()),message:le({accountKeys:be(Yk),instructions:be(Xk),recentBlockhash:pe(),addressTableLookups:Be(xe(be(Kk)))})}),op=le({accountIndex:Q(),mint:pe(),owner:Be(pe()),programId:Be(pe()),uiTokenAmount:sv}),tM=le({writable:be(Qt),readonly:be(Qt)}),dm=le({err:Pa,fee:Q(),innerInstructions:Be(xe(be(le({index:Q(),instructions:be(le({accounts:be(Q()),data:pe(),programIdIndex:Q()}))})))),preBalances:be(Q()),postBalances:be(Q()),logMessages:Be(xe(be(pe()))),preTokenBalances:Be(xe(be(op))),postTokenBalances:Be(xe(be(op))),loadedAddresses:Be(tM),computeUnitsConsumed:Be(Q())}),s1=le({err:Pa,fee:Q(),innerInstructions:Be(xe(be(le({index:Q(),instructions:be(Xk)})))),preBalances:be(Q()),postBalances:be(Q()),logMessages:Be(xe(be(pe()))),preTokenBalances:Be(xe(be(op))),postTokenBalances:Be(xe(be(op))),loadedAddresses:Be(tM),computeUnitsConsumed:Be(Q())}),Tc=sr([qt(0),qt("legacy")]),Da=le({pubkey:pe(),lamports:Q(),postBalance:xe(Q()),rewardType:xe(pe()),commission:Be(xe(Q()))}),o$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),transactions:be(le({transaction:r1,meta:xe(dm),version:Be(Tc)})),rewards:Be(be(Da)),blockTime:xe(Q()),blockHeight:xe(Q())}))),i$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),rewards:Be(be(Da)),blockTime:xe(Q()),blockHeight:xe(Q())}))),a$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),transactions:be(le({transaction:Qk,meta:xe(dm),version:Be(Tc)})),rewards:Be(be(Da)),blockTime:xe(Q()),blockHeight:xe(Q())}))),l$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),transactions:be(le({transaction:eM,meta:xe(s1),version:Be(Tc)})),rewards:Be(be(Da)),blockTime:xe(Q()),blockHeight:xe(Q())}))),c$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),transactions:be(le({transaction:Qk,meta:xe(s1),version:Be(Tc)})),rewards:Be(be(Da)),blockTime:xe(Q()),blockHeight:xe(Q())}))),u$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),rewards:Be(be(Da)),blockTime:xe(Q()),blockHeight:xe(Q())}))),d$=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),transactions:be(le({transaction:r1,meta:xe(dm)})),rewards:Be(be(Da)),blockTime:xe(Q())}))),gE=tt(xe(le({blockhash:pe(),previousBlockhash:pe(),parentSlot:Q(),signatures:be(pe()),blockTime:xe(Q())}))),t0=tt(xe(le({slot:Q(),meta:xe(dm),blockTime:Be(xe(Q())),transaction:r1,version:Be(Tc)}))),hf=tt(xe(le({slot:Q(),transaction:eM,meta:xe(s1),blockTime:Be(xe(Q())),version:Be(Tc)}))),f$=rn(le({blockhash:pe(),lastValidBlockHeight:Q()})),h$=rn($s()),p$=le({slot:Q(),numTransactions:Q(),numSlots:Q(),samplePeriodSecs:Q()}),m$=tt(be(p$)),g$=rn(xe(le({feeCalculator:le({lamportsPerSignature:Q()})}))),y$=tt(pe()),v$=tt(pe()),w$=le({err:Pa,logs:be(pe()),signature:pe()}),b$=le({result:um(w$),subscription:Q()}),x$={"solana-client":"js/1.0.0-maintenance"};class S${constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:f,config:h}=Mt(d),p=this._buildArgs([],f,void 0,h),v=uE(p);return c[v]=c[v]??(async()=>{try{const m=await this._rpcRequest("getBlockHeight",p),b=ve(m,tt(Q()));if("error"in b)throw new je(b.error,"failed to get block height information");return b.result}finally{delete c[v]}})(),await c[v]}})();let r,s,o,i,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,o=n.fetch,i=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=iz(e),this._rpcWsEndpoint=r||sz(e),this._rpcClient=xz(e,s,o,i,a,l),this._rpcRequest=Sz(this._rpcClient),this._rpcBatchRequest=Ez(this._rpcClient),this._rpcWebSocket=new ez(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgs([e.toBase58()],r,void 0,s),i=await this._rpcRequest("getBalance",o),a=ve(i,rn(Q()));if("error"in a)throw new je(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=ve(n,tt(xe(Q())));if("error"in r)throw new je(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=ve(e,tt(Q()));if("error"in n)throw new je(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=ve(e,Tz);if("error"in n)throw new je(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=ve(r,Iz);if("error"in s)throw new je(s.error,"failed to get supply");return s.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),o=ve(s,rn(sv));if("error"in o)throw new je(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),o=ve(s,rn(sv));if("error"in o)throw new je(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,n,r){const{commitment:s,config:o}=Mt(r);let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const a=this._buildArgs(i,s,"base64",o),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=ve(l,Rz);if("error"in c)throw new je(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let s=[e.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const o=this._buildArgs(s,r,"jsonParsed"),i=await this._rpcRequest("getTokenAccountsByOwner",o),a=ve(i,Oz);if("error"in a)throw new je(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),o=ve(s,Lz);if("error"in o)throw new je(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),o=ve(s,jz);if("error"in o)throw new je(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgs([e.toBase58()],r,"base64",s),i=await this._rpcRequest("getAccountInfo",o),a=ve(i,rn(xe(nd)));if("error"in a)throw new je(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),i=await this._rpcRequest("getAccountInfo",o),a=ve(i,rn(xe(iv)));if("error"in a)throw new je(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:s}=Mt(n),o=e.map(c=>c.toBase58()),i=this._buildArgs([o],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",i),l=ve(a,rn(be(xe(iv))));if("error"in l)throw new je(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:s}=Mt(n),o=e.map(c=>c.toBase58()),i=this._buildArgs([o],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",i),l=ve(a,rn(be(xe(nd))));if("error"in l)throw new je(l.error,`failed to get info for accounts ${o}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:s,config:o}=Mt(n),i=this._buildArgs([e.toBase58()],s,void 0,{...o,epoch:r??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",i),l=ve(a,tt(zz));if("error"in l)throw new je(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:s}=Mt(n),{encoding:o,...i}=s||{},a=this._buildArgs([e.toBase58()],r,o||"base64",{...i,...i.filters?{filters:hE(i.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=be(Pz),d=i.withContext===!0?ve(l,rn(c)):ve(l,tt(c));if("error"in d)throw new je(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgs([e.toBase58()],r,"jsonParsed",s),i=await this._rpcRequest("getProgramAccounts",o),a=ve(i,tt(be(Bz)));if("error"in a)throw new je(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var o;let r;if(typeof e=="string")r=e;else{const i=e;if((o=i.abortSignal)!=null&&o.aborted)return Promise.reject(i.abortSignal.reason);r=i.signature}let s;try{s=Tn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return zt(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,s,o=!1;const i=new Promise((l,c)=>{try{r=this.onSignature(n,(f,h)=>{r=void 0;const p={context:h,value:f};l({__type:Po.PROCESSED,response:p})},e);const d=new Promise(f=>{r==null?f():s=this._onSubscriptionStateChange(r,h=>{h==="subscribed"&&f()})});(async()=>{if(await d,o)return;const f=await this.getSignatureStatus(n);if(o||f==null)return;const{context:h,value:p}=f;if(p!=null)if(p!=null&&p.err)c(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,l({__type:Po.PROCESSED,response:{context:h,value:p}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:i}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let o=!1;const i=new Promise(f=>{const h=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await h();if(!o){for(;p<=r;)if(await el(1e3),o||(p=await h(),o))return;f({__type:Po.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),c=this.getCancellationPromise(n);let d;try{const f=await Promise.race([c,l,i]);if(f.__type===Po.PROCESSED)d=f.response;else throw new Fk(s)}finally{o=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:o,signature:i}}){let a=!1;const l=new Promise(p=>{let v=o,m=null;const b=async()=>{try{const{context:S,value:x}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return m=S.slot,x==null?void 0:x.nonce}catch{return v}};(async()=>{if(v=await b(),!a)for(;;){if(o!==v){p({__type:Po.NONCE_INVALID,slotInWhichNonceDidAdvance:m});return}if(await el(2e3),a||(v=await b(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(n);let h;try{const p=await Promise.race([f,d,l]);if(p.__type===Po.PROCESSED)h=p.response;else{let v;for(;;){const m=await this.getSignatureStatus(i);if(m==null)break;if(m.context.slot<(p.slotInWhichNonceDidAdvance??r)){await el(400);continue}v=m;break}if(v!=null&&v.value){const m=e||"finalized",{confirmationStatus:b}=v.value;switch(m){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new nu(i);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new nu(i);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new nu(i);break;default:}h={context:v.context,value:{err:v.value.err}}}else throw new nu(i)}}finally{a=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const s=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:Po.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:o,confirmationPromise:i}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([i,s]);if(l.__type===Po.PROCESSED)a=l.response;else throw new Wk(n,l.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=ve(e,tt(be(Jz)));if("error"in n)throw new je(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),s=ve(r,Zz);if("error"in s)throw new je(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:n,config:r}=Mt(e),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",s),i=ve(o,tt(Q()));if("error"in i)throw new je(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:n,config:r}=Mt(e),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",s),i=ve(o,tt(pe()));if("error"in i)throw new je(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,n){const r=[e,n],s=await this._rpcRequest("getSlotLeaders",r),o=ve(s,tt(be(Qt)));if("error"in o)throw new je(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,n){const{context:r,value:s}=await this.getSignatureStatuses([e],n);zt(s.length===1);const o=s[0];return{context:r,value:o}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),o=ve(s,t$);if("error"in o)throw new je(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:n,config:r}=Mt(e),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",s),i=ve(o,tt(Q()));if("error"in i)throw new je(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),s=ve(r,_z);if("error"in s)throw new je(s.error,"failed to get inflation");return s.result}async getInflationReward(e,n,r){const{commitment:s,config:o}=Mt(r),i=this._buildArgs([e.map(c=>c.toBase58())],s,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",i),l=ve(a,cz);if("error"in l)throw new je(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=ve(e,Nz);if("error"in n)throw new je(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=Mt(e),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",s),i=ve(o,Cz);if("error"in i)throw new je(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=ve(e,kz);if("error"in n)throw new je(n.error,"failed to get epoch schedule");const r=n.result;return new ZB(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=ve(e,Mz);if("error"in n)throw new je(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=ve(s,n$);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ve(n,m$);if("error"in r)throw new je(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=ve(s,g$);if("error"in o)throw new je(o.error,"failed to get fee calculator");const{context:i,value:a}=o.result;return{context:i,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=uc(e.serialize()).toString("base64"),s=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",s),i=ve(o,rn(xe(Q())));if("error"in i)throw new je(i.error,"failed to get fee for message");if(i.result===null)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){var i;const n=(i=e==null?void 0:e.lockedWritableAccounts)==null?void 0:i.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),o=ve(s,Az);if("error"in o)throw new je(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=Mt(e),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",s),i=ve(o,f$);if("error"in i)throw new je(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgs([e],r,void 0,s),i=await this._rpcRequest("isBlockhashValid",o),a=ve(i,h$);if("error"in a)throw new je(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=ve(e,tt(yz));if("error"in n)throw new je(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=ve(e,tt(pe()));if("error"in n)throw new je(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),i=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ve(i,a$);if("error"in a)throw a.error;return a.result}case"none":{const a=ve(i,i$);if("error"in a)throw a.error;return a.result}default:{const a=ve(i,o$);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:d,version:f})=>({meta:d,transaction:{...c,message:e0(f,c.message)},version:f}))}:null}}}catch(a){throw new je(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),i=await this._rpcRequest("getBlock",o);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ve(i,c$);if("error"in a)throw a.error;return a.result}case"none":{const a=ve(i,u$);if("error"in a)throw a.error;return a.result}default:{const a=ve(i,l$);if("error"in a)throw a.error;return a.result}}}catch(a){throw new je(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const s=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",s),i=ve(o,bz);if("error"in i)throw new je(i.error,"failed to get block production information");return i.result}async getTransaction(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgsAtLeastConfirmed([e],r,void 0,s),i=await this._rpcRequest("getTransaction",o),a=ve(i,t0);if("error"in a)throw new je(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:e0(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:s}=Mt(n),o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),i=await this._rpcRequest("getTransaction",o),a=ve(i,hf);if("error"in a)throw new je(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:s}=Mt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ve(l,hf);if("error"in c)throw new je(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:s}=Mt(n),o=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,s)}));return(await this._rpcBatchRequest(o)).map(l=>{const c=ve(l,t0);if("error"in c)throw new je(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:e0(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getBlock",r),o=ve(s,d$);if("error"in o)throw new je(o.error,"failed to get confirmed block");const i=o.result;if(!i)throw new Error("Confirmed block "+e+" not found");const a={...i,transactions:i.transactions.map(({transaction:l,meta:c})=>{const d=new So(l.message);return{meta:c,transaction:{...l,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Gr.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),o=await this._rpcRequest("getBlocks",s),i=ve(o,tt(be(Q())));if("error"in i)throw new je(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=ve(s,gE);if("error"in o)throw new je(o.error,"failed to get block");const i=o.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=ve(s,gE);if("error"in o)throw new je(o.error,"failed to get confirmed block");const i=o.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),s=await this._rpcRequest("getTransaction",r),o=ve(s,t0);if("error"in o)throw new je(o.error,"failed to get transaction");const i=o.result;if(!i)return i;const a=new So(i.transaction.message),l=i.transaction.signatures;return{...i,transaction:Gr.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),o=ve(s,hf);if("error"in o)throw new je(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,n){const r=e.map(i=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([i],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(i=>{const a=ve(i,hf);if("error"in a)throw new je(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<o));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(s.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let i=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>i));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(s.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),i=ve(o,$z);if("error"in i)throw new je(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,n,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",s),i=ve(o,Uz);if("error"in i)throw new je(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let o=null;return s!==null&&(o=new fE({key:e,state:fE.deserialize(s.data)})),{context:r,value:o}}async getNonceAndContext(e,n){const{context:r,value:s}=await this.getAccountInfoAndContext(e,n);let o=null;return s!==null&&(o=t1.fromAccountData(s.data)),{context:r,value:o}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),s=ve(r,y$);if("error"in s)throw new je(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await el(100);const r=Date.now()-this._blockhashInfo.lastFetch>=oz;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await el(qB/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=Mt(e),s=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",s),i=ve(o,rn(Q()));if("error"in i)throw new je(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,n,r){if("message"in e){const m=e.serialize(),b=Ke.Buffer.from(m).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const x=[b,S],E=await this._rpcRequest("simulateTransaction",x),A=ve(E,pE);if("error"in A)throw new Error("failed to simulate transaction: "+A.error.message);return A.result}let s;if(e instanceof Gr){let v=e;s=new Gr,s.feePayer=v.feePayer,s.instructions=e.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=Gr.populate(e),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(s.nonceInfo&&o)s.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const m=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=m.lastValidBlockHeight,s.recentBlockhash=m.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const b=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else v=!0}}const i=s._compile(),a=i.serialize(),c=s._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:i.nonProgramIds()).map(m=>m.toBase58());d.accounts={encoding:"base64",addresses:v}}o&&(d.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(d.innerInstructions=n.innerInstructions);const f=[c,d],h=await this._rpcRequest("simulateTransaction",f),p=ve(h,pE);if("error"in p){let v;if("data"in p.error&&(v=p.error.data.logs,v&&Array.isArray(v))){const m=`
    `,b=m+v.join(m);console.error(p.error.message,b)}throw new lE({action:"simulate",signature:"",transactionMessage:p.error.message,logs:v})}return p.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const i=e.serialize();return await this.sendRawTransaction(i,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(e.nonceInfo)e.sign(...s);else{let i=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(i);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))i=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const o=e.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(e,n){const r=uc(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},s=n&&n.skipPreflight,o=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),o&&(r.preflightCommitment=o);const i=[e,r],a=await this._rpcRequest("sendTransaction",i),l=ve(a,v$);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new lE({action:s?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(i=>{try{i(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var o;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(o=this._subscriptionStateChangeCallbacksByHash)[r]||(o[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:i}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(i,o);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:i}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[o])}catch(a){if(a instanceof Error&&console.error(`${i} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=ve(e,Fz);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,s=uE([e.method,n]),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const i=this._subscriptionsByHash[s];zt(i!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),i.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:s,config:o}=Mt(r),i=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=ve(e,Vz);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,s){const{commitment:o,config:i}=Mt(r),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",i||(s?{filters:hE(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=ve(e,b$);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=ve(e,qz);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=ve(e,Kz);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,s){const o=n||this._commitment;if(o||r||s){let i={};r&&(i.encoding=r),o&&(i.commitment=o),s&&(i=Object.assign(i,s)),e.push(i)}return e}_buildArgsAtLeastConfirmed(e,n,r,s){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,s)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=ve(e,Yz);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(i,a)=>{if(i.type==="status"){n(i.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(e,n,r){const{commitment:s,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},i=this._buildArgs([e],s,void 0,o),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=ve(e,Qz);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Ae([Pe("instruction"),dc("recentSlot"),yt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ae([Pe("instruction")])},ExtendLookupTable:{index:2,layout:Ae([Pe("instruction"),dc(),Hn(ot(),ma(Pe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ae([Pe("instruction")])},CloseLookupTable:{index:4,layout:Ae([Pe("instruction")])}});new Le("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Ae([yt("instruction"),Pe("units"),Pe("additionalFee")])},RequestHeapFrame:{index:1,layout:Ae([yt("instruction"),Pe("bytes")])},SetComputeUnitLimit:{index:2,layout:Ae([yt("instruction"),Pe("units")])},SetComputeUnitPrice:{index:3,layout:Ae([yt("instruction"),dc("microLamports")])}});new Le("ComputeBudget111111111111111111111111111111");Ae([yt("numSignatures"),yt("padding"),Wr("signatureOffset"),Wr("signatureInstructionIndex"),Wr("publicKeyOffset"),Wr("publicKeyInstructionIndex"),Wr("messageDataOffset"),Wr("messageDataSize"),Wr("messageInstructionIndex")]);new Le("Ed25519SigVerify111111111111111111111111111");jB.utils.isValidPrivateKey;Ae([yt("numSignatures"),Wr("signatureOffset"),yt("signatureInstructionIndex"),Wr("ethAddressOffset"),yt("ethAddressInstructionIndex"),Wr("messageDataOffset"),Wr("messageDataSize"),yt("messageInstructionIndex"),Pt(20,"ethAddress"),Pt(64,"signature"),yt("recoveryId")]);new Le("KeccakSecp256k11111111111111111111111111111");var nM;new Le("StakeConfig11111111111111111111111111111111");class rM{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}nM=rM;rM.default=new nM(0,0,Le.default);Object.freeze({Initialize:{index:0,layout:Ae([Pe("instruction"),BB(),zB()])},Authorize:{index:1,layout:Ae([Pe("instruction"),ot("newAuthorized"),Pe("stakeAuthorizationType")])},Delegate:{index:2,layout:Ae([Pe("instruction")])},Split:{index:3,layout:Ae([Pe("instruction"),_r("lamports")])},Withdraw:{index:4,layout:Ae([Pe("instruction"),_r("lamports")])},Deactivate:{index:5,layout:Ae([Pe("instruction")])},Merge:{index:7,layout:Ae([Pe("instruction")])},AuthorizeWithSeed:{index:8,layout:Ae([Pe("instruction"),ot("newAuthorized"),Pe("stakeAuthorizationType"),Sl("authoritySeed"),ot("authorityOwner")])}});new Le("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Ae([Pe("instruction"),$B()])},Authorize:{index:1,layout:Ae([Pe("instruction"),ot("newAuthorized"),Pe("voteAuthorizationType")])},Withdraw:{index:3,layout:Ae([Pe("instruction"),_r("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ae([Pe("instruction")])},AuthorizeWithSeed:{index:10,layout:Ae([Pe("instruction"),UB()])}});new Le("Vote111111111111111111111111111111111111111");new Le("Va1idator1nfo111111111111111111111111111111");le({name:pe(),website:Be(pe()),details:Be(pe()),iconUrl:Be(pe()),keybaseUsername:Be(pe())});new Le("Vote111111111111111111111111111111111111111");Ae([ot("nodePubkey"),ot("authorizedWithdrawer"),yt("commission"),An(),Hn(Ae([An("slot"),Pe("confirmationCount")]),ma(Pe(),-8),"votes"),yt("rootSlotValid"),An("rootSlot"),An(),Hn(Ae([An("epoch"),ot("authorizedVoter")]),ma(Pe(),-8),"authorizedVoters"),Ae([Hn(Ae([ot("authorizedPubkey"),An("epochOfLastAuthorizedSwitch"),An("targetEpoch")]),32,"buf"),An("idx"),yt("isEmpty")],"priorVoters"),An(),Hn(Ae([An("epoch"),An("credits"),An("prevCredits")]),ma(Pe(),-8),"epochCredits"),Ae([An("slot"),An("timestamp")],"lastTimestamp")]);const yE={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function E$(t,e){const n="https";if(!t)return yE[n].devnet;const r=yE[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}const sM=g.createContext({});function _$(){return g.useContext(sM)}const N$=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=g.useMemo(()=>new S$(e,n),[e,n]);return H.createElement(sM.Provider,{value:{connection:r}},t)};var oM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,h,p,v){var m=n?n+c:c;if(!this._events[m])return!1;var b=this._events[m],S=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(E=1,x=new Array(S-1);E<S;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var A=b.length,k;for(E=0;E<A;E++)switch(b[E].once&&this.removeListener(c,b[E].fn,void 0,!0),S){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,h);break;default:if(!x)for(k=1,x=new Array(S-1);k<S;k++)x[k-1]=arguments[k];b[E].fn.apply(b[E].context,x)}}return!0},a.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return i(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,p);else{for(var m=0,b=[],S=v.length;m<S;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&b.push(v[m]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&i(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(oM);var A$=oM.exports;const C$=No(A$);class _n extends Error{constructor(e,n){super(e),this.error=n}}class Ca extends _n{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class k$ extends _n{constructor(){super(...arguments),this.name="WalletLoadError"}}class El extends _n{constructor(){super(...arguments),this.name="WalletConfigError"}}class ka extends _n{constructor(){super(...arguments),this.name="WalletConnectionError"}}class o1 extends _n{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class i1 extends _n{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ta extends _n{constructor(){super(...arguments),this.name="WalletAccountError"}}class fc extends _n{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class an extends _n{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class uo extends _n{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class ps extends _n{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class fm extends _n{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class vE extends _n{constructor(){super(...arguments),this.name="WalletSignInError"}}var st;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(st||(st={}));class iM extends C${get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const s=this.publicKey;if(!s)throw new an;return e.feePayer=e.feePayer||s,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function aM(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const o of e)o()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function av(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function fo(t){return"version"in t}class M$ extends iM{async sendTransaction(e,n,r={}){let s=!0;try{if(fo(e)){if(!this.supportedTransactionVersions)throw new uo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new uo(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await n.sendRawTransaction(o,r)}catch(o){throw o instanceof ps?(s=!1,o):new uo(o==null?void 0:o.message,o)}}else try{const{signers:o,...i}=r;e=await this.prepareTransaction(e,n,i),o!=null&&o.length&&e.partialSign(...o),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,i)}catch(o){throw o instanceof ps?(s=!1,o):new uo(o==null?void 0:o.message,o)}}catch(o){throw s&&this.emit("error",o),o}}async signAllTransactions(e){for(const r of e)if(fo(r)){if(!this.supportedTransactionVersions)throw new ps("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ps(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class a1 extends M${}class T$ extends a1{}const tr="solana:signAndSendTransaction",ga="solana:signIn",io="solana:signMessage",Vt="solana:signTransaction",hm="standard:connect",ip="standard:disconnect",pm="standard:events";function I$(t){return hm in t.features&&pm in t.features&&(tr in t.features||Vt in t.features)}var lv;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(lv||(lv={}));class wE extends _n{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const j$=[],mm={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){rs("call","select")},connect(){return Promise.reject(rs("call","connect"))},disconnect(){return Promise.reject(rs("call","disconnect"))},sendTransaction(){return Promise.reject(rs("call","sendTransaction"))},signTransaction(){return Promise.reject(rs("call","signTransaction"))},signAllTransactions(){return Promise.reject(rs("call","signAllTransactions"))},signMessage(){return Promise.reject(rs("call","signMessage"))},signIn(){return Promise.reject(rs("call","signIn"))}};Object.defineProperty(mm,"wallets",{get(){return rs("read","wallets"),j$}});Object.defineProperty(mm,"wallet",{get(){return rs("read","wallet"),null}});Object.defineProperty(mm,"publicKey",{get(){return rs("read","publicKey"),null}});function rs(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const lM=g.createContext(mm);function Li(){return g.useContext(lM)}function R$(t,e){const n=g.useState(()=>{try{const o=localStorage.getItem(t);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),r=n[0],s=g.useRef(!0);return g.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(o){typeof window<"u"&&console.error(o)}},[r,t]),n}var O$=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},cM={},Br={};let l1;const L$=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Br.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Br.getSymbolTotalCodewords=function(e){return L$[e]};Br.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Br.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');l1=e};Br.isKanjiModeEnabled=function(){return typeof l1<"u"};Br.toSJIS=function(e){return l1(e)};var gm={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(gm);function uM(){this.buffer=[],this.length=0}uM.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var P$=uM;function Cd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Cd.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Cd.prototype.get=function(t,e){return this.data[t*this.size+e]};Cd.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Cd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var D$=Cd,dM={};(function(t){const e=Br.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,o=e(r),i=o===145?26:Math.ceil((o-13)/(2*s-2))*2,a=[o-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-i;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],o=t.getRowColCoords(r),i=o.length;for(let a=0;a<i;a++)for(let l=0;l<i;l++)a===0&&l===0||a===0&&l===i-1||a===i-1&&l===0||s.push([o[a],o[l]]);return s}})(dM);var fM={};const B$=Br.getSymbolSize,bE=7;fM.getPositions=function(e){const n=B$(e);return[[0,0],[n-bE,0],[0,n-bE]]};var hM={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const o=s.size;let i=0,a=0,l=0,c=null,d=null;for(let f=0;f<o;f++){a=l=0,c=d=null;for(let h=0;h<o;h++){let p=s.get(f,h);p===c?a++:(a>=5&&(i+=e.N1+(a-5)),c=p,a=1),p=s.get(h,f),p===d?l++:(l>=5&&(i+=e.N1+(l-5)),d=p,l=1)}a>=5&&(i+=e.N1+(a-5)),l>=5&&(i+=e.N1+(l-5))}return i},t.getPenaltyN2=function(s){const o=s.size;let i=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(c===4||c===0)&&i++}return i*e.N2},t.getPenaltyN3=function(s){const o=s.size;let i=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|s.get(c,d),d>=10&&(a===1488||a===93)&&i++,l=l<<1&2047|s.get(d,c),d>=10&&(l===1488||l===93)&&i++}return i*e.N3},t.getPenaltyN4=function(s){let o=0;const i=s.data.length;for(let l=0;l<i;l++)o+=s.data[l];return Math.abs(Math.ceil(o*100/i/5)-10)*e.N4};function n(r,s,o){switch(r){case t.Patterns.PATTERN000:return(s+o)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(s+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return s*o%2+s*o%3===0;case t.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case t.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,o){const i=o.size;for(let a=0;a<i;a++)for(let l=0;l<i;l++)o.isReserved(l,a)||o.xor(l,a,n(s,l,a))},t.getBestMask=function(s,o){const i=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<i;c++){o(c),t.applyMask(c,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(c,s),d<l&&(l=d,a=c)}return a}})(hM);var ym={};const li=gm,pf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ym.getBlocksCount=function(e,n){switch(n){case li.L:return pf[(e-1)*4+0];case li.M:return pf[(e-1)*4+1];case li.Q:return pf[(e-1)*4+2];case li.H:return pf[(e-1)*4+3];default:return}};ym.getTotalCodewordsCount=function(e,n){switch(n){case li.L:return mf[(e-1)*4+0];case li.M:return mf[(e-1)*4+1];case li.Q:return mf[(e-1)*4+2];case li.H:return mf[(e-1)*4+3];default:return}};var pM={},vm={};const Eu=new Uint8Array(512),ap=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Eu[n]=e,ap[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Eu[n]=Eu[n-255]})();vm.log=function(e){if(e<1)throw new Error("log("+e+")");return ap[e]};vm.exp=function(e){return Eu[e]};vm.mul=function(e,n){return e===0||n===0?0:Eu[ap[e]+ap[n]]};(function(t){const e=vm;t.mul=function(r,s){const o=new Uint8Array(r.length+s.length-1);for(let i=0;i<r.length;i++)for(let a=0;a<s.length;a++)o[i+a]^=e.mul(r[i],s[a]);return o},t.mod=function(r,s){let o=new Uint8Array(r);for(;o.length-s.length>=0;){const i=o[0];for(let l=0;l<s.length;l++)o[l]^=e.mul(s[l],i);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let o=0;o<r;o++)s=t.mul(s,new Uint8Array([1,e.exp(o)]));return s}})(pM);const mM=pM;function c1(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}c1.prototype.initialize=function(e){this.degree=e,this.genPoly=mM.generateECPolynomial(this.degree)};c1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=mM.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const o=new Uint8Array(this.degree);return o.set(r,s),o}return r};var z$=c1,gM={},Pi={},u1={};u1.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var qs={};const yM="[0-9]+",$$="[A-Z $%*+\\-./:]+";let rd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";rd=rd.replace(/u/g,"\\u");const U$="(?:(?![A-Z0-9 $%*+\\-./:]|"+rd+`)(?:.|[\r
]))+`;qs.KANJI=new RegExp(rd,"g");qs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qs.BYTE=new RegExp(U$,"g");qs.NUMERIC=new RegExp(yM,"g");qs.ALPHANUMERIC=new RegExp($$,"g");const F$=new RegExp("^"+rd+"$"),W$=new RegExp("^"+yM+"$"),V$=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qs.testKanji=function(e){return F$.test(e)};qs.testNumeric=function(e){return W$.test(e)};qs.testAlphanumeric=function(e){return V$.test(e)};(function(t){const e=u1,n=qs;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,i){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?o.ccBits[0]:i<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(o,i){if(t.isValid(o))return o;try{return r(o)}catch{return i}}})(Pi);(function(t){const e=Br,n=ym,r=gm,s=Pi,o=u1,i=7973,a=e.getBCHDigit(i);function l(h,p,v){for(let m=1;m<=40;m++)if(p<=t.getCapacity(m,v,h))return m}function c(h,p){return s.getCharCountIndicator(h,p)+4}function d(h,p){let v=0;return h.forEach(function(m){const b=c(m.mode,p);v+=b+m.getBitsLength()}),v}function f(h,p){for(let v=1;v<=40;v++)if(d(h,v)<=t.getCapacity(v,p,s.MIXED))return v}t.from=function(p,v){return o.isValid(p)?parseInt(p,10):v},t.getCapacity=function(p,v,m){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=s.BYTE);const b=e.getSymbolTotalCodewords(p),S=n.getTotalCodewordsCount(p,v),x=(b-S)*8;if(m===s.MIXED)return x;const E=x-c(m,p);switch(m){case s.NUMERIC:return Math.floor(E/10*3);case s.ALPHANUMERIC:return Math.floor(E/11*2);case s.KANJI:return Math.floor(E/13);case s.BYTE:default:return Math.floor(E/8)}},t.getBestVersionForData=function(p,v){let m;const b=r.from(v,r.M);if(Array.isArray(p)){if(p.length>1)return f(p,b);if(p.length===0)return 1;m=p[0]}else m=p;return l(m.mode,m.getLength(),b)},t.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let v=p<<12;for(;e.getBCHDigit(v)-a>=0;)v^=i<<e.getBCHDigit(v)-a;return p<<12|v}})(gM);var vM={};const cv=Br,wM=1335,H$=21522,xE=cv.getBCHDigit(wM);vM.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;cv.getBCHDigit(s)-xE>=0;)s^=wM<<cv.getBCHDigit(s)-xE;return(r<<10|s)^H$};var bM={};const q$=Pi;function hc(t){this.mode=q$.NUMERIC,this.data=t.toString()}hc.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};hc.prototype.getLength=function(){return this.data.length};hc.prototype.getBitsLength=function(){return hc.getBitsLength(this.data.length)};hc.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,o*3+1))};var G$=hc;const K$=Pi,n0=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function pc(t){this.mode=K$.ALPHANUMERIC,this.data=t}pc.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};pc.prototype.getLength=function(){return this.data.length};pc.prototype.getBitsLength=function(){return pc.getBitsLength(this.data.length)};pc.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=n0.indexOf(this.data[n])*45;r+=n0.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(n0.indexOf(this.data[n]),6)};var Y$=pc;const Q$=Pi;function mc(t){this.mode=Q$.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}mc.getBitsLength=function(e){return e*8};mc.prototype.getLength=function(){return this.data.length};mc.prototype.getBitsLength=function(){return mc.getBitsLength(this.data.length)};mc.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var J$=mc;const Z$=Pi,X$=Br;function gc(t){this.mode=Z$.KANJI,this.data=t}gc.getBitsLength=function(e){return e*13};gc.prototype.getLength=function(){return this.data.length};gc.prototype.getBitsLength=function(){return gc.getBitsLength(this.data.length)};gc.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=X$.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var eU=gc,xM={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var o={},i={};i[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,d,f,h,p,v,m,b;!a.empty();){l=a.pop(),c=l.value,f=l.cost,h=n[c]||{};for(d in h)h.hasOwnProperty(d)&&(p=h[d],v=f+p,m=i[d],b=typeof i[d]>"u",(b||m>v)&&(i[d]=v,a.push(d,v),o[d]=c))}if(typeof s<"u"&&typeof i[s]>"u"){var S=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(S)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],o=r;o;)s.push(o),n[o],o=n[o];return s.reverse(),s},find_path:function(n,r,s){var o=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(xM);var tU=xM.exports;(function(t){const e=Pi,n=G$,r=Y$,s=J$,o=eU,i=qs,a=Br,l=tU;function c(S){return unescape(encodeURIComponent(S)).length}function d(S,x,E){const A=[];let k;for(;(k=S.exec(E))!==null;)A.push({data:k[0],index:k.index,mode:x,length:k[0].length});return A}function f(S){const x=d(i.NUMERIC,e.NUMERIC,S),E=d(i.ALPHANUMERIC,e.ALPHANUMERIC,S);let A,k;return a.isKanjiModeEnabled()?(A=d(i.BYTE,e.BYTE,S),k=d(i.KANJI,e.KANJI,S)):(A=d(i.BYTE_KANJI,e.BYTE,S),k=[]),x.concat(E,A,k).sort(function(z,U){return z.index-U.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function h(S,x){switch(x){case e.NUMERIC:return n.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return o.getBitsLength(S);case e.BYTE:return s.getBitsLength(S)}}function p(S){return S.reduce(function(x,E){const A=x.length-1>=0?x[x.length-1]:null;return A&&A.mode===E.mode?(x[x.length-1].data+=E.data,x):(x.push(E),x)},[])}function v(S){const x=[];for(let E=0;E<S.length;E++){const A=S[E];switch(A.mode){case e.NUMERIC:x.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:x.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:x.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:x.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return x}function m(S,x){const E={},A={start:{}};let k=["start"];for(let B=0;B<S.length;B++){const z=S[B],U=[];for(let K=0;K<z.length;K++){const V=z[K],q=""+B+K;U.push(q),E[q]={node:V,lastCount:0},A[q]={};for(let J=0;J<k.length;J++){const D=k[J];E[D]&&E[D].node.mode===V.mode?(A[D][q]=h(E[D].lastCount+V.length,V.mode)-h(E[D].lastCount,V.mode),E[D].lastCount+=V.length):(E[D]&&(E[D].lastCount=V.length),A[D][q]=h(V.length,V.mode)+4+e.getCharCountIndicator(V.mode,x))}}k=U}for(let B=0;B<k.length;B++)A[k[B]].end=0;return{map:A,table:E}}function b(S,x){let E;const A=e.getBestModeForData(S);if(E=e.from(x,A),E!==e.BYTE&&E.bit<A.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(A));switch(E===e.KANJI&&!a.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new n(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new o(S);case e.BYTE:return new s(S)}}t.fromArray=function(x){return x.reduce(function(E,A){return typeof A=="string"?E.push(b(A,null)):A.data&&E.push(b(A.data,A.mode)),E},[])},t.fromString=function(x,E){const A=f(x,a.isKanjiModeEnabled()),k=v(A),B=m(k,E),z=l.find_path(B.map,"start","end"),U=[];for(let K=1;K<z.length-1;K++)U.push(B.table[z[K]].node);return t.fromArray(p(U))},t.rawSplit=function(x){return t.fromArray(f(x,a.isKanjiModeEnabled()))}})(bM);const wm=Br,r0=gm,nU=P$,rU=D$,sU=dM,oU=fM,uv=hM,dv=ym,iU=z$,lp=gM,aU=vM,lU=Pi,s0=bM;function cU(t,e){const n=t.size,r=oU.getPositions(e);for(let s=0;s<r.length;s++){const o=r[s][0],i=r[s][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)i+l<=-1||n<=i+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,i+l,!0,!0):t.set(o+a,i+l,!1,!0))}}function uU(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function dU(t,e){const n=sU.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],o=n[r][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?t.set(s+i,o+a,!0,!0):t.set(s+i,o+a,!1,!0)}}function fU(t,e){const n=t.size,r=lp.getEncodedBits(e);let s,o,i;for(let a=0;a<18;a++)s=Math.floor(a/3),o=a%3+n-8-3,i=(r>>a&1)===1,t.set(s,o,i,!0),t.set(o,s,i,!0)}function o0(t,e,n){const r=t.size,s=aU.getEncodedBits(e,n);let o,i;for(o=0;o<15;o++)i=(s>>o&1)===1,o<6?t.set(o,8,i,!0):o<8?t.set(o+1,8,i,!0):t.set(r-15+o,8,i,!0),o<8?t.set(8,r-o-1,i,!0):o<9?t.set(8,15-o-1+1,i,!0):t.set(8,15-o-1,i,!0);t.set(r-8,8,1,!0)}function hU(t,e){const n=t.size;let r=-1,s=n-1,o=7,i=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let c=!1;i<e.length&&(c=(e[i]>>>o&1)===1),t.set(s,a-l,c),o--,o===-1&&(i++,o=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function pU(t,e,n){const r=new nU;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),lU.getCharCountIndicator(l.mode,t)),l.write(r)});const s=wm.getSymbolTotalCodewords(t),o=dv.getTotalCodewordsCount(t,e),i=(s-o)*8;for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(i-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return mU(r,t,e)}function mU(t,e,n){const r=wm.getSymbolTotalCodewords(e),s=dv.getTotalCodewordsCount(e,n),o=r-s,i=dv.getBlocksCount(e,n),a=r%i,l=i-a,c=Math.floor(r/i),d=Math.floor(o/i),f=d+1,h=c-d,p=new iU(h);let v=0;const m=new Array(i),b=new Array(i);let S=0;const x=new Uint8Array(t.buffer);for(let z=0;z<i;z++){const U=z<l?d:f;m[z]=x.slice(v,v+U),b[z]=p.encode(m[z]),v+=U,S=Math.max(S,U)}const E=new Uint8Array(r);let A=0,k,B;for(k=0;k<S;k++)for(B=0;B<i;B++)k<m[B].length&&(E[A++]=m[B][k]);for(k=0;k<h;k++)for(B=0;B<i;B++)E[A++]=b[B][k];return E}function gU(t,e,n,r){let s;if(Array.isArray(t))s=s0.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const d=s0.rawSplit(t);c=lp.getBestVersionForData(d,n)}s=s0.fromString(t,c||40)}else throw new Error("Invalid data");const o=lp.getBestVersionForData(s,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const i=pU(e,n,s),a=wm.getSymbolSize(e),l=new rU(a);return cU(l,e),uU(l),dU(l,e),o0(l,n,0),e>=7&&fU(l,e),hU(l,i),isNaN(r)&&(r=uv.getBestMask(l,o0.bind(null,l,n))),uv.applyMask(r,l),o0(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}cM.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=r0.M,s,o;return typeof n<"u"&&(r=r0.from(n.errorCorrectionLevel,r0.M),s=lp.from(n.version),o=uv.from(n.maskPattern),n.toSJISFunc&&wm.setToSJISFunction(n.toSJISFunc)),gU(e,s,r,o)};var SM={},d1={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,i=r.scale||4;return{width:o,scale:o?4:i,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const o=t.getScale(r,s);return Math.floor((r+s.margin*2)*o)},t.qrToImageData=function(r,s,o){const i=s.modules.size,a=s.modules.data,l=t.getScale(i,o),c=Math.floor((i+o.margin*2)*l),d=o.margin*l,f=[o.color.light,o.color.dark];for(let h=0;h<c;h++)for(let p=0;p<c;p++){let v=(h*c+p)*4,m=o.color.light;if(h>=d&&p>=d&&h<c-d&&p<c-d){const b=Math.floor((h-d)/l),S=Math.floor((p-d)/l);m=f[a[b*i+S]?1:0]}r[v++]=m.r,r[v++]=m.g,r[v++]=m.b,r[v]=m.a}}})(d1);(function(t){const e=d1;function n(s,o,i){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=i,o.width=i,o.style.height=i+"px",o.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,i,a){let l=a,c=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(c=r()),l=e.getOptions(l);const d=e.getImageWidth(o.modules.size,l),f=c.getContext("2d"),h=f.createImageData(d,d);return e.qrToImageData(h.data,o,l),n(f,c,d),f.putImageData(h,0,0),c},t.renderToDataURL=function(o,i,a){let l=a;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const c=t.render(o,i,l),d=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(d,f.quality)}})(SM);var EM={};const yU=d1;function SE(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function i0(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function vU(t,e,n){let r="",s=0,o=!1,i=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(i++,a>0&&l>0&&t[a-1]||(r+=o?i0("M",l+n,.5+c+n):i0("m",s,0),s=0,o=!1),l+1<e&&t[a+1]||(r+=i0("h",i),i=0)):s++}return r}EM.render=function(e,n,r){const s=yU.getOptions(n),o=e.modules.size,i=e.modules.data,a=o+s.margin*2,l=s.color.light.a?"<path "+SE(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+SE(s.color.dark,"stroke")+' d="'+vU(i,o,s.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const wU=O$,fv=cM,_M=SM,bU=EM;function f1(t,e,n,r,s){const o=[].slice.call(arguments,1),i=o.length,a=typeof o[i-1]=="function";if(!a&&!wU())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(s=n,n=e,e=r=void 0):i===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(n=e,e=r=void 0):i===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const d=fv.create(n,r);l(t(d,e,r))}catch(d){c(d)}})}try{const l=fv.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}fv.create;f1.bind(null,_M.render);f1.bind(null,_M.renderToDataURL);f1.bind(null,function(t,e,n){return bU.render(t,n)});const sd="solana:mainnet",NM="solana:devnet",AM="solana:testnet",xU="solana:localnet";function a0(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const SU="https://api.mainnet-beta.solana.com";function EU(t){return t.includes(SU)?sd:/\bdevnet\b/i.test(t)?NM:/\btestnet\b/i.test(t)?AM:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?xU:sd}function _U(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const r of t.resources)n.push(`- ${r}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}const Eo={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"};class _o extends Error{constructor(...e){const[n,r,s]=e;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class CM extends Error{constructor(...e){const[n,r,s,o]=e;super(s),this.code=r,this.data=o,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function fn(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function NU(t){return window.btoa(t)}function l0(t,e){return fn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function AU(t){return _U(t)}function CU(t){return NU(AU(t))}const kU="solana:signTransactions",EE="solana:cloneAuthorization";function MU(t,e){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return fn(this,void 0,void 0,function*(){const{method:o,params:i}=TU(r,s,t),a=yield e(o,i);return o==="authorize"&&i.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield jU(i.sign_in_payload,a,e)),IU(r,a,t)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function TU(t,e,n){let r=e,s=t.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:o}=r;if(n==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=r.cluster}r.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}r.chain=o}}case"reauthorize":{const{auth_token:o,identity:i}=r;if(o)switch(n){case"legacy":{s="reauthorize",r={auth_token:o,identity:i};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function IU(t,e,n){switch(t){case"getCapabilities":{const r=e;switch(n){case"legacy":{const s=[kU];return r.supports_clone_authorization===!0&&s.push(EE),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(EE)})}}}return e}function jU(t,e,n){var r;return fn(this,void 0,void 0,function*(){const s=(r=t.domain)!==null&&r!==void 0?r:window.location.host,o=e.accounts[0].address,i=CU(Object.assign(Object.assign({},t),{domain:s,address:o})),a=yield n("sign_messages",{addresses:[o],payloads:[i]});return{address:o,signed_message:i,signature:a.signed_payloads[0].slice(i.length)}})}const na=4;function RU(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(na);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}const hv=12,kM=65;function OU(t,e,n){return fn(this,void 0,void 0,function*(){const r=RU(e),s=new Uint8Array(hv);crypto.getRandomValues(s);const o=yield crypto.subtle.encrypt(TM(r,s),n,new TextEncoder().encode(t)),i=new Uint8Array(r.byteLength+s.byteLength+o.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(s),r.byteLength),i.set(new Uint8Array(o),r.byteLength+s.byteLength),i})}function MM(t,e){return fn(this,void 0,void 0,function*(){const n=t.slice(0,na),r=t.slice(na,na+hv),s=t.slice(na+hv),o=yield crypto.subtle.decrypt(TM(n,r),e,s);return LU().decode(o)})}function TM(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let c0;function LU(){return c0===void 0&&(c0=new TextDecoder("utf-8")),c0}function PU(){return fn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function u0(){return fn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function DU(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let s=0;s<r;s++)e+=String.fromCharCode(n[s]);return window.btoa(e)}function BU(){return IM(49152+Math.floor(Math.random()*16384))}function IM(t){if(t<49152||t>65535)throw new _o(Eo.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function zU(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const $U="solana-wallet";function _E(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function UU(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new _o(Eo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${$U}:/`));const r=t.startsWith("/")?t:[..._E(n.pathname),..._E(t)].join("/");return new URL(r,n)}function FU(t,e,n,r=["v1"]){return fn(this,void 0,void 0,function*(){const s=IM(e),o=yield crypto.subtle.exportKey("raw",t),i=DU(o),a=UU("v1/associate/local",n);return a.searchParams.set("association",zU(i)),a.searchParams.set("port",`${s}`),r.forEach(l=>{a.searchParams.set("v",l)}),a})}function WU(t,e){return fn(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=t.id;return OU(n,r,e)})}function VU(t,e){return fn(this,void 0,void 0,function*(){const n=yield MM(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new CM(r.id,r.error.code,r.error.message);return r})}function HU(t,e,n){return fn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,kM),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),i=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},i,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function qU(t,e){return fn(this,void 0,void 0,function*(){const n=yield MM(t,e),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new _o(Eo.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const cp={Firefox:0,Other:1};function GU(){return navigator.userAgent.indexOf("Firefox/")!==-1?cp.Firefox:cp.Other}function KU(){return new Promise((t,e)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),e()},3e3)})}let Kc=null;function YU(t){Kc==null&&(Kc=document.createElement("iframe"),Kc.style.display="none",document.body.appendChild(Kc)),Kc.contentWindow.location.href=t.toString()}function QU(t){return fn(this,void 0,void 0,function*(){if(t.protocol==="https:")window.location.assign(t);else try{const e=GU();switch(e){case cp.Firefox:YU(t);break;case cp.Other:{const n=KU();window.location.assign(t),yield n;break}default:}}catch{throw new _o(Eo.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function JU(t,e){return fn(this,void 0,void 0,function*(){const n=BU(),r=yield FU(t,n,e);return yield QU(r),n})}const NE={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},ZU="com.solana.mobilewalletadapter.v1";function XU(){if(typeof window>"u"||window.isSecureContext!==!0)throw new _o(Eo.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function eF(t){let e;try{e=new URL(t)}catch{throw new _o(Eo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new _o(Eo.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function AE(t){return new DataView(t).getUint32(0,!1)}function tF(t,e){return fn(this,void 0,void 0,function*(){XU();const n=yield PU(),s=`ws://localhost:${yield JU(n.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let o;const i=(()=>{const d=[...NE.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,l=0,c={__type:"disconnected"};return new Promise((d,f)=>{let h;const p={},v=()=>fn(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}h.removeEventListener("open",v);const{associationKeypair:k}=c,B=yield u0();h.send(yield l0(B.publicKey,k.privateKey)),c={__type:"hello_req_sent",associationPublicKey:k.publicKey,ecdhPrivateKey:B.privateKey}}),m=k=>{k.wasClean?c={__type:"disconnected"}:f(new _o(Eo.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${k.code}: ${k.reason}).`,{closeEvent:k})),x()},b=k=>fn(this,void 0,void 0,function*(){x(),Date.now()-o>=NE.timeoutMs?f(new _o(Eo.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise(B=>{const z=i();E=window.setTimeout(B,z)}),A())}),S=k=>fn(this,void 0,void 0,function*(){const B=yield k.data.arrayBuffer();switch(c.__type){case"connecting":if(B.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const z=yield u0();h.send(yield l0(z.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:z.privateKey};break;case"connected":try{const U=B.slice(0,na),K=AE(U);if(K!==l+1)throw new Error("Encrypted message has invalid sequence number");l=K;const V=yield VU(B,c.sharedSecret),q=p[V.id];delete p[V.id],q.resolve(V.result)}catch(U){if(U instanceof CM){const K=p[U.jsonRpcMessageId];delete p[U.jsonRpcMessageId],K.reject(U)}else throw U}break;case"hello_req_sent":{if(B.byteLength===0){const J=yield u0();h.send(yield l0(J.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:J.privateKey};break}const U=yield HU(B,c.associationPublicKey,c.ecdhPrivateKey),K=B.slice(kM),V=K.byteLength!==0?yield fn(this,void 0,void 0,function*(){const J=K.slice(0,na),D=AE(J);if(D!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=D,qU(K,U)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:U,sessionProperties:V};const q=MU(V.protocol_version,(J,D)=>fn(this,void 0,void 0,function*(){const y=a++;return h.send(yield WU({id:y,jsonrpc:"2.0",method:J,params:D??{}},U)),new Promise((_,T)=>{p[y]={resolve(R){switch(J){case"authorize":case"reauthorize":{const{wallet_uri_base:M}=R;if(M!=null)try{eF(M)}catch(j){T(j);return}break}}_(R)},reject:T}})}));try{d(yield t(q))}catch(J){f(J)}finally{x(),h.close()}break}}});let x,E;const A=()=>{x&&x(),c={__type:"connecting",associationKeypair:n},o===void 0&&(o=Date.now()),h=new WebSocket(s,[ZU]),h.addEventListener("open",v),h.addEventListener("close",m),h.addEventListener("error",b),h.addEventListener("message",S),x=()=>{window.clearTimeout(E),h.removeEventListener("open",v),h.removeEventListener("close",m),h.removeEventListener("error",b),h.removeEventListener("message",S)}};A()})})}function nF(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var i=t.length,a=t.charAt(0),l=Math.log(i)/Math.log(256),c=Math.log(256)/Math.log(i);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var v=0,m=0,b=0,S=p.length;b!==S&&p[b]===0;)b++,v++;for(var x=(S-b)*c+1>>>0,E=new Uint8Array(x);b!==S;){for(var A=p[b],k=0,B=x-1;(A!==0||k<m)&&B!==-1;B--,k++)A+=256*E[B]>>>0,E[B]=A%i>>>0,A=A/i>>>0;if(A!==0)throw new Error("Non-zero carry");m=k,b++}for(var z=x-m;z!==x&&E[z]===0;)z++;for(var U=a.repeat(v);z<x;++z)U+=t.charAt(E[z]);return U}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var v=0,m=0,b=0;p[v]===a;)m++,v++;for(var S=(p.length-v)*l+1>>>0,x=new Uint8Array(S);p[v];){var E=p.charCodeAt(v);if(E>255)return;var A=e[E];if(A===255)return;for(var k=0,B=S-1;(A!==0||k<b)&&B!==-1;B--,k++)A+=i*x[B]>>>0,x[B]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=k,v++}for(var z=S-b;z!==S&&x[z]===0;)z++;for(var U=new Uint8Array(m+(S-z)),K=m;z!==S;)U[K++]=x[z++];return U}function h(p){var v=f(p);if(v)return v;throw new Error("Non-base"+i+" character")}return{encode:d,decodeUnsafe:f,decode:h}}var rF=nF;const sF=rF,oF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var iF=sF(oF);const aF=No(iF);function d0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Vf(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function jM(t){return window.btoa(String.fromCharCode.call(null,...t))}function f0(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function CE(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return jM(e)}function lF(t){const n=t[0]*ed+1;return cm.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?Gr.from(t):Ti.deserialize(t)}function cF(t,e){return Vf(this,void 0,void 0,function*(){return yield tF(r=>t(uF(r)),e)})}function uF(t){return new Proxy({},{get(e,n){if(e[n]==null)switch(n){case"signAndSendTransactions":e[n]=function(r){var{minContextSlot:s,commitment:o,skipPreflight:i,maxRetries:a,waitForCommitmentToSendNextTransaction:l,transactions:c}=r,d=d0(r,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Vf(this,void 0,void 0,function*(){const f=c.map(CE),h={min_context_slot:s,commitment:o,skip_preflight:i,max_retries:a,wait_for_commitment_to_send_next_transaction:l},{signatures:p}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),Object.values(h).some(m=>m!=null)?{options:h}:null),{payloads:f}));return p.map(f0).map(aF.encode)})};break;case"signMessages":e[n]=function(r){var{payloads:s}=r,o=d0(r,["payloads"]);return Vf(this,void 0,void 0,function*(){const i=s.map(jM),{signed_payloads:a}=yield t.signMessages(Object.assign(Object.assign({},o),{payloads:i}));return a.map(f0)})};break;case"signTransactions":e[n]=function(r){var{transactions:s}=r,o=d0(r,["transactions"]);return Vf(this,void 0,void 0,function*(){const i=s.map(CE),{signed_payloads:a}=yield t.signTransactions(Object.assign(Object.assign({},o),{payloads:i}));return a.map(f0).map(lF)})};break;default:{e[n]=t[n];break}}return e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function dF(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var s=t.charAt(r),o=s.charCodeAt(0);if(e[o]!==255)throw new TypeError(s+" is ambiguous");e[o]=r}var i=t.length,a=t.charAt(0),l=Math.log(i)/Math.log(256),c=Math.log(256)/Math.log(i);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var v=0,m=0,b=0,S=p.length;b!==S&&p[b]===0;)b++,v++;for(var x=(S-b)*c+1>>>0,E=new Uint8Array(x);b!==S;){for(var A=p[b],k=0,B=x-1;(A!==0||k<m)&&B!==-1;B--,k++)A+=256*E[B]>>>0,E[B]=A%i>>>0,A=A/i>>>0;if(A!==0)throw new Error("Non-zero carry");m=k,b++}for(var z=x-m;z!==x&&E[z]===0;)z++;for(var U=a.repeat(v);z<x;++z)U+=t.charAt(E[z]);return U}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var v=0,m=0,b=0;p[v]===a;)m++,v++;for(var S=(p.length-v)*l+1>>>0,x=new Uint8Array(S);p[v];){var E=p.charCodeAt(v);if(E>255)return;var A=e[E];if(A===255)return;for(var k=0,B=S-1;(A!==0||k<b)&&B!==-1;B--,k++)A+=i*x[B]>>>0,x[B]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=k,v++}for(var z=S-b;z!==S&&x[z]===0;)z++;for(var U=new Uint8Array(m+(S-z)),K=m;z!==S;)U[K++]=x[z++];return U}function h(p){var v=f(p);if(v)return v;throw new Error("Non-base"+i+" character")}return{encode:d,decodeUnsafe:f,decode:h}}var fF=dF;const hF=fF,pF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var mF=hF(pF);const kE=No(mF);function Bt(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function ce(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function un(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ru,mn,Vi,tl,RM,OM,LM,Hf;const gF=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,yF=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,vF=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class wF{constructor(){ru.add(this),mn.set(this,null),Vi.set(this,{}),tl.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),ce(this,ru,"m",OM).call(this),ce(this,mn,"f")&&(ce(this,mn,"f").style.display="flex")},this.close=(e=void 0)=>{var n;console.debug("Modal close"),ce(this,ru,"m",LM).call(this),ce(this,mn,"f")&&(ce(this,mn,"f").style.display="none"),(n=ce(this,Vi,"f").close)===null||n===void 0||n.forEach(r=>r(e))},Hf.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),un(this,mn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Bt(this,void 0,void 0,function*(){console.log("Injecting modal"),ce(this,ru,"m",RM).call(this)})}addEventListener(e,n){var r;return!((r=ce(this,Vi,"f")[e])===null||r===void 0)&&r.push(n)||(ce(this,Vi,"f")[e]=[n]),()=>this.removeEventListener(e,n)}removeEventListener(e,n){var r;ce(this,Vi,"f")[e]=(r=ce(this,Vi,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)}}mn=new WeakMap,Vi=new WeakMap,tl=new WeakMap,Hf=new WeakMap,ru=new WeakSet,RM=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){ce(this,mn,"f")||un(this,mn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}un(this,mn,document.createElement("div")),ce(this,mn,"f").id="mobile-wallet-adapter-embedded-root-ui",ce(this,mn,"f").innerHTML=gF,ce(this,mn,"f").style.display="none";const e=ce(this,mn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=yF+this.contentStyles;const r=document.createElement("div");r.innerHTML=vF,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(ce(this,mn,"f")),document.body.appendChild(r)},OM=function(){if(!ce(this,mn,"f")||ce(this,tl,"f"))return;[...ce(this,mn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",ce(this,Hf,"f")),un(this,tl,!0)},LM=function(){if(!ce(this,tl,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",ce(this,Hf,"f")),!ce(this,mn,"f")))return;[...ce(this,mn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),un(this,tl,!1)};const bF="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function xF(t){return"version"in t}function SF(t){return window.btoa(String.fromCharCode.call(null,...t))}function gf(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}var nl,ra,pv,mv,gv,yv,su,Jn,Js,Bo,rl,sl,qf,ou,Gf,vv,Kf,PM,wv,Yf,ol,bv,iu,Qf,il,au,Jf,xv,Sv,Zf,Ev,_v,Nv,Xf;const EF="Mobile Wallet Adapter",_F=64,NF=[tr,Vt,io,ga];class AF{constructor(e){nl.add(this),ra.set(this,{}),pv.set(this,"1.0.0"),mv.set(this,EF),gv.set(this,"https://solanamobile.com/wallets"),yv.set(this,bF),su.set(this,void 0),Jn.set(this,void 0),Js.set(this,void 0),Bo.set(this,!1),rl.set(this,0),sl.set(this,[]),qf.set(this,void 0),ou.set(this,void 0),Gf.set(this,void 0),vv.set(this,(n,r)=>{var s;return!((s=ce(this,ra,"f")[n])===null||s===void 0)&&s.push(r)||(ce(this,ra,"f")[n]=[r]),()=>ce(this,nl,"m",PM).call(this,n,r)}),wv.set(this,({silent:n}={})=>Bt(this,void 0,void 0,function*(){if(ce(this,Bo,"f")||this.connected)return{accounts:this.accounts};un(this,Bo,!0);try{if(n){const r=yield ce(this,Js,"f").get();if(r)yield ce(this,ol,"f").call(this,r);else return{accounts:this.accounts}}else yield ce(this,Yf,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{un(this,Bo,!1)}return{accounts:this.accounts}})),Yf.set(this,n=>Bt(this,void 0,void 0,function*(){try{const r=yield ce(this,Js,"f").get();if(r)return ce(this,ol,"f").call(this,r),r;const s=yield ce(this,qf,"f").select(ce(this,sl,"f"));return yield ce(this,il,"f").call(this,o=>Bt(this,void 0,void 0,function*(){const[i,a]=yield Promise.all([o.getCapabilities(),o.authorize({chain:s,identity:ce(this,su,"f"),sign_in_payload:n})]),l=ce(this,Jf,"f").call(this,a.accounts),c=Object.assign(Object.assign({},a),{accounts:l,chain:s});return Promise.all([ce(this,bv,"f").call(this,i),ce(this,Js,"f").set(c),ce(this,ol,"f").call(this,c)]),c}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),ol.set(this,n=>Bt(this,void 0,void 0,function*(){var r;const s=ce(this,Jn,"f")==null||((r=ce(this,Jn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||ce(this,Jn,"f").accounts.some((o,i)=>o.address!==n.accounts[i].address);un(this,Jn,n),s&&ce(this,nl,"m",Kf).call(this,"change",{accounts:this.accounts})})),bv.set(this,n=>Bt(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,o=tr in this.features!==s||Vt in this.features!==r;un(this,ou,Object.assign(Object.assign({},(s||!s&&!r)&&{[tr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ce(this,Zf,"f")}}),r&&{[Vt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ce(this,Ev,"f")}})),o&&ce(this,nl,"m",Kf).call(this,"change",{features:this.features})})),iu.set(this,(n,r,s)=>Bt(this,void 0,void 0,function*(){try{const o=yield n.authorize({auth_token:r,identity:ce(this,su,"f"),chain:s}),i=ce(this,Jf,"f").call(this,o.accounts),a=Object.assign(Object.assign({},o),{accounts:i,chain:s});Promise.all([ce(this,Js,"f").set(a),ce(this,ol,"f").call(this,a)])}catch(o){throw ce(this,Qf,"f").call(this),new Error(o instanceof Error&&o.message||"Unknown error")}})),Qf.set(this,()=>Bt(this,void 0,void 0,function*(){var n;ce(this,Js,"f").clear(),un(this,Bo,!1),un(this,rl,(n=ce(this,rl,"f"),n++,n)),un(this,Jn,void 0),ce(this,nl,"m",Kf).call(this,"change",{accounts:this.accounts})})),il.set(this,n=>Bt(this,void 0,void 0,function*(){var r;const s=(r=ce(this,Jn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,o=s?{baseUri:s}:void 0,i=ce(this,rl,"f");try{return yield cF(n,o)}catch(a){throw ce(this,rl,"f")!==i&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield ce(this,Gf,"f").call(this,this)),a}})),au.set(this,()=>{if(!ce(this,Jn,"f"))throw new Error("Wallet not connected");return{authToken:ce(this,Jn,"f").auth_token,chain:ce(this,Jn,"f").chain}}),Jf.set(this,n=>n.map(r=>{var s,o;const i=gf(r.address);return{address:kE.encode(i),publicKey:i,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:ce(this,sl,"f"),features:(o=r.features)!==null&&o!==void 0?o:NF}})),xv.set(this,n=>Bt(this,void 0,void 0,function*(){const{authToken:r,chain:s}=ce(this,au,"f").call(this);try{return yield ce(this,il,"f").call(this,o=>Bt(this,void 0,void 0,function*(){return yield ce(this,iu,"f").call(this,o,r,s),yield o.signTransactions({transactions:n})}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Sv.set(this,(n,r)=>Bt(this,void 0,void 0,function*(){const{authToken:s,chain:o}=ce(this,au,"f").call(this);try{return yield ce(this,il,"f").call(this,i=>Bt(this,void 0,void 0,function*(){const[a,l]=yield Promise.all([i.getCapabilities(),ce(this,iu,"f").call(this,i,s,o)]);if(a.supports_sign_and_send_transactions)return(yield i.signAndSendTransactions(Object.assign(Object.assign({},r),{transactions:[n]})))[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Zf.set(this,(...n)=>Bt(this,void 0,void 0,function*(){const r=[];for(const s of n){const o=Ti.deserialize(s.transaction),i=yield ce(this,Sv,"f").call(this,o,s.options);r.push({signature:kE.decode(i)})}return r})),Ev.set(this,(...n)=>Bt(this,void 0,void 0,function*(){const r=n.map(({transaction:o})=>Ti.deserialize(o));return(yield ce(this,xv,"f").call(this,r)).map(o=>({signedTransaction:xF(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))})),_v.set(this,(...n)=>Bt(this,void 0,void 0,function*(){const{authToken:r,chain:s}=ce(this,au,"f").call(this),o=n.map(({account:a})=>SF(a.publicKey)),i=n.map(({message:a})=>a);try{return yield ce(this,il,"f").call(this,a=>Bt(this,void 0,void 0,function*(){return yield ce(this,iu,"f").call(this,a,r,s),(yield a.signMessages({addresses:o,payloads:i})).map(c=>({signedMessage:c,signature:c.slice(-_F)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Nv.set(this,(...n)=>Bt(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield ce(this,Xf,"f").call(this,s));else return[yield ce(this,Xf,"f").call(this,n[0])];return r})),Xf.set(this,n=>Bt(this,void 0,void 0,function*(){var r,s;un(this,Bo,!0);try{const o=yield ce(this,Yf,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(s=o.accounts.find(l=>l.address==i))!==null&&s!==void 0?s:{address:i}),{publicKey:gf(i)}),signedMessage:gf(o.sign_in_result.signed_message),signature:gf(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{un(this,Bo,!1)}})),un(this,Js,e.authorizationCache),un(this,su,e.appIdentity),un(this,sl,e.chains),un(this,qf,e.chainSelector),un(this,Gf,e.onWalletNotFound),un(this,ou,{[tr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ce(this,Zf,"f")}})}get version(){return ce(this,pv,"f")}get name(){return ce(this,mv,"f")}get url(){return ce(this,gv,"f")}get icon(){return ce(this,yv,"f")}get chains(){return ce(this,sl,"f")}get features(){return Object.assign({[hm]:{version:"1.0.0",connect:ce(this,wv,"f")},[ip]:{version:"1.0.0",disconnect:ce(this,Qf,"f")},[pm]:{version:"1.0.0",on:ce(this,vv,"f")},[io]:{version:"1.0.0",signMessage:ce(this,_v,"f")},[ga]:{version:"1.0.0",signIn:ce(this,Nv,"f")}},ce(this,ou,"f"))}get accounts(){var e,n;return(n=(e=ce(this,Jn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!ce(this,Jn,"f")}get isAuthorized(){return!!ce(this,Jn,"f")}get currentAuthorization(){return ce(this,Jn,"f")}get cachedAuthorizationResult(){return ce(this,Js,"f").get()}}ra=new WeakMap,pv=new WeakMap,mv=new WeakMap,gv=new WeakMap,yv=new WeakMap,su=new WeakMap,Jn=new WeakMap,Js=new WeakMap,Bo=new WeakMap,rl=new WeakMap,sl=new WeakMap,qf=new WeakMap,ou=new WeakMap,Gf=new WeakMap,vv=new WeakMap,wv=new WeakMap,Yf=new WeakMap,ol=new WeakMap,bv=new WeakMap,iu=new WeakMap,Qf=new WeakMap,il=new WeakMap,au=new WeakMap,Jf=new WeakMap,xv=new WeakMap,Sv=new WeakMap,Zf=new WeakMap,Ev=new WeakMap,_v=new WeakMap,Nv=new WeakMap,Xf=new WeakMap,nl=new WeakSet,Kf=function(e,...n){var r;(r=ce(this,ra,"f")[e])===null||r===void 0||r.forEach(s=>s.apply(null,n))},PM=function(e,n){var r;ce(this,ra,"f")[e]=(r=ce(this,ra,"f")[e])===null||r===void 0?void 0:r.filter(s=>n!==s)};const CF="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",kF="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class MF extends wF{constructor(){super(...arguments),this.contentStyles=IF,this.contentHtml=TF}initWithError(e){super.init(),this.populateError(e)}populateError(e){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),o=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=CF,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=kF,o&&(o.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const TF=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,IF=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function jF(){return Bt(this,void 0,void 0,function*(){if(typeof window<"u"){const t=window.navigator.userAgent.toLowerCase(),e=new MF;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const h0="SolanaMobileWalletAdapterDefaultAuthorizationCache";function RF(){let t;try{t=window.localStorage}catch{}return{clear(){return Bt(this,void 0,void 0,function*(){if(t)try{t.removeItem(h0)}catch{}})},get(){return Bt(this,void 0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(h0));if(e&&e.accounts){const n=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):new Le(r.address).toBytes()}));return Object.assign(Object.assign({},e),{accounts:n})}else return e||void 0}catch{}})},set(e){return Bt(this,void 0,void 0,function*(){if(t)try{t.setItem(h0,JSON.stringify(e))}catch{}})}}}function OF(){return{select(t){return Bt(this,void 0,void 0,function*(){return t.length===1?t[0]:t.includes(sd)?sd:t[0]})}}}function It(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,[])).next())})}function De(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function wr(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const Av="standard:connect",LF="standard:disconnect",PF="standard:events";function p0(t){return window.btoa(String.fromCharCode.call(null,...t))}function DF(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var wn,Wt,Qo,ao,eh,no,Hi,Cv,kv,DM,up,th,Ho;const nh="Mobile Wallet Adapter",BF=64;function zF(t){return"version"in t}function BM(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class $F extends T${constructor(e,n){super(),wn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Wt.set(this,void 0),Qo.set(this,!1),ao.set(this,DF()?st.Loadable:st.Unsupported),eh.set(this,void 0),no.set(this,void 0),Hi.set(this,void 0),Cv.set(this,r=>It(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){De(this,wn,"m",DM).call(this);const s=yield De(this,eh,"f").call(this,r.accounts);s!==De(this,no,"f")&&(wr(this,no,s),wr(this,Hi,void 0),this.emit("connect",this.publicKey))}})),wr(this,eh,r=>It(this,void 0,void 0,function*(){var s;const o=yield n.addressSelector.select(r.map(({publicKey:i})=>p0(i)));return(s=r.find(({publicKey:i})=>p0(i)===o))!==null&&s!==void 0?s:r[0]})),wr(this,Wt,e),De(this,Wt,"f").features[PF].on("change",De(this,Cv,"f")),this.name=De(this,Wt,"f").name,this.icon=De(this,Wt,"f").icon,this.url=De(this,Wt,"f").url}get publicKey(){var e;if(!De(this,Hi,"f")&&De(this,no,"f"))try{wr(this,Hi,new Le(De(this,no,"f").publicKey),"f")}catch(n){throw new fc(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(e=De(this,Hi,"f"))!==null&&e!==void 0?e:null}get connected(){return De(this,Wt,"f").connected}get connecting(){return De(this,Qo,"f")}get readyState(){return De(this,ao,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return It(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return It(this,void 0,void 0,function*(){De(this,wn,"m",kv).call(this,!0)})}connect(){return It(this,void 0,void 0,function*(){De(this,wn,"m",kv).call(this)})}performAuthorization(e){return It(this,void 0,void 0,function*(){try{const n=yield De(this,Wt,"f").cachedAuthorizationResult;return n?(yield De(this,Wt,"f").features[Av].connect({silent:!0}),n):(e?yield De(this,Wt,"f").features[ga].signIn(e):yield De(this,Wt,"f").features[Av].connect(),yield yield De(this,Wt,"f").cachedAuthorizationResult)}catch(n){throw new ka(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return It(this,void 0,void 0,function*(){return yield De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){wr(this,Qo,!1),wr(this,Hi,void 0),wr(this,no,void 0),yield De(this,Wt,"f").features[LF].disconnect(),this.emit("disconnect")}))})}signIn(e){return It(this,void 0,void 0,function*(){return De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){var n;if(De(this,ao,"f")!==st.Installed&&De(this,ao,"f")!==st.Loadable)throw new Ca;wr(this,Qo,!0);try{const r=yield De(this,Wt,"f").features[ga].signIn(Object.assign(Object.assign({},e),{domain:(n=e==null?void 0:e.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new ka(r instanceof Error&&r.message||"Unknown error",r)}finally{wr(this,Qo,!1)}}))})}signMessage(e){return It(this,void 0,void 0,function*(){return yield De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){const n=De(this,wn,"m",up).call(this);try{return(yield De(this,Wt,"f").features[io].signMessage({account:n,message:e}))[0].signature}catch(r){throw new fm(r==null?void 0:r.message,r)}}))})}sendTransaction(e,n,r){return It(this,void 0,void 0,function*(){return yield De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){const s=De(this,wn,"m",up).call(this);try{let o=function(){let i;switch(n.commitment){case"confirmed":case"finalized":case"processed":i=n.commitment;break;default:i="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=i;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(i==="finalized"?2:i==="confirmed"?1:0)?a:i};if(tr in De(this,Wt,"f").features){const i=BM(De(this,Wt,"f").currentAuthorization.chain),[a]=(yield De(this,Wt,"f").features[tr].signAndSendTransaction({account:s,transaction:e.serialize(),chain:i,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(l=>p0(l.signature));return a}else{const[i]=yield De(this,wn,"m",th).call(this,[e]);if(zF(i))return yield n.sendTransaction(i);{const a=i.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}catch(o){throw new uo(o==null?void 0:o.message,o)}}))})}signTransaction(e){return It(this,void 0,void 0,function*(){return yield De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){const[n]=yield De(this,wn,"m",th).call(this,[e]);return n}))})}signAllTransactions(e){return It(this,void 0,void 0,function*(){return yield De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){return yield De(this,wn,"m",th).call(this,e)}))})}}Wt=new WeakMap,Qo=new WeakMap,ao=new WeakMap,eh=new WeakMap,no=new WeakMap,Hi=new WeakMap,Cv=new WeakMap,wn=new WeakSet,kv=function(e=!1){return It(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield De(this,wn,"m",Ho).call(this,()=>It(this,void 0,void 0,function*(){if(De(this,ao,"f")!==st.Installed&&De(this,ao,"f")!==st.Loadable)throw new Ca;wr(this,Qo,!0);try{yield De(this,Wt,"f").features[Av].connect({silent:e})}catch(n){throw new ka(n instanceof Error&&n.message||"Unknown error",n)}finally{wr(this,Qo,!1)}}))})},DM=function(){De(this,ao,"f")!==st.Installed&&this.emit("readyStateChange",wr(this,ao,st.Installed))},up=function(){if(!De(this,Wt,"f").isAuthorized||!De(this,no,"f"))throw new an;return De(this,no,"f")},th=function(e){return It(this,void 0,void 0,function*(){const n=De(this,wn,"m",up).call(this);try{if(Vt in De(this,Wt,"f").features)return De(this,Wt,"f").features[Vt].signTransaction(...e.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const o=s.signedTransaction,a=o[0]*BF+1;return cm.deserializeMessageVersion(o.slice(a,o.length))==="legacy"?Gr.from(o):Ti.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new ps(r==null?void 0:r.message,r)}})},Ho=function(e){return It(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})};class UF extends $F{constructor(e){var n;const r=BM((n=e.chain)!==null&&n!==void 0?n:e.cluster);super(new AF({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>It(this,void 0,void 0,function*(){const s=yield e.authorizationResultCache.get();return s&&"chain"in s?s:s?Object.assign(Object.assign({},s),{chain:r}):void 0}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:OF(),onWalletNotFound:()=>It(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class FF extends UF{}function WF(){return{select(t){return It(this,void 0,void 0,function*(){return t[0]})}}}function VF(){return RF()}function HF(t){return It(this,void 0,void 0,function*(){return jF()})}function qF(){return HF}var GF=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},KF=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},rh;function YF(t){const e=({register:n})=>n(t);try{window.dispatchEvent(new QF(e))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>e(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class QF extends Event{get detail(){return GF(this,rh,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),rh.set(this,void 0),KF(this,rh,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}rh=new WeakMap;function JF(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ZF(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const d=t.charAt(c),f=d.charCodeAt(0);if(e[f]!==255)throw new TypeError(d+" is ambiguous");e[f]=c}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function i(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let d=0,f=0,h=0;const p=c.length;for(;h!==p&&c[h]===0;)h++,d++;const v=(p-h)*o+1>>>0,m=new Uint8Array(v);for(;h!==p;){let x=c[h],E=0;for(let A=v-1;(x!==0||E<f)&&A!==-1;A--,E++)x+=256*m[A]>>>0,m[A]=x%n>>>0,x=x/n>>>0;if(x!==0)throw new Error("Non-zero carry");f=E,h++}let b=v-f;for(;b!==v&&m[b]===0;)b++;let S=r.repeat(d);for(;b<v;++b)S+=t.charAt(m[b]);return S}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let d=0,f=0,h=0;for(;c[d]===r;)f++,d++;const p=(c.length-d)*s+1>>>0,v=new Uint8Array(p);for(;d<c.length;){const x=c.charCodeAt(d);if(x>255)return;let E=e[x];if(E===255)return;let A=0;for(let k=p-1;(E!==0||A<h)&&k!==-1;k--,A++)E+=n*v[k]>>>0,v[k]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");h=A,d++}let m=p-h;for(;m!==p&&v[m]===0;)m++;const b=new Uint8Array(f+(p-m));let S=f;for(;m!==p;)b[S++]=v[m++];return b}function l(c){const d=a(c);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:i,decodeUnsafe:a,decode:l}}var XF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const e7=ZF(XF);var Me=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},dn=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},kn,lr,sa,oa,qi,lu,dp,pt,fp,Mv,sh,Tv,_u,Iv,ME,TE,IE,jE;class t7 extends iM{get name(){return Me(this,pt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Me(this,pt,"f").icon}get readyState(){return Me(this,fp,"f")}get publicKey(){return Me(this,sa,"f")}get connecting(){return Me(this,oa,"f")}get supportedTransactionVersions(){return Me(this,dp,"f")}get wallet(){return Me(this,pt,"f")}get standard(){return!0}constructor({wallet:e}){super(),kn.add(this),lr.set(this,void 0),sa.set(this,void 0),oa.set(this,void 0),qi.set(this,void 0),lu.set(this,void 0),dp.set(this,void 0),pt.set(this,void 0),fp.set(this,typeof window>"u"||typeof document>"u"?st.Unsupported:st.Installed),Iv.set(this,n=>{if("accounts"in n){const r=Me(this,pt,"f").accounts[0];Me(this,lr,"f")&&!Me(this,qi,"f")&&r!==Me(this,lr,"f")&&(r?Me(this,kn,"m",sh).call(this,r):(this.emit("error",new o1),Me(this,kn,"m",Tv).call(this)))}"features"in n&&Me(this,kn,"m",_u).call(this)}),dn(this,pt,e,"f"),dn(this,lr,null,"f"),dn(this,sa,null,"f"),dn(this,oa,!1,"f"),dn(this,qi,!1,"f"),dn(this,lu,Me(this,pt,"f").features[pm].on("change",Me(this,Iv,"f")),"f"),Me(this,kn,"m",_u).call(this)}destroy(){dn(this,lr,null,"f"),dn(this,sa,null,"f"),dn(this,oa,!1,"f"),dn(this,qi,!1,"f");const e=Me(this,lu,"f");e&&(dn(this,lu,null,"f"),e())}async autoConnect(){return Me(this,kn,"m",Mv).call(this,{silent:!0})}async connect(){return Me(this,kn,"m",Mv).call(this)}async disconnect(){if(ip in Me(this,pt,"f").features)try{dn(this,qi,!0,"f"),await Me(this,pt,"f").features[ip].disconnect()}catch(e){this.emit("error",new i1(e==null?void 0:e.message,e))}finally{dn(this,qi,!1,"f")}Me(this,kn,"m",Tv).call(this)}async sendTransaction(e,n,r={}){try{const s=Me(this,lr,"f");if(!s)throw new an;let o;if(tr in Me(this,pt,"f").features)if(s.features.includes(tr))o=tr;else if(Vt in Me(this,pt,"f").features&&s.features.includes(Vt))o=Vt;else throw new ta;else if(Vt in Me(this,pt,"f").features){if(!s.features.includes(Vt))throw new ta;o=Vt}else throw new El;const i=EU(n.rpcEndpoint);if(!s.chains.includes(i))throw new uo;try{const{signers:a,...l}=r;let c;if(fo(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,l),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===tr){const[d]=await Me(this,pt,"f").features[tr].signAndSendTransaction({account:s,chain:i,transaction:c,options:{preflightCommitment:a0(l.preflightCommitment||n.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return e7.encode(d.signature)}else{const[d]=await Me(this,pt,"f").features[Vt].signTransaction({account:s,chain:i,transaction:c,options:{preflightCommitment:a0(l.preflightCommitment||n.commitment),minContextSlot:l.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...l,preflightCommitment:a0(l.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof _n?a:new uo(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}lr=new WeakMap,sa=new WeakMap,oa=new WeakMap,qi=new WeakMap,lu=new WeakMap,dp=new WeakMap,pt=new WeakMap,fp=new WeakMap,Iv=new WeakMap,kn=new WeakSet,Mv=async function(e){try{if(this.connected||this.connecting)return;if(Me(this,fp,"f")!==st.Installed)throw new Ca;if(dn(this,oa,!0,"f"),!Me(this,pt,"f").accounts.length)try{await Me(this,pt,"f").features[hm].connect(e)}catch(r){throw new ka(r==null?void 0:r.message,r)}const n=Me(this,pt,"f").accounts[0];if(!n)throw new ta;Me(this,kn,"m",sh).call(this,n)}catch(n){throw this.emit("error",n),n}finally{dn(this,oa,!1,"f")}},sh=function(e){let n;try{n=new Le(e.address)}catch(r){throw new fc(r==null?void 0:r.message,r)}dn(this,lr,e,"f"),dn(this,sa,n,"f"),Me(this,kn,"m",_u).call(this),this.emit("connect",n)},Tv=function(){dn(this,lr,null,"f"),dn(this,sa,null,"f"),Me(this,kn,"m",_u).call(this),this.emit("disconnect")},_u=function(){var n,r;const e=tr in Me(this,pt,"f").features?Me(this,pt,"f").features[tr].supportedTransactionVersions:Me(this,pt,"f").features[Vt].supportedTransactionVersions;dn(this,dp,JF(e,["legacy"])?null:new Set(e),"f"),Vt in Me(this,pt,"f").features&&((n=Me(this,lr,"f"))!=null&&n.features.includes(Vt))?(this.signTransaction=Me(this,kn,"m",ME),this.signAllTransactions=Me(this,kn,"m",TE)):(delete this.signTransaction,delete this.signAllTransactions),io in Me(this,pt,"f").features&&((r=Me(this,lr,"f"))!=null&&r.features.includes(io))?this.signMessage=Me(this,kn,"m",IE):delete this.signMessage,ga in Me(this,pt,"f").features?this.signIn=Me(this,kn,"m",jE):delete this.signIn},ME=async function(e){try{const n=Me(this,lr,"f");if(!n)throw new an;if(!(Vt in Me(this,pt,"f").features))throw new El;if(!n.features.includes(Vt))throw new ta;try{const s=(await Me(this,pt,"f").features[Vt].signTransaction({account:n,transaction:fo(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return fo(e)?Ti.deserialize(s):Gr.from(s)}catch(r){throw r instanceof _n?r:new ps(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},TE=async function(e){try{const n=Me(this,lr,"f");if(!n)throw new an;if(!(Vt in Me(this,pt,"f").features))throw new El;if(!n.features.includes(Vt))throw new ta;try{const r=await Me(this,pt,"f").features[Vt].signTransaction(...e.map(s=>({account:n,transaction:fo(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((s,o)=>{const i=r[o].signedTransaction;return fo(s)?Ti.deserialize(i):Gr.from(i)})}catch(r){throw new ps(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},IE=async function(e){try{const n=Me(this,lr,"f");if(!n)throw new an;if(!(io in Me(this,pt,"f").features))throw new El;if(!n.features.includes(io))throw new ta;try{return(await Me(this,pt,"f").features[io].signMessage({account:n,message:e}))[0].signature}catch(r){throw new fm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},jE=async function(e={}){try{if(!(ga in Me(this,pt,"f").features))throw new El;let n;try{[n]=await Me(this,pt,"f").features[ga].signIn(e)}catch(r){throw new vE(r==null?void 0:r.message,r)}if(!n)throw new vE;return Me(this,kn,"m",sh).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const n7=I$;var r7=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},s7=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},oh;let Er;const bm=new Set;function o7(t){Nu=void 0,bm.add(t)}function i7(t){Nu=void 0,bm.delete(t)}const _l={};function a7(){if(Er||(Er=Object.freeze({register:RE,get:l7,on:c7}),typeof window>"u"))return Er;const t=Object.freeze({register:RE});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new u7(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Er}function RE(...t){var e;return t=t.filter(n=>!bm.has(n)),t.length?(t.forEach(n=>o7(n)),(e=_l.register)==null||e.forEach(n=>jv(()=>n(...t))),function(){var r;t.forEach(s=>i7(s)),(r=_l.unregister)==null||r.forEach(s=>jv(()=>s(...t)))}):()=>{}}let Nu;function l7(){return Nu||(Nu=[...bm]),Nu}function c7(t,e){var n;return(n=_l[t])!=null&&n.push(e)||(_l[t]=[e]),function(){var s;_l[t]=(s=_l[t])==null?void 0:s.filter(o=>e!==o)}}function jv(t){try{t()}catch(e){console.error(e)}}class u7 extends Event{get detail(){return r7(this,oh,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),oh.set(this,void 0),s7(this,oh,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}oh=new WeakMap;function d7(){if(Er||(Er=a7(),typeof window>"u"))return Er;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Er;const{register:e}=Er,n=(...r)=>r.forEach(s=>jv(()=>s({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Er}return n(...t),Er}function f7(t){const e=OE(()=>new Set),{get:n,on:r}=OE(()=>d7()),[s,o]=g.useState(()=>LE(n()));g.useEffect(()=>{const a=[r("register",(...l)=>o(c=>[...c,...LE(l)])),r("unregister",(...l)=>o(c=>c.filter(d=>l.some(f=>f===d.wallet))))];return()=>a.forEach(l=>l())},[r]);const i=h7(s);return g.useEffect(()=>{if(!i)return;const a=new Set(s);new Set(i.filter(c=>!a.has(c))).forEach(c=>c.destroy())},[i,s]),g.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),g.useMemo(()=>[...s,...t.filter(({name:a})=>s.some(l=>l.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,t,e])}function OE(t){const e=g.useRef(void 0);return e.current===void 0&&(e.current={value:t()}),e.current.value}function h7(t){const e=g.useRef(void 0);return g.useEffect(()=>{e.current=t}),e.current}function LE(t){return t.filter(n7).map(e=>new t7({wallet:e}))}var Dl;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(Dl||(Dl={}));function p7(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function m7({adapters:t,userAgentString:e}){return t.some(n=>n.name!==nh&&n.readyState===st.Installed)?Dl.DESKTOP_WEB:e&&/android/i.test(e)&&!p7(e)?Dl.MOBILE_WEB:Dl.DESKTOP_WEB}function g7(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function y7({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:o,onError:i,onSelectWallet:a}){const l=g.useRef(!1),[c,d]=g.useState(!1),f=g.useRef(!1),[h,p]=g.useState(!1),[v,m]=g.useState(()=>(n==null?void 0:n.publicKey)??null),[b,S]=g.useState(()=>(n==null?void 0:n.connected)??!1),x=g.useRef(i);g.useEffect(()=>(x.current=i,()=>{x.current=void 0}),[i]);const E=g.useRef((_,T)=>(r.current||(x.current?x.current(_,T):(console.error(_,T),_ instanceof Ca&&typeof window<"u"&&T&&window.open(T.url,"_blank"))),_)),[A,k]=g.useState(()=>e.map(_=>({adapter:_,readyState:_.readyState})).filter(({readyState:_})=>_!==st.Unsupported));g.useEffect(()=>{k(T=>e.map((R,M)=>{const j=T[M];return j&&j.adapter===R&&j.readyState===R.readyState?j:{adapter:R,readyState:R.readyState}}).filter(({readyState:R})=>R!==st.Unsupported));function _(T){k(R=>{const M=R.findIndex(({adapter:P})=>P===this);if(M===-1)return R;const{adapter:j}=R[M];return[...R.slice(0,M),{adapter:j,readyState:T},...R.slice(M+1)].filter(({readyState:P})=>P!==st.Unsupported)})}return e.forEach(T=>T.on("readyStateChange",_,T)),()=>{e.forEach(T=>T.off("readyStateChange",_,T))}},[n,e]);const B=g.useMemo(()=>A.find(_=>_.adapter===n)??null,[n,A]);g.useEffect(()=>{if(!n)return;const _=M=>{m(M),l.current=!1,d(!1),S(!0),f.current=!1,p(!1)},T=()=>{r.current||(m(null),l.current=!1,d(!1),S(!1),f.current=!1,p(!1))},R=M=>{E.current(M,n)};return n.on("connect",_),n.on("disconnect",T),n.on("error",R),()=>{n.off("connect",_),n.off("disconnect",T),n.off("error",R),T()}},[n,r]);const z=g.useRef(!1);g.useEffect(()=>()=>{z.current=!1},[n]),g.useEffect(()=>{z.current||l.current||b||!s||!((B==null?void 0:B.readyState)===st.Installed||(B==null?void 0:B.readyState)===st.Loadable)||(l.current=!0,d(!0),z.current=!0,async function(){try{await s()}catch{o()}finally{d(!1),l.current=!1}}())},[b,s,o,B]);const U=g.useCallback(async(_,T,R)=>{if(!n)throw E.current(new wE);if(!b)throw E.current(new an,n);return await n.sendTransaction(_,T,R)},[n,b]),K=g.useMemo(()=>n&&"signTransaction"in n?async _=>{if(!b)throw E.current(new an,n);return await n.signTransaction(_)}:void 0,[n,b]),V=g.useMemo(()=>n&&"signAllTransactions"in n?async _=>{if(!b)throw E.current(new an,n);return await n.signAllTransactions(_)}:void 0,[n,b]),q=g.useMemo(()=>n&&"signMessage"in n?async _=>{if(!b)throw E.current(new an,n);return await n.signMessage(_)}:void 0,[n,b]),J=g.useMemo(()=>n&&"signIn"in n?async _=>await n.signIn(_):void 0,[n]),D=g.useCallback(async()=>{if(l.current||f.current||B!=null&&B.adapter.connected)return;if(!B)throw E.current(new wE);const{adapter:_,readyState:T}=B;if(!(T===st.Installed||T===st.Loadable))throw E.current(new Ca,_);l.current=!0,d(!0);try{await _.connect()}catch(R){throw o(),R}finally{d(!1),l.current=!1}},[o,B]),y=g.useCallback(async()=>{if(!f.current&&n){f.current=!0,p(!0);try{await n.disconnect()}finally{p(!1),f.current=!1}}},[n]);return H.createElement(lM.Provider,{value:{autoConnect:!!s,wallets:A,wallet:B,publicKey:v,connected:b,connecting:c,disconnecting:h,select:a,connect:D,disconnect:y,sendTransaction:U,signTransaction:K,signAllTransactions:V,signMessage:q,signIn:J}},t)}let m0;function v7(){var t;return m0===void 0&&(m0=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),m0}function PE(t){const e=v7();return m7({adapters:t,userAgentString:e})===Dl.MOBILE_WEB}function w7(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function b7({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:o}=_$(),i=f7(e),a=g.useMemo(()=>{if(!PE(i))return null;const x=i.find(E=>E.name===nh);return x||new FF({addressSelector:WF(),appIdentity:{uri:w7()},authorizationResultCache:VF(),cluster:g7(o==null?void 0:o.rpcEndpoint),onWalletNotFound:qF()})},[i,o==null?void 0:o.rpcEndpoint]),l=g.useMemo(()=>a==null||i.indexOf(a)!==-1?i:[a,...i],[i,a]),[c,d]=R$(r,null),f=g.useMemo(()=>l.find(x=>x.name===c)??null,[l,c]),h=g.useCallback(x=>{c!==x&&(f&&f.name!==nh&&f.disconnect(),d(x))},[f,d,c]);g.useEffect(()=>{if(!f)return;function x(){m.current||d(null)}return f.on("disconnect",x),()=>{f.off("disconnect",x)}},[f,i,d,c]);const p=g.useRef(!1),v=g.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(p.current?await f.connect():await f.autoConnect())}},[n,f]),m=g.useRef(!1);g.useEffect(()=>{if(c===nh&&PE(i)){m.current=!1;return}function x(){m.current=!0}return window.addEventListener("beforeunload",x),()=>{window.removeEventListener("beforeunload",x)}},[i,c]);const b=g.useCallback(()=>{f&&h(null)},[f,h]),S=g.useCallback(x=>{p.current=!0,h(x)},[h]);return H.createElement(y7,{wallets:l,adapter:f,isUnloadingRef:m,onAutoConnectRequest:v,onConnectError:b,onError:s,onSelectWallet:S},t)}const x7="modulepreload",S7=function(t){return"/"+t},DE={},Ii=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=S7(l),l in DE)return;DE[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":x7,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},E7=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Ic);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class h1 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _7 extends h1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class N7 extends h1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class A7 extends h1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rv||(Rv={}));var C7=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class k7{constructor(e,{headers:n={},customFetch:r,region:s=Rv.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=E7(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return C7(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new _7(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new N7(d);if(!d.ok)throw new A7(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var ur={},p1={},xm={},kd={},Sm={},Em={},M7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yc=M7();const T7=yc.fetch,zM=yc.fetch.bind(yc),$M=yc.Headers,I7=yc.Request,j7=yc.Response,Ic=Object.freeze(Object.defineProperty({__proto__:null,Headers:$M,Request:I7,Response:j7,default:zM,fetch:T7},Symbol.toStringTag,{value:"Module"})),R7=xp(Ic);var _m={};Object.defineProperty(_m,"__esModule",{value:!0});let O7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};_m.default=O7;var UM=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Em,"__esModule",{value:!0});const L7=UM(R7),P7=UM(_m);let D7=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=L7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const S=await o.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=S:d=JSON.parse(S))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(d=[],c=null,h=200,p="OK")}catch{o.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new P7.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Em.default=D7;var B7=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sm,"__esModule",{value:!0});const z7=B7(Em);let $7=class extends z7.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sm.default=$7;var U7=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kd,"__esModule",{value:!0});const F7=U7(Sm);let W7=class extends F7.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};kd.default=W7;var V7=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xm,"__esModule",{value:!0});const Yc=V7(kd);let H7=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Yc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Yc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xm.default=H7;var Nm={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});Am.version=void 0;Am.version="0.0.0-automated";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.DEFAULT_HEADERS=void 0;const q7=Am;Nm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${q7.version}`};var FM=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p1,"__esModule",{value:!0});const G7=FM(xm),K7=FM(kd),Y7=Nm;let Q7=class WM{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Y7.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new G7.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new WM(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new K7.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};p1.default=Q7;var jc=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ur,"__esModule",{value:!0});ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const VM=jc(p1);ur.PostgrestClient=VM.default;const HM=jc(xm);ur.PostgrestQueryBuilder=HM.default;const qM=jc(kd);ur.PostgrestFilterBuilder=qM.default;const GM=jc(Sm);ur.PostgrestTransformBuilder=GM.default;const KM=jc(Em);ur.PostgrestBuilder=KM.default;const YM=jc(_m);ur.PostgrestError=YM.default;var J7=ur.default={PostgrestClient:VM.default,PostgrestQueryBuilder:HM.default,PostgrestFilterBuilder:qM.default,PostgrestTransformBuilder:GM.default,PostgrestBuilder:KM.default,PostgrestError:YM.default};const{PostgrestClient:Z7,PostgrestQueryBuilder:lY,PostgrestFilterBuilder:cY,PostgrestTransformBuilder:uY,PostgrestBuilder:dY,PostgrestError:fY}=J7,X7="2.11.2",e9={"X-Client-Info":`realtime-js/${X7}`},t9="1.0.0",QM=1e4,n9=1e3;var Bl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bl||(Bl={}));var vr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vr||(vr={}));var is;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(is||(is={}));var Ov;(function(t){t.websocket="websocket"})(Ov||(Ov={}));var Qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qi||(Qi={}));class r9{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+s));i=i+s;const l=r.decode(e.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class JM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));const BE=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,i)=>(o[i]=s9(i,t,e,s),o),{})},s9=(t,e,n,r)=>{const s=e.find(a=>a.name===t),o=s==null?void 0:s.type,i=n[t];return o&&!r.includes(o)?ZM(o,i):Lv(i)},ZM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l9(e,n)}switch(t){case Tt.bool:return o9(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return i9(e);case Tt.json:case Tt.jsonb:return a9(e);case Tt.timestamp:return c9(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Lv(e);default:return Lv(e)}},Lv=t=>t,o9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},i9=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l9=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>ZM(e,a))}return t},c9=t=>typeof t=="string"?t.replace(" ","T"):t,XM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class g0{constructor(e,n,r={},s=QM){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zE||(zE={}));class Au{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Au.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Au.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Au.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),i=this.transformState(n),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),m=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(a[c]=v),m.length>0&&(l[c]=m)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,d,l)}),this.map(i,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $E;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($E||($E={}));var UE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(UE||(UE={}));var Xs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xs||(Xs={}));class m1{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new g0(this,is.join,this.params,this.timeout),this.rejoinTimer=new JM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Au(this),this.broadcastEndpointURL=XM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Xs.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Xs.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Xs.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:S,schema:x,table:E,filter:A}}=b,k=d&&d[m];if(k&&k.event===S&&k.schema===x&&k.table===E&&k.filter===A)v.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),e==null||e(Xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Xs.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new g0(this,is.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new g0(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=is;if(r&&[a,l,c,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,m,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,m,b,S,x,E;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const A=p.id,k=(v=p.filter)===null||v===void 0?void 0:v.event;return A&&((m=n.ids)===null||m===void 0?void 0:m.includes(A))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const A=(x=(S=p==null?void 0:p.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:b,commit_timestamp:S,type:x,errors:E}=v;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:S,eventType:x,new:{},old:{},errors:E}),this._getPayloadRecords(v))}p.callback(h,r)})}_isClosed(){return this.state===vr.closed}_isJoined(){return this.state===vr.joined}_isJoining(){return this.state===vr.joining}_isLeaving(){return this.state===vr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&m1.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(is.close,{},e)}_onError(e){this._on(is.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=BE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=BE(e.columns,e.old_record)),n}}const u9=()=>{},d9=typeof WebSocket<"u",f9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h9{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=e9,this.params={},this.timeout=QM,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=u9,this.conn=null,this.sendBuffer=[],this.serializer=new r9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Ii(async()=>{const{default:l}=await Promise.resolve().then(()=>Ic);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${e}/${Ov.websocket}`,this.httpEndpoint=XM(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new JM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(d9){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new p9(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ii(async()=>{const{default:e}=await import("./browser-De_RmUN2.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t9}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bl.connecting:return Qi.Connecting;case Bl.open:return Qi.Open;case Bl.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}channel(e,n={config:{}}){const r=new m1(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(is.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(n9,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(is.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([f9],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class p9{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class g1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m9 extends g1{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pv extends g1{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var g9=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const eT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Ic);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},y9=()=>g9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ii(()=>Promise.resolve().then(()=>Ic),void 0)).Response:Response}),Dv=t=>{if(Array.isArray(t))return t.map(n=>Dv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Dv(r)}),e};var Ba=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const y0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v9=(t,e,n)=>Ba(void 0,void 0,void 0,function*(){const r=yield y9();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new m9(y0(s),t.status||500))}).catch(s=>{e(new Pv(y0(s),s))}):e(new Pv(y0(t),t))}),w9=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Md(t,e,n,r,s,o){return Ba(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,w9(e,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>v9(l,a,r))})})}function hp(t,e,n,r){return Ba(this,void 0,void 0,function*(){return Md(t,"GET",e,n,r)})}function qo(t,e,n,r,s){return Ba(this,void 0,void 0,function*(){return Md(t,"POST",e,r,s,n)})}function b9(t,e,n,r,s){return Ba(this,void 0,void 0,function*(){return Md(t,"PUT",e,r,s,n)})}function x9(t,e,n,r){return Ba(this,void 0,void 0,function*(){return Md(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tT(t,e,n,r,s){return Ba(this,void 0,void 0,function*(){return Md(t,"DELETE",e,r,s,n)})}var ar=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const S9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E9{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=eT(s)}uploadOrUpdate(e,n,r,s){return ar(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},FE),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(bn(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ar(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ar(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:FE.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(bn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ar(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield qo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new g1("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ar(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ar(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ar(this,void 0,void 0,function*(){try{return{data:{path:(yield qo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ar(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield qo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ar(this,void 0,void 0,function*(){try{const s=yield qo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}download(e,n){return ar(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield hp(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(bn(a))return{data:null,error:a};throw a}})}info(e){return ar(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield hp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dv(r),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}exists(e){return ar(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield x9(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(bn(r)&&r instanceof Pv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ar(this,void 0,void 0,function*(){try{return{data:yield tT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ar(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},S9),n),{prefix:e||""});return{data:yield qo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _9="2.7.1",N9={"X-Client-Info":`storage-js/${_9}`};var qa=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class A9{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},N9),n),this.fetch=eT(r)}listBuckets(){return qa(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(bn(e))return{data:null,error:e};throw e}})}getBucket(e){return qa(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return qa(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return qa(this,void 0,void 0,function*(){try{return{data:yield b9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return qa(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return qa(this,void 0,void 0,function*(){try{return{data:yield tT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}}class C9 extends A9{constructor(e,n={},r){super(e,n,r)}from(e){return new E9(this.url,this.headers,e,this.fetch)}}const k9="2.49.8";let cu="";typeof Deno<"u"?cu="deno":typeof document<"u"?cu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cu="react-native":cu="node";const M9={"X-Client-Info":`supabase-js-${cu}/${k9}`},T9={headers:M9},I9={schema:"public"},j9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R9={};var O9=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const L9=t=>{let e;return t?e=t:typeof fetch>"u"?e=zM:e=fetch,(...n)=>e(...n)},P9=()=>typeof Headers>"u"?$M:Headers,D9=(t,e,n)=>{const r=L9(n),s=P9();return(o,i)=>O9(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var B9=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function z9(t){return t.endsWith("/")?t:t+"/"}function $9(t,e){var n,r;const{db:s,auth:o,realtime:i,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>B9(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const nT="2.69.1",al=30*1e3,Bv=3,v0=Bv*al,U9="http://localhost:9999",F9="supabase.auth.token",W9={"X-Client-Info":`gotrue-js/${nT}`},zv="X-Supabase-Api-Version",rT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H9=6e5;class y1 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q9 extends y1{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function G9(t){return Je(t)&&t.name==="AuthApiError"}class sT extends y1{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Di extends y1{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class zo extends Di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K9(t){return Je(t)&&t.name==="AuthSessionMissingError"}class w0 extends Di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yf extends Di{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vf extends Di{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y9(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}class WE extends Di{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $v extends Di{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function b0(t){return Je(t)&&t.name==="AuthRetryableFetchError"}class VE extends Di{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cu extends Di{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const HE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qE=` 	
\r=`.split(""),Q9=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qE.length;e+=1)t[qE[e].charCodeAt(0)]=-2;for(let e=0;e<HE.length;e+=1)t[HE[e].charCodeAt(0)]=e;return t})();function oT(t,e,n){const r=Q9[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function GE(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{X9(i,r,n)};for(let i=0;i<t.length;i+=1)oT(t.charCodeAt(i),s,o);return e.join("")}function J9(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Z9(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}J9(r,e)}}function X9(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function eW(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)oT(t.charCodeAt(s),n,r);return new Uint8Array(e)}function tW(t){const e=[];return Z9(t,n=>e.push(n)),new Uint8Array(e)}function nW(t){return Math.round(Date.now()/1e3)+t}function rW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Cs=()=>typeof window<"u"&&typeof document<"u",$i={tested:!1,writable:!1},ku=()=>{if(!Cs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($i.tested)return $i.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$i.tested=!0,$i.writable=!0}catch{$i.tested=!0,$i.writable=!1}return $i.writable};function sW(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const iT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>Ic);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},oW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",aT=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},wf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bf=async(t,e)=>{await t.removeItem(e)};class Cm{constructor(){this.promise=new Cm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cm.promiseConstructor=Promise;function x0(t){const e=t.split(".");if(e.length!==3)throw new Cu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!V9.test(e[r]))throw new Cu("JWT not in base64url format");return{header:JSON.parse(GE(e[0])),payload:JSON.parse(GE(e[1])),signature:eW(e[2]),raw:{header:e[0],payload:e[1]}}}async function iW(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aW(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function lW(t){return("0"+t.toString(16)).substr(-2)}function cW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,lW).join("")}async function uW(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function dW(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uW(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ga(t,e,n=!1){const r=cW();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await aT(t,`${e}-code-verifier`,s);const o=await dW(r);return[o,r===o?"plain":"s256"]}const fW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hW(t){const e=t.headers.get(zv);if(!e||!e.match(fW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pW(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mW(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yW=[502,503,504];async function KE(t){var e;if(!oW(t))throw new $v(Gi(t),0);if(yW.includes(t.status))throw new $v(Gi(t),t.status);let n;try{n=await t.json()}catch(o){throw new sT(Gi(o),o)}let r;const s=hW(t);if(s&&s.getTime()>=rT["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new VE(Gi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new zo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new VE(Gi(n),t.status,n.weak_password.reasons);throw new q9(Gi(n),t.status||500,r)}const vW=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function lt(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[zv]||(o[zv]=rT["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await wW(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function wW(t,e,n,r,s,o){const i=vW(e,r,s,o);let a;try{a=await t(n,Object.assign({},i))}catch(l){throw console.error(l),new $v(Gi(l),0)}if(a.ok||await KE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await KE(l)}}function $o(t){var e;let n=null;EW(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nW(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function YE(t){const e=$o(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bW(t){return{data:t,error:null}}function xW(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,i=gW(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function SW(t){return t}function EW(t){return t.access_token&&t.refresh_token&&t.expires_in}var _W=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class NW{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=iT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Jo})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=_W(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xW,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jo})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:SW});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jo})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Jo})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Jo})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}}const AW={getItem:t=>ku()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ku()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ku()&&globalThis.localStorage.removeItem(t)}};function QE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function CW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ka={debug:!!(globalThis&&ku()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kW extends lT{}async function MW(t,e,n){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ka.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CW();const TW={url:U9,storageKey:F9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function JE(t,e,n){return await n()}class od{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=od.nextInstanceID,od.nextInstanceID+=1,this.instanceID>0&&Cs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},TW),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new NW({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=iT(s.fetch),this.lock=s.lock||JE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Cs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MW:this.lock=JE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ku()?this.storage=AW:(this.memoryStorage={},this.storage=QE(this.memoryStorage)):(this.memoryStorage={},this.storage=QE(this.memoryStorage)),Cs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=sW(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Cs()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Y9(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Je(n)?{error:n}:{error:new sT("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$o}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Je(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ga(this.storage,this.storageKey)),o=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:$o})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$o})}else throw new yf("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:i,options:a}=e;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:YE})}else if("phone"in e){const{phone:o,password:i,options:a}=e;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:YE})}else throw new yf("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new w0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await wf(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$o});if(await bf(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new w0}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Je(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=e,a=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$o}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new w0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,o,i;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ga(this.storage,this.storageKey));const{error:f}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new yf("You must provide either an email or phone number.")}catch(a){if(Je(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:$o});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Ga(this.storage,this.storageKey)),await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:bW})}catch(o){if(Je(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new zo;const{error:s}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:i}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:i,error:a}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new yf("You must provide either an email or phone number and a type")}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await wf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<v0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jo}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zo}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Jo})})}catch(n){if(Je(n))return K9(n)&&(await this._removeSession(),await bf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new zo;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ga(this.storage,this.storageKey));const{data:c,error:d}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Jo});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zo;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=x0(e.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:i,error:a}=n;if(a)throw a;e=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new zo;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Cs())throw new vf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WE("No code detected.");const{data:x,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!i||!c)throw new vf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const S={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(Je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await wf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(G9(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await bf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rW(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ga(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Je(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Cs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Je(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aW(async s=>(s>0&&await iW(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$o})),(s,o)=>{const i=200*Math.pow(2,s);return o&&b0(o)&&Date.now()+i-r<al})}catch(r){if(this._debug(n,"error",r),Je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Cs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await wf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<v0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${v0}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),b0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new zo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cm;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new zo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),Je(o)){const i={session:null,error:o};return b0(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await aT(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await bf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Cs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),al);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${al}ms, refresh threshold is ${Bv} ticks`),s<=Bv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ga(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=x0(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(i=>i.kid===e);if(r||(r=this.jwks.keys.find(i=>i.kid===e),r&&this.jwks_cached_at+H9>Date.now()))return r;const{data:s,error:o}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Cu("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===e),!r)throw new Cu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=x0(r);if(pW(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const c=mW(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,tW(`${a}.${l}`)))throw new Cu("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}}od.nextInstanceID=0;const IW=od;class jW extends IW{constructor(e){super(e)}}var RW=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class OW{constructor(e,n,r){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=z9(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:I9,realtime:R9,auth:Object.assign(Object.assign({},j9),{storageKey:c}),global:T9},f=$9(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=D9(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Z7(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new k7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new C9(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return RW(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jW({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new h9(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LW=(t,e,n)=>new OW(t,e,n),PW="https://hoizgemxlmhhzemohkuk.supabase.co",DW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvaXpnZW14bG1oaHplbW9oa3VrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5MjA1NzAsImV4cCI6MjA2MzQ5NjU3MH0.7zaCRb22Pi41HNgpVy1lh2WfPtDJH4UDz1EbpTFyTG0",Nt=LW(PW,DW),ll=(t,e=[])=>({id:t.id,name:t.name,maxPlayers:t.max_players,players:e.map(BW),status:t.status,gameMode:t.game_mode||"classic",createdAt:t.created_at,updatedAt:t.updated_at,lastActivity:t.last_activity,gameState:t.game_state||{},gameSeed:t.game_seed,matchNumber:t.match_number}),BW=t=>({id:t.player_id,walletAddress:t.wallet_address||t.player_id,name:t.player_name,color:t.player_color,size:t.size,x:t.x,y:t.y,isAlive:t.is_alive,isReady:t.is_ready,velocityX:t.velocity_x,velocityY:t.velocity_y,lastPositionUpdate:t.last_position_update?new Date(t.last_position_update).toISOString():new Date().toISOString(),joinedAt:t.joined_at?new Date(t.joined_at).toISOString():new Date().toISOString(),nftImageUrl:t.nft_image_url}),Qc={async getAllRooms(){console.log("Getting all rooms...");const{data:t,error:e}=await Nt.from("game_rooms").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching rooms:",e),e;return!t||t.length===0?(console.log("No rooms found"),[]):(console.log(`Found ${t.length} rooms from database`),await Promise.all(t.map(async r=>{console.log(`Room ${r.name} - DB gameMode:`,r.game_mode);const{data:s,error:o}=await Nt.from("game_room_players").select("*").eq("room_id",r.id);if(o)return console.error(`Error fetching players for room ${r.id}:`,o),ll(r,[]);const i=ll(r,s||[]);return console.log(`Converted room ${r.name} - gameMode:`,i.gameMode),i})))},async createRoom(t,e,n="classic"){console.log(`Creating room with gameMode: ${n}`);try{const{data:r,error:s}=await Nt.from("game_rooms").insert({name:t,max_players:e,game_mode:n,status:"waiting"}).select().single();if(s)throw console.error("Error creating room:",s),s;console.log("Room created successfully:",r),console.log("Created room gameMode:",r.game_mode);const o=ll(r,[]);return console.log("Returning created room:",o),o}catch(r){throw console.error("Failed to create room:",r),r}},async getRoom(t){console.log(`Fetching room ${t}`);const{data:e,error:n}=await Nt.from("game_rooms").select("*").eq("id",t).single();if(n||!e)return console.error("Room not found:",n),null;console.log(`Room ${e.name} - Raw DB game_mode:`,e.game_mode);const{data:r,error:s}=await Nt.from("game_room_players").select("*").eq("room_id",t);if(s)return console.error(`Error fetching players for room ${t}:`,s),ll(e,[]);console.log(`Room ${e.name} has ${(r==null?void 0:r.length)||0} players`);const o=ll(e,r||[]);return console.log(`Final converted gameMode for room ${e.name}:`,o.gameMode),o},async startGame(t){console.log(`Starting game for room ${t}`);const{error:e}=await Nt.from("game_rooms").update({status:"playing",last_activity:new Date().toISOString()}).eq("id",t);if(e)throw console.error("Error starting game:",e),e;console.log("Game started successfully")},async checkGhostRooms(){console.log("Checking for ghost rooms...");try{const t=new Date(Date.now()-9e5),{error:e}=await Nt.from("game_rooms").delete().eq("status","waiting").lt("last_activity",t.toISOString());if(e)throw console.error("Error checking ghost rooms:",e),e;console.log("Ghost rooms check completed")}catch(t){throw console.error("Failed to check ghost rooms:",t),t}}},ih={async updateRoomActivity(t){console.log(`Updating room activity for ${t}`);const{error:e}=await Nt.from("game_rooms").update({last_activity:new Date().toISOString()}).eq("id",t);e&&console.error("Error updating room activity:",e)}},S0={async joinRoom(t,e){if(console.log("Player joining room - Details:",{playerName:e.name,walletAddress:e.walletAddress,roomId:t,playerObject:e}),!e.walletAddress||e.walletAddress.trim()==="")throw console.error("CRITICAL: Player wallet address is missing or empty"),new Error("L'adresse wallet du joueur est requise pour rejoindre une salle.");if(!e.name||e.name.trim()==="")throw console.error("CRITICAL: Player name is missing or empty"),new Error("Le nom du joueur est requis pour rejoindre une salle");if(!t||t.trim()==="")throw console.error("CRITICAL: Room ID is missing or empty"),new Error("L'ID de la salle est requis");console.log("✅ Initial validation passed for player:",e.walletAddress);try{console.log("Checking room capacity and status...");const{data:n,error:r}=await Nt.from("game_rooms").select("max_players, status").eq("id",t).single();if(r)throw console.error("Error getting room info:",r),new Error("Cette salle n'existe pas ou n'est plus disponible");if(n.status!=="waiting")throw new Error("Cette salle n'accepte plus de nouveaux joueurs");const{data:s,error:o}=await Nt.from("game_room_players").select("player_id").eq("room_id",t).neq("player_id",e.walletAddress);if(o)throw console.error("Error getting current players:",o),new Error("Impossible de vérifier le nombre de joueurs actuels");if(s&&s.length>=((n==null?void 0:n.max_players)||4))throw console.error("Room is full"),new Error("Cette salle est complète");console.log("Ensuring player exists in players table...");const{error:i}=await Nt.from("players").upsert({id:e.walletAddress,name:e.name.trim(),color:e.color},{onConflict:"id"});if(i)throw console.error("Error upserting player:",i),new Error(`Impossible de créer/mettre à jour le joueur: ${i.message}`);console.log("Adding/updating player in room...");const{error:a}=await Nt.from("game_room_players").upsert({room_id:t,player_id:e.walletAddress,player_name:e.name.trim(),player_color:e.color,size:e.size||30,x:e.x||0,y:e.y||0,is_alive:e.isAlive!==!1,is_ready:!1,last_position_update:new Date().toISOString()},{onConflict:"room_id,player_id"});if(a)throw console.error("[JOIN game_room_players] failed:",a),new Error(`Impossible de rejoindre la salle: ${a.message}`);console.log("✅ [JOIN game_room_players] succeeded for player:",e.walletAddress),await ih.updateRoomActivity(t);const{data:l,error:c}=await Nt.from("game_rooms").select("*").eq("id",t).single();if(c)throw console.error("Error fetching updated room:",c),new Error("Impossible de récupérer les informations de la salle");const{data:d,error:f}=await Nt.from("game_room_players").select("*").eq("room_id",t);if(f)throw console.error("Error fetching players data:",f),new Error("Impossible de récupérer les joueurs de la salle");const h=ll(l,d||[]);return console.log("✅ Player joined room successfully, returning room:",h),h}catch(n){throw console.error("Error in joinRoom:",n),n}},async leaveRoom(t,e){if(console.log(`Player ${e} leaving room ${t}`),!e||e.trim()==="")throw console.error("Player ID is missing or empty"),new Error("L'ID du joueur est requis pour quitter une salle");if(!t||t.trim()==="")throw console.error("Room ID is missing or empty"),new Error("L'ID de la salle est requis");try{await Nt.from("game_room_players").update({is_alive:!1}).eq("room_id",t).eq("player_id",e);const{error:n}=await Nt.from("game_room_players").delete().eq("room_id",t).eq("player_id",e);if(n)throw console.error("Error leaving room:",n),new Error(`Impossible de quitter la salle: ${n.message}`);await ih.updateRoomActivity(t),console.log("Player left room successfully")}catch(n){throw console.error("Error in leaveRoom:",n),n}},async setPlayerReady(t,e,n){if(console.log(`PLAYER_SERVICE - Setting player ${e} ready status to ${n} in room ${t}`),!e||e.trim()==="")throw console.error("PLAYER_SERVICE - Player ID is missing or empty"),new Error("L'ID du joueur est requis pour changer le statut");if(!t||t.trim()==="")throw console.error("PLAYER_SERVICE - Room ID is missing or empty"),new Error("L'ID de la salle est requis");try{console.log("PLAYER_SERVICE - Attempting to update ready status in database...");const{error:r}=await Nt.from("game_room_players").update({is_ready:n}).eq("room_id",t).eq("player_id",e);if(r)throw console.error("PLAYER_SERVICE - Error updating player ready status:",r),new Error(`Impossible de changer le statut: ${r.message}`);console.log("PLAYER_SERVICE - Database update successful"),await ih.updateRoomActivity(t),console.log("PLAYER_SERVICE - Player ready status updated successfully");const{data:s,error:o}=await Nt.from("game_room_players").select("is_ready, player_name").eq("room_id",t).eq("player_id",e).single();o?console.error("PLAYER_SERVICE - Error verifying ready status update:",o):console.log("PLAYER_SERVICE - Verification successful - Player ready status:",s)}catch(r){throw console.error("PLAYER_SERVICE - Error in setPlayerReady:",r),r}},async markPlayerDisconnected(t,e){console.log(`Marking player ${e} as disconnected in room ${t}`);try{const{error:n}=await Nt.from("game_room_players").update({is_alive:!1,last_position_update:new Date().toISOString()}).eq("room_id",t).eq("player_id",e);if(n)throw console.error("Error marking player as disconnected:",n),new Error(`Impossible de marquer le joueur comme déconnecté: ${n.message}`);console.log("Player marked as disconnected successfully")}catch(n){throw console.error("Error in markPlayerDisconnected:",n),n}}},ZE={async verifyPlayerInRoom(t,e){console.log(`Verifying player ${e} in room ${t}`);try{const{data:n,error:r}=await Nt.from("game_room_players").select("id").eq("room_id",t).eq("player_id",e).single();return r?(console.log("Player not found in room:",r.message),!1):(console.log("Player verified in room:",!!n),!!n)}catch(n){return console.error("Error verifying player in room:",n),!1}},async verifyRoomExists(t){console.log(`Verifying room exists: ${t}`);try{const{data:e,error:n}=await Nt.from("game_rooms").select("id").eq("id",t).single();return n?(console.log("Room not found:",n.message),!1):(console.log("Room verified:",!!e),!!e)}catch(e){return console.error("Error verifying room:",e),!1}}},Ui={updateRoomActivity:ih.updateRoomActivity,verifyPlayerInRoom:ZE.verifyPlayerInRoom,verifyRoomExists:ZE.verifyRoomExists,getAllRooms:Qc.getAllRooms,createRoom:async(t,e,n="classic")=>await Qc.createRoom(t,e,n),startGame:Qc.startGame,getRoom:Qc.getRoom,checkGhostRooms:Qc.checkGhostRooms,joinRoom:async(t,e)=>await S0.joinRoom(t,e),leaveRoom:S0.leaveRoom,setPlayerReady:S0.setPlayerReady},cT=["{playerName} s'est fait PLS !","{playerName} a goûté au REKT !","{playerName} est retourné au menu...","RIP {playerName} 💀","{playerName} est parti en PLS !","{playerName} à mangé le RUG PULL !","{playerName} à fait un ALL IN perdant !","{playerName} s'est fait LIQUIDATED !","{playerName} à raté le TAKE PROFIT !","{playerName} est devenu un BAG HOLDER !"],uT=g.createContext(void 0),zW=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(null),[o,i]=g.useState([]),[a,l]=g.useState([...cT]),{toast:c}=Ss(),{publicKey:d}=Li();g.useEffect(()=>{const k=localStorage.getItem("agar3-fun-player");if(k)try{const U=JSON.parse(k);n(U)}catch(U){console.error("Error parsing saved player:",U),localStorage.removeItem("agar3-fun-player")}const B=localStorage.getItem("agar3-fun-custom-phrases");if(B)try{const U=JSON.parse(B);l(U)}catch(U){console.error("Error parsing saved phrases:",U)}const z=localStorage.getItem("agar3-fun-current-room");if(z)try{const U=JSON.parse(z);s(U)}catch(U){console.error("Error parsing saved room:",U),localStorage.removeItem("agar3-fun-current-room")}h()},[]),g.useEffect(()=>{e?localStorage.setItem("agar3-fun-player",JSON.stringify(e)):localStorage.removeItem("agar3-fun-player")},[e]),g.useEffect(()=>{localStorage.setItem("agar3-fun-custom-phrases",JSON.stringify(a))},[a]),g.useEffect(()=>{r?localStorage.setItem("agar3-fun-current-room",JSON.stringify(r)):localStorage.removeItem("agar3-fun-current-room")},[r]);const f=(k,B)=>{const z=(d==null?void 0:d.toBase58())||"",U={id:crypto.randomUUID(),walletAddress:z,name:k,color:B,x:50,y:50,size:20,isAlive:!0,isReady:!1};n(U)},h=async()=>{try{const k=await Ui.getAllRooms();i(k)}catch(k){console.error("Error fetching available rooms:",k),i([])}},p=async(k,B,z="classic")=>{try{const U=await Ui.createRoom(k,B,z);s(U),localStorage.setItem("agar3-fun-current-room",JSON.stringify(U)),await h(),c({title:"Salle créée !",description:`La salle ${U.name} a été créée avec succès.`})}catch(U){console.error("Error creating room:",U),c({title:"Erreur de création",description:"Impossible de créer la salle. Veuillez réessayer.",variant:"destructive"})}},v=async k=>{if(!d){c({title:"Wallet non connecté",description:"Veuillez connecter votre wallet Solana pour rejoindre une salle.",variant:"destructive"});return}if(!e){c({title:"Erreur de joueur",description:"Veuillez configurer votre joueur avant de rejoindre une salle.",variant:"destructive"});return}const B={...e,walletAddress:d.toBase58()};try{const z=await Ui.joinRoom(k,B);s(z),localStorage.setItem("agar3-fun-current-room",JSON.stringify(z)),await h(),c({title:"Salle rejointe !",description:`Vous avez rejoint la salle ${z.name}.`})}catch(z){console.error("Error joining room:",z),c({title:"Erreur de connexion",description:(z==null?void 0:z.message)||"Impossible de rejoindre la salle. Veuillez réessayer.",variant:"destructive"})}},m=()=>{(r==null?void 0:r.status)==="playing"?r!=null&&r.id?window.location.href=`/game/${r.id}`:window.location.href="/game":c({title:"PARTIE_NON_DISPONIBLE",description:"La partie n'a pas encore commencé",variant:"destructive"})},b=async()=>{if(!(!e||!r))try{const k=e.walletAddress||e.id;console.log("CONTEXT - leaveRoom using player ID:",k),console.log("CONTEXT - Player details:",{name:e.name,id:e.id,walletAddress:e.walletAddress}),await Ui.leaveRoom(r.id,k),s(null),localStorage.removeItem("agar3-fun-current-room"),await h(),c({title:"Salle quittée",description:"Vous avez quitté la salle."})}catch(k){console.error("CONTEXT - Error leaving room:",k),c({title:"Erreur",description:"Impossible de quitter la salle. Veuillez réessayer.",variant:"destructive"})}},S=async()=>{if(r)try{const k=await Ui.getRoom(r.id);s(k),localStorage.setItem("agar3-fun-current-room",JSON.stringify(k))}catch(k){console.error("Error refreshing room:",k),localStorage.removeItem("agar3-fun-current-room"),s(null),c({title:"Erreur de synchronisation",description:"Impossible de synchroniser la salle. Vous avez peut-être été déconnecté.",variant:"destructive"})}},A={player:e,currentRoom:r,rooms:o,customPhrases:a,setCustomPhrases:l,setPlayerDetails:f,createRoom:p,joinRoom:v,joinGame:m,leaveRoom:b,refreshCurrentRoom:S,refreshRooms:h,setPlayerReady:async k=>{if(!e||!r){c({title:"Erreur",description:"Impossible de changer l'état de préparation. Veuillez rejoindre une salle et configurer votre joueur.",variant:"destructive"});return}console.log("CONTEXT - setPlayerReady called with ready:",k),console.log("CONTEXT - Player details:",{name:e.name,id:e.id,walletAddress:e.walletAddress}),console.log("CONTEXT - Current room:",r.id);try{const B=e.walletAddress||e.id;console.log("CONTEXT - Using player ID for ready:",B),await Ui.setPlayerReady(r.id,B,k),console.log("CONTEXT - setPlayerReady API call successful"),n(z=>{if(z){const U={...z,isReady:k};return console.log("CONTEXT - Updated local player ready state:",U),U}return z}),await S(),await h(),console.log("CONTEXT - Room refresh completed")}catch(B){console.error("CONTEXT - Error setting player ready:",B),c({title:"Erreur",description:"Impossible de changer l'état de préparation. Veuillez réessayer.",variant:"destructive"})}},startGame:async()=>{if(!r){c({title:"Erreur",description:"Impossible de démarrer la partie. Veuillez rejoindre une salle.",variant:"destructive"});return}try{await Ui.startGame(r.id),await S(),await h(),c({title:"Partie lancée !",description:"La partie a été lancée avec succès."})}catch(k){console.error("Error starting game:",k),c({title:"Erreur",description:"Impossible de démarrer la partie. Veuillez réessayer.",variant:"destructive"})}}};return u.jsx(uT.Provider,{value:A,children:t})},zr=()=>{const t=g.useContext(uT);if(!t)throw new Error("useGame must be used within a GameProvider");return t},$W="Phantom";class UW extends a1{constructor(e={}){super(),this.name=$W,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new o1),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Le(n.toBytes())}catch(s){this.emit("error",new fc(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==st.Unsupported&&(av()?(this._readyState=st.Loadable,this.emit("readyStateChange",this._readyState)):aM(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===st.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===st.Loadable){const s=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${o}`;return}if(this.readyState!==st.Installed)throw new Ca;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new ka(s==null?void 0:s.message,s)}if(!n.publicKey)throw new ta;let r;try{r=new Le(n.publicKey.toBytes())}catch(s){throw new fc(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new i1(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new an;try{const{signers:o,...i}=r;fo(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,i),o!=null&&o.length&&e.partialSign(...o)),i.preflightCommitment=i.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(e,i);return a}catch(o){throw o instanceof _n?o:new uo(o==null?void 0:o.message,o)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new an;try{return await n.signTransaction(e)||e}catch(r){throw new ps(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new an;try{return await n.signAllTransactions(e)||e}catch(r){throw new ps(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new an;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new fm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const FW="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var St=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},WW=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},ah,ia,Uv,Fv,Wv,Fn,Vv,dT,fT,Hv,qv,Gv,Kv,Yv;class VW{constructor(){ah.add(this),ia.set(this,{}),Uv.set(this,"1.0.0"),Fv.set(this,"MetaMask"),Wv.set(this,FW),Fn.set(this,null),Vv.set(this,(e,n)=>{var r;return(r=St(this,ia,"f")[e])!=null&&r.push(n)||(St(this,ia,"f")[e]=[n]),()=>St(this,ah,"m",fT).call(this,e,n)}),Hv.set(this,async()=>{if(!St(this,Fn,"f")){let e;try{e=(await Ii(async()=>{const{default:n}=await import("./index-OX-JNInY.js");return{default:n}},__vite__mapDeps([0,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}WW(this,Fn,new e,"f"),St(this,Fn,"f").on("standard_change",n=>St(this,ah,"m",dT).call(this,"change",n))}return this.accounts.length||await St(this,Fn,"f").connect(),{accounts:this.accounts}}),qv.set(this,async()=>{St(this,Fn,"f")&&await St(this,Fn,"f").disconnect()}),Gv.set(this,async(...e)=>{if(!St(this,Fn,"f"))throw new an;return await St(this,Fn,"f").standardSignAndSendTransaction(...e)}),Kv.set(this,async(...e)=>{if(!St(this,Fn,"f"))throw new an;return await St(this,Fn,"f").standardSignTransaction(...e)}),Yv.set(this,async(...e)=>{if(!St(this,Fn,"f"))throw new an;return await St(this,Fn,"f").standardSignMessage(...e)})}get version(){return St(this,Uv,"f")}get name(){return St(this,Fv,"f")}get icon(){return St(this,Wv,"f")}get chains(){return[sd,NM,AM]}get features(){return{[hm]:{version:"1.0.0",connect:St(this,Hv,"f")},[ip]:{version:"1.0.0",disconnect:St(this,qv,"f")},[pm]:{version:"1.0.0",on:St(this,Vv,"f")},[tr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:St(this,Gv,"f")},[Vt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:St(this,Kv,"f")},[io]:{version:"1.0.0",signMessage:St(this,Yv,"f")}}}get accounts(){return St(this,Fn,"f")?St(this,Fn,"f").standardAccounts:[]}}ia=new WeakMap,Uv=new WeakMap,Fv=new WeakMap,Wv=new WeakMap,Fn=new WeakMap,Vv=new WeakMap,Hv=new WeakMap,qv=new WeakMap,Gv=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,ah=new WeakSet,dT=function(e,...n){var r;(r=St(this,ia,"f")[e])==null||r.forEach(s=>s.apply(null,n))},fT=function(e,n){var r;St(this,ia,"f")[e]=(r=St(this,ia,"f")[e])==null?void 0:r.filter(s=>n!==s)};let XE=!1;function HW(){XE||(YF(new VW),XE=!0)}async function qW(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var o,i;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((o=s.data)==null?void 0:o.name)==="metamask-provider"&&(((i=s.data.data)==null?void 0:i.id)===t?(window.removeEventListener("message",n),s.data.data.error||HW()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}const GW="Solflare";class KW extends a1{constructor(e={}){super(),this.name=GW,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?st.Unsupported:st.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new o1),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Le(n.toBytes())}catch(s){this.emit("error",new fc(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==st.Unsupported&&(aM(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=st.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),qW())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===st.Loadable&&av()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==st.Loadable&&this._readyState!==st.Installed)throw new Ca;if(this.readyState===st.Loadable&&av()){const s=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${o}`;return}let e;try{e=(await Ii(async()=>{const{default:s}=await import("./index-BdbgwZZg.js");return{default:s}},__vite__mapDeps([2,1]))).default}catch(s){throw new k$(s==null?void 0:s.message,s)}let n;try{n=new e({network:this._config.network})}catch(s){throw new El(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new ka(s==null?void 0:s.message,s)}if(!n.publicKey)throw new ka;let r;try{r=new Le(n.publicKey.toBytes())}catch(s){throw new fc(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new i1(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const s=this._wallet;if(!s)throw new an;try{const{signers:o,...i}=r;return fo(e)?o!=null&&o.length&&e.sign(o):(e=await this.prepareTransaction(e,n,i),o!=null&&o.length&&e.partialSign(...o)),i.preflightCommitment=i.preflightCommitment||n.commitment,await s.signAndSendTransaction(e,i)}catch(o){throw o instanceof _n?o:new uo(o==null?void 0:o.message,o)}}catch(s){throw this.emit("error",s),s}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new an;try{return await n.signTransaction(e)||e}catch(r){throw new ps(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new an;try{return await n.signAllTransactions(e)||e}catch(r){throw new ps(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new an;try{return await n.signMessage(e,"utf8")}catch(r){throw new fm(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const hT={setVisible(t){console.error(pT("call","setVisible"))},visible:!1};Object.defineProperty(hT,"visible",{get(){return console.error(pT("read","visible")),!1}});function pT(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const mT=g.createContext(hT);function gT(){return g.useContext(mT)}function YW({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:o,publicKey:i,select:a,wallet:l,wallets:c}=Li();let d;r?d="connecting":n?d="connected":o?d="disconnecting":l?d="has-wallet":d="no-wallet";const f=g.useCallback(()=>{e().catch(()=>{})},[e]),h=g.useCallback(()=>{s().catch(()=>{})},[s]),p=g.useCallback(()=>{t({onSelectWallet:a,wallets:c})},[t,a,c]);return{buttonState:d,onConnect:d==="has-wallet"?f:void 0,onDisconnect:d!=="disconnecting"&&d!=="no-wallet"?h:void 0,onSelectWallet:p,publicKey:i??void 0,walletIcon:l==null?void 0:l.adapter.icon,walletName:l==null?void 0:l.adapter.name}}const yT=t=>H.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&H.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&H.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),vT=({wallet:t,...e})=>t&&H.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function QW({walletIcon:t,walletName:e,...n}){return H.createElement(yT,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?H.createElement(vT,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function JW({children:t,labels:e,...n}){const{setVisible:r}=gT(),{buttonState:s,onConnect:o,onDisconnect:i,publicKey:a,walletIcon:l,walletName:c}=YW({onSelectWallet(){r(!0)}}),[d,f]=g.useState(!1),[h,p]=g.useState(!1),v=g.useRef(null);g.useEffect(()=>{const b=S=>{const x=v.current;!x||x.contains(S.target)||p(!1)};return document.addEventListener("mousedown",b),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)}},[]);const m=g.useMemo(()=>{if(t)return t;if(a){const b=a.toBase58();return b.slice(0,4)+".."+b.slice(-4)}else return s==="connecting"||s==="has-wallet"?e[s]:e["no-wallet"]},[s,t,e,a]);return H.createElement("div",{className:"wallet-adapter-dropdown"},H.createElement(QW,{...n,"aria-expanded":h,style:{pointerEvents:h?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":p(!0);break}},walletIcon:l,walletName:c},m),H.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${h&&"wallet-adapter-dropdown-list-active"}`,ref:v,role:"menu"},a?H.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,H.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),p(!1)},role:"menuitem"},e["change-wallet"]),i?H.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{i(),p(!1)},role:"menuitem"},e.disconnect):null))}const e_=({id:t,children:e,expanded:n=!1})=>{const r=g.useRef(null),s=g.useRef(!0),o="height 250ms ease-out",i=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.scrollHeight+"px"})},a=()=>{const l=r.current;l&&requestAnimationFrame(()=>{l.style.height=l.offsetHeight+"px",l.style.overflow="hidden",requestAnimationFrame(()=>{l.style.height="0"})})};return g.useLayoutEffect(()=>{n?i():a()},[n]),g.useLayoutEffect(()=>{const l=r.current;if(!l)return;function c(){l&&(l.style.overflow=n?"initial":"hidden",n&&(l.style.height="auto"))}function d(f){l&&f.target===l&&f.propertyName==="height"&&c()}return s.current&&(c(),s.current=!1),l.addEventListener("transitionend",d),()=>l.removeEventListener("transitionend",d)},[n]),H.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:o}},e)},E0=({handleClick:t,tabIndex:e,wallet:n})=>H.createElement("li",null,H.createElement(yT,{onClick:t,startIcon:H.createElement(vT,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===st.Installed&&H.createElement("span",null,"Detected"))),ZW=()=>H.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),H.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),H.createElement("g",{clipPath:"url(#clip0_880_5115)"},H.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),H.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),H.createElement("defs",null,H.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},H.createElement("stop",{stopColor:"#9945FF"}),H.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),H.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),H.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),H.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),H.createElement("stop",{offset:"1",stopColor:"#00D18C"})),H.createElement("clipPath",{id:"clip0_880_5115"},H.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),XW=({className:t="",container:e="body"})=>{const n=g.useRef(null),{wallets:r,select:s}=Li(),{setVisible:o}=gT(),[i,a]=g.useState(!1),[l,c]=g.useState(!1),[d,f]=g.useState(null),[h,p]=g.useMemo(()=>{const E=[],A=[];for(const k of r)k.readyState===st.Installed?E.push(k):A.push(k);return E.length?[E,A]:[A,[]]},[r]),v=g.useCallback(()=>{c(!1),setTimeout(()=>o(!1),150)},[o]),m=g.useCallback(E=>{E.preventDefault(),v()},[v]),b=g.useCallback((E,A)=>{s(A),m(E)},[s,m]),S=g.useCallback(()=>a(!i),[i]),x=g.useCallback(E=>{const A=n.current;if(!A)return;const k=A.querySelectorAll("button"),B=k[0],z=k[k.length-1];E.shiftKey?document.activeElement===B&&(z.focus(),E.preventDefault()):document.activeElement===z&&(B.focus(),E.preventDefault())},[n]);return g.useLayoutEffect(()=>{const E=k=>{k.key==="Escape"?v():k.key==="Tab"&&x(k)},{overflow:A}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",E,!1),()=>{document.body.style.overflow=A,window.removeEventListener("keydown",E,!1)}},[v,x]),g.useLayoutEffect(()=>f(document.querySelector(e)),[e]),d&&Co.createPortal(H.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},H.createElement("div",{className:"wallet-adapter-modal-container"},H.createElement("div",{className:"wallet-adapter-modal-wrapper"},H.createElement("button",{onClick:m,className:"wallet-adapter-modal-button-close"},H.createElement("svg",{width:"14",height:"14"},H.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),h.length?H.createElement(H.Fragment,null,H.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),H.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(E=>H.createElement(E0,{key:E.adapter.name,handleClick:A=>b(A,E.adapter.name),wallet:E})),p.length?H.createElement(e_,{expanded:i,id:"wallet-adapter-modal-collapse"},p.map(E=>H.createElement(E0,{key:E.adapter.name,handleClick:A=>b(A,E.adapter.name),tabIndex:i?0:-1,wallet:E}))):null),p.length?H.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},H.createElement("span",null,i?"Less ":"More ","options"),H.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${i?"wallet-adapter-modal-list-more-icon-rotate":""}`},H.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):H.createElement(H.Fragment,null,H.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),H.createElement("div",{className:"wallet-adapter-modal-middle"},H.createElement(ZW,null)),p.length?H.createElement(H.Fragment,null,H.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},H.createElement("span",null,i?"Hide ":"Already have a wallet? View ","options"),H.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${i?"wallet-adapter-modal-list-more-icon-rotate":""}`},H.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),H.createElement(e_,{expanded:i,id:"wallet-adapter-modal-collapse"},H.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(E=>H.createElement(E0,{key:E.adapter.name,handleClick:A=>b(A,E.adapter.name),tabIndex:i?0:-1,wallet:E}))))):null))),H.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:m})),d)},eV=({children:t,...e})=>{const[n,r]=g.useState(!1);return H.createElement(mT.Provider,{value:{visible:n,setVisible:r}},t,n&&H.createElement(XW,{...e}))},tV={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function pp(t){return H.createElement(JW,{...t,labels:tV})}const nV=({children:t})=>{const e=lv.Devnet,n=E$(e),r=[new UW({network:e}),new KW({network:e})];return u.jsx(N$,{endpoint:n,children:u.jsx(b7,{wallets:r,autoConnect:!0,localStorageKey:"solana-wallet",children:u.jsx(eV,{children:t})})})},v1=Sc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?_a:"button";return u.jsx(i,{className:Ce(v1({variant:e,size:n,className:t})),ref:o,...s})});Ue.displayName="Button";var _0="focusScope.autoFocusOnMount",N0="focusScope.autoFocusOnUnmount",t_={bubbles:!1,cancelable:!0},rV="FocusScope",w1=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=g.useState(null),c=Or(s),d=Or(o),f=g.useRef(null),h=At(e,m=>l(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let m=function(E){if(p.paused||!a)return;const A=E.target;a.contains(A)?f.current=A:Uo(f.current,{select:!0})},b=function(E){if(p.paused||!a)return;const A=E.relatedTarget;A!==null&&(a.contains(A)||Uo(f.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&Uo(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const x=new MutationObserver(S);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,p.paused]),g.useEffect(()=>{if(a){r_.add(p);const m=document.activeElement;if(!a.contains(m)){const S=new CustomEvent(_0,t_);a.addEventListener(_0,c),a.dispatchEvent(S),S.defaultPrevented||(sV(cV(wT(a)),{select:!0}),document.activeElement===m&&Uo(a))}return()=>{a.removeEventListener(_0,c),setTimeout(()=>{const S=new CustomEvent(N0,t_);a.addEventListener(N0,d),a.dispatchEvent(S),S.defaultPrevented||Uo(m??document.body,{select:!0}),a.removeEventListener(N0,d),r_.remove(p)},0)}}},[a,c,d,p]);const v=g.useCallback(m=>{if(!n&&!r||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,S=document.activeElement;if(b&&S){const x=m.currentTarget,[E,A]=oV(x);E&&A?!m.shiftKey&&S===A?(m.preventDefault(),n&&Uo(E,{select:!0})):m.shiftKey&&S===E&&(m.preventDefault(),n&&Uo(A,{select:!0})):S===x&&m.preventDefault()}},[n,r,p.paused]);return u.jsx(dt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});w1.displayName=rV;function sV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Uo(r,{select:e}),document.activeElement!==n)return}function oV(t){const e=wT(t),n=n_(e,t),r=n_(e.reverse(),t);return[n,r]}function wT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function n_(t,e){for(const n of t)if(!iV(n,{upTo:e}))return n}function iV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function aV(t){return t instanceof HTMLInputElement&&"select"in t}function Uo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&aV(t)&&e&&t.select()}}var r_=lV();function lV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=s_(t,e),t.unshift(e)},remove(e){var n;t=s_(t,e),(n=t[0])==null||n.resume()}}}function s_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function cV(t){return t.filter(e=>e.tagName!=="A")}var A0=0;function bT(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??o_()),document.body.insertAdjacentElement("beforeend",t[1]??o_()),A0++,()=>{A0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),A0--}},[])}function o_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Os=function(){return Os=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Os.apply(this,arguments)};function xT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function uV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var lh="right-scroll-bar-position",ch="width-before-scroll-bar",dV="with-scroll-bars-hidden",fV="--removed-body-scroll-bar-size";function C0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hV(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var pV=typeof window<"u"?g.useLayoutEffect:g.useEffect,i_=new WeakMap;function mV(t,e){var n=hV(null,function(r){return t.forEach(function(s){return C0(s,r)})});return pV(function(){var r=i_.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||C0(a,null)}),o.forEach(function(a){s.has(a)||C0(a,i)})}i_.set(n,t)},[t]),n}function gV(t){return t}function yV(t,e){e===void 0&&(e=gV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function vV(t){t===void 0&&(t={});var e=yV(null);return e.options=Os({async:!0,ssr:!1},t),e}var ST=function(t){var e=t.sideCar,n=xT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Os({},n))};ST.isSideCarExport=!0;function wV(t,e){return t.useMedium(e),ST}var ET=vV(),k0=function(){},km=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:k0,onWheelCapture:k0,onTouchMoveCapture:k0}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,v=t.inert,m=t.allowPinchZoom,b=t.as,S=b===void 0?"div":b,x=t.gapMode,E=xT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,k=mV([n,e]),B=Os(Os({},E),s);return g.createElement(g.Fragment,null,d&&g.createElement(A,{sideCar:ET,removeScrollBar:c,shards:f,noIsolation:p,inert:v,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:x}),i?g.cloneElement(g.Children.only(a),Os(Os({},B),{ref:k})):g.createElement(S,Os({},B,{className:l,ref:k}),a))});km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};km.classNames={fullWidth:ch,zeroRight:lh};var bV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bV();return e&&t.setAttribute("nonce",e),t}function SV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function EV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _V=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xV())&&(SV(e,n),EV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NV=function(){var t=_V();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_T=function(){var t=NV(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},AV={left:0,top:0,right:0,gap:0},M0=function(t){return parseInt(t||"",10)||0},CV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[M0(n),M0(r),M0(s)]},kV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return AV;var e=CV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},MV=_T(),zl="data-scroll-locked",TV=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(dV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ch,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zl,`] {
    `).concat(fV,": ").concat(a,`px;
  }
`)},a_=function(){var t=parseInt(document.body.getAttribute(zl)||"0",10);return isFinite(t)?t:0},IV=function(){g.useEffect(function(){return document.body.setAttribute(zl,(a_()+1).toString()),function(){var t=a_()-1;t<=0?document.body.removeAttribute(zl):document.body.setAttribute(zl,t.toString())}},[])},jV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;IV();var o=g.useMemo(function(){return kV(s)},[s]);return g.createElement(MV,{styles:TV(o,!e,s,n?"":"!important")})},Qv=!1;if(typeof window<"u")try{var xf=Object.defineProperty({},"passive",{get:function(){return Qv=!0,!0}});window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{Qv=!1}var Ya=Qv?{passive:!1}:!1,RV=function(t){return t.tagName==="TEXTAREA"},NT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!RV(t)&&n[e]==="visible")},OV=function(t){return NT(t,"overflowY")},LV=function(t){return NT(t,"overflowX")},l_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AT(t,r);if(s){var o=CT(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},DV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AT=function(t,e){return t==="v"?OV(e):LV(e)},CT=function(t,e){return t==="v"?PV(e):DV(e)},BV=function(t,e){return t==="h"&&e==="rtl"?-1:1},zV=function(t,e,n,r,s){var o=BV(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,l=e.contains(a),c=!1,d=i>0,f=0,h=0;do{var p=CT(t,a),v=p[0],m=p[1],b=p[2],S=m-b-o*v;(v||S)&&AT(t,a)&&(f+=S,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(c=!0),c},Sf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},c_=function(t){return[t.deltaX,t.deltaY]},u_=function(t){return t&&"current"in t?t.current:t},$V=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FV=0,Qa=[];function WV(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(FV++)[0],o=g.useState(_T)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=uV([t.lockRef.current],(t.shards||[]).map(u_),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var S=Sf(m),x=n.current,E="deltaX"in m?m.deltaX:x[0]-S[0],A="deltaY"in m?m.deltaY:x[1]-S[1],k,B=m.target,z=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in m&&z==="h"&&B.type==="range")return!1;var U=l_(z,B);if(!U)return!0;if(U?k=z:(k=z==="v"?"h":"v",U=l_(z,B)),!U)return!1;if(!r.current&&"changedTouches"in m&&(E||A)&&(r.current=k),!k)return!0;var K=r.current||k;return zV(K,b,m,K==="h"?E:A,!0)},[]),l=g.useCallback(function(m){var b=m;if(!(!Qa.length||Qa[Qa.length-1]!==o)){var S="deltaY"in b?c_(b):Sf(b),x=e.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&$V(k.delta,S)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var E=(i.current.shards||[]).map(u_).filter(Boolean).filter(function(k){return k.contains(b.target)}),A=E.length>0?a(b,E[0]):!i.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=g.useCallback(function(m,b,S,x){var E={name:m,delta:b,target:S,should:x,shadowParent:VV(S)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),d=g.useCallback(function(m){n.current=Sf(m),r.current=void 0},[]),f=g.useCallback(function(m){c(m.type,c_(m),m.target,a(m,t.lockRef.current))},[]),h=g.useCallback(function(m){c(m.type,Sf(m),m.target,a(m,t.lockRef.current))},[]);g.useEffect(function(){return Qa.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ya),document.addEventListener("touchmove",l,Ya),document.addEventListener("touchstart",d,Ya),function(){Qa=Qa.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Ya),document.removeEventListener("touchmove",l,Ya),document.removeEventListener("touchstart",d,Ya)}},[]);var p=t.removeScrollBar,v=t.inert;return g.createElement(g.Fragment,null,v?g.createElement(o,{styles:UV(s)}):null,p?g.createElement(jV,{gapMode:t.gapMode}):null)}function VV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const HV=wV(ET,WV);var b1=g.forwardRef(function(t,e){return g.createElement(km,Os({},t,{ref:e,sideCar:HV}))});b1.classNames=km.classNames;var qV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ja=new WeakMap,Ef=new WeakMap,_f={},T0=0,kT=function(t){return t&&(t.host||kT(t.parentNode))},GV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},KV=function(t,e,n,r){var s=GV(e,Array.isArray(t)?t:[t]);_f[n]||(_f[n]=new WeakMap);var o=_f[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(r),v=p!==null&&p!=="false",m=(Ja.get(h)||0)+1,b=(o.get(h)||0)+1;Ja.set(h,m),o.set(h,b),i.push(h),m===1&&v&&Ef.set(h,!0),b===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",h,S)}})};return d(e),a.clear(),T0++,function(){i.forEach(function(f){var h=Ja.get(f)-1,p=o.get(f)-1;Ja.set(f,h),o.set(f,p),h||(Ef.has(f)||f.removeAttribute(r),Ef.delete(f)),p||f.removeAttribute(n)}),T0--,T0||(Ja=new WeakMap,Ja=new WeakMap,Ef=new WeakMap,_f={})}},MT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=qV(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),KV(r,s,n,"aria-hidden")):function(){return null}},x1="Dialog",[TT,IT]=hd(x1),[YV,Es]=TT(x1),jT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=g.useRef(null),l=g.useRef(null),[c=!1,d]=Uh({prop:r,defaultProp:s,onChange:o});return u.jsx(YV,{scope:e,triggerRef:a,contentRef:l,contentId:Rl(),titleId:Rl(),descriptionId:Rl(),open:c,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};jT.displayName=x1;var RT="DialogTrigger",OT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(RT,n),o=At(e,s.triggerRef);return u.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_1(s.open),...r,ref:o,onClick:Ye(t.onClick,s.onOpenToggle)})});OT.displayName=RT;var S1="DialogPortal",[QV,LT]=TT(S1,{forceMount:void 0}),PT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Es(S1,e);return u.jsx(QV,{scope:e,forceMount:n,children:g.Children.map(r,i=>u.jsx(xc,{present:n||o.open,children:u.jsx(Bp,{asChild:!0,container:s,children:i})}))})};PT.displayName=S1;var mp="DialogOverlay",DT=g.forwardRef((t,e)=>{const n=LT(mp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Es(mp,t.__scopeDialog);return o.modal?u.jsx(xc,{present:r||o.open,children:u.jsx(JV,{...s,ref:e})}):null});DT.displayName=mp;var JV=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(mp,n);return u.jsx(b1,{as:_a,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(dt.div,{"data-state":_1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ma="DialogContent",BT=g.forwardRef((t,e)=>{const n=LT(Ma,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Es(Ma,t.__scopeDialog);return u.jsx(xc,{present:r||o.open,children:o.modal?u.jsx(ZV,{...s,ref:e}):u.jsx(XV,{...s,ref:e})})});BT.displayName=Ma;var ZV=g.forwardRef((t,e)=>{const n=Es(Ma,t.__scopeDialog),r=g.useRef(null),s=At(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return MT(o)},[]),u.jsx(zT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,o=>o.preventDefault())})}),XV=g.forwardRef((t,e)=>{const n=Es(Ma,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return u.jsx(zT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),zT=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Es(Ma,n),l=g.useRef(null),c=At(e,l);return bT(),u.jsxs(u.Fragment,{children:[u.jsx(w1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(pd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":_1(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(tH,{titleId:a.titleId}),u.jsx(rH,{contentRef:l,descriptionId:a.descriptionId})]})]})}),E1="DialogTitle",$T=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(E1,n);return u.jsx(dt.h2,{id:s.titleId,...r,ref:e})});$T.displayName=E1;var UT="DialogDescription",FT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(UT,n);return u.jsx(dt.p,{id:s.descriptionId,...r,ref:e})});FT.displayName=UT;var WT="DialogClose",VT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Es(WT,n);return u.jsx(dt.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,()=>s.onOpenChange(!1))})});VT.displayName=WT;function _1(t){return t?"open":"closed"}var HT="DialogTitleWarning",[eH,qT]=$3(HT,{contentName:Ma,titleName:E1,docsSlug:"dialog"}),tH=({titleId:t})=>{const e=qT(HT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nH="DialogDescriptionWarning",rH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qT(nH).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},N1=jT,A1=OT,C1=PT,Td=DT,Id=BT,jd=$T,Rd=FT,Od=VT;const ya=N1,va=A1,sH=Od,oH=C1,GT=g.forwardRef(({className:t,...e},n)=>u.jsx(Td,{className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));GT.displayName=Td.displayName;const iH=Sc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bi=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(oH,{children:[u.jsx(GT,{}),u.jsxs(Id,{ref:s,className:Ce(iH({side:t}),e),...r,children:[n,u.jsxs(Od,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(vb,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bi.displayName=Id.displayName;const xi=({className:t,...e})=>u.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});xi.displayName="SheetHeader";const KT=({className:t,...e})=>u.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});KT.displayName="SheetFooter";const Si=g.forwardRef(({className:t,...e},n)=>u.jsx(jd,{ref:n,className:Ce("text-lg font-semibold text-foreground",t),...e}));Si.displayName=jd.displayName;const YT=g.forwardRef(({className:t,...e},n)=>u.jsx(Rd,{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));YT.displayName=Rd.displayName;const Mm=g.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:Ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Mm.displayName="Input";const QT=g.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));QT.displayName="Textarea";const I0=({color:t,icon:e,title:n,desc:r})=>u.jsxs("div",{className:`border-2 border-${t}-400 rounded-xl p-8 flex flex-col items-center group shadow-[0_0_15px_rgba(0,255,255,0.3)] transition-transform hover:-translate-y-1 bg-black/60 backdrop-blur-sm`,children:[u.jsx("div",{className:`text-5xl mb-6 w-24 h-24 flex items-center justify-center rounded-xl bg-${t}-500/80 text-white shadow-[0_0_20px_rgba(0,255,255,0.5)]`,children:e}),u.jsx("h3",{className:"font-extrabold text-2xl neon-gradient mb-4 font-mono",children:n}),u.jsx("p",{className:"tracking-wide leading-relaxed text-white/80 text-sm md:text-base font-mono",children:r})]}),aH=()=>u.jsxs("section",{className:"flex flex-col items-center pt-16 text-center gap-10 select-none",children:[u.jsx("div",{className:"flex justify-center items-center mb-6",children:u.jsxs("div",{className:"relative flex items-center",children:[u.jsxs("svg",{width:"42",height:"42",viewBox:"0 0 397.7 311.7",className:"text-cyber-cyan mr-3 animate-neon-pulse",fill:"currentColor",children:[u.jsxs("linearGradient",{id:"logosGradient",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{offset:"0",stopColor:"#00FFF0"}),u.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),u.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#logosGradient)"}),u.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#logosGradient)"}),u.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#logosGradient)"})]}),u.jsx("div",{className:"absolute inset-0 bg-cyber-cyan/20 rounded-full blur-xl animate-pulse"}),u.jsxs("h1",{className:"text-6xl md:text-7xl font-pixel text-cyber-cyan tracking-wider animate-neon-pulse",children:["agar3",u.jsx("span",{className:"text-cyber-yellow animate-glitch",children:".fun"})]})]})}),u.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold neon-gradient animate-neon-pulse font-mono",children:"Move, Eat, Hodl to the Moon !"}),u.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-12 max-w-6xl w-full px-4",children:[u.jsx(I0,{color:"cyan",icon:"👤",title:"MULTIPLAYER",desc:u.jsxs(u.Fragment,{children:["Battle royale avec des joueurs du monde entier ",u.jsx("br",{}),"ou créez une salle rien que pour votre crew"]})}),u.jsx(I0,{color:"fuchsia",icon:"⚡",title:"CUSTOM",desc:u.jsxs(u.Fragment,{children:["Personnalisez votre ",u.jsx("span",{className:"text-cyan-300",children:"blob avec votre NFT"}),u.jsx("br",{})," et créez un avatar unique. ",u.jsx("br",{}),u.jsx("span",{className:"text-yellow-400",children:"Time to FLEX 💪"})]})}),u.jsx(I0,{color:"lime",icon:"🏆",title:"TO_THE_MOON",desc:u.jsxs(u.Fragment,{children:["Mangez les autres blobs, esquivez les ",u.jsx("span",{className:"text-violet-400",children:"RUG_PULLS"})," violets ",u.jsx("br",{}),"et devenez la ",u.jsx("span",{className:"font-bold text-yellow-300",children:"WHALE"})," ultime ! 🐳"]})})]})]}),j0=768;function za(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${j0-1}px)`),r=()=>{e(window.innerWidth<j0)};return n.addEventListener("change",r),e(window.innerWidth<j0),()=>n.removeEventListener("change",r)},[]),!!t}function Jv({className:t}){const{connected:e,publicKey:n}=Li(),[r,s]=g.useState(!1),o=l=>`${l.slice(0,4)}...${l.slice(-4)}`,i=()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent)?"https://apps.apple.com/app/phantom-solana-wallet/id1598432977":"https://play.google.com/store/apps/details?id=app.phantom";window.open(c,"_blank")},a=()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent)?"https://apps.apple.com/app/solflare/id1580902717":"https://play.google.com/store/apps/details?id=com.solflare.mobile";window.open(c,"_blank")};return e&&n?u.jsx("div",{className:t,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 text-green-800 rounded-md border border-green-200",children:[u.jsx(Na,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:o(n.toString())})]}),u.jsx(pp,{})]})}):u.jsx("div",{className:t,children:u.jsxs("div",{className:"space-y-3",children:[u.jsx(pp,{}),u.jsx("div",{className:"text-center",children:u.jsxs(Ue,{onClick:()=>s(!r),variant:"ghost",size:"sm",className:"text-xs text-gray-600",children:[u.jsx(TO,{className:"h-3 w-3 mr-1"}),r?"Masquer":"Besoin d'aide ?"]})}),r&&u.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 space-y-3",children:[u.jsx("p",{className:"text-sm text-blue-800 text-center",children:"Si vous n'avez pas de wallet Solana :"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs(Ue,{onClick:i,variant:"outline",size:"sm",className:"w-full",children:[u.jsx(uS,{className:"h-4 w-4 mr-2"}),"Installer Phantom"]}),u.jsxs(Ue,{onClick:a,variant:"outline",size:"sm",className:"w-full",children:[u.jsx(uS,{className:"h-4 w-4 mr-2"}),"Installer Solflare"]})]}),u.jsxs("div",{className:"text-xs text-blue-600 space-y-1",children:[u.jsx("p",{children:"1. Installez un wallet depuis votre app store"}),u.jsx("p",{children:"2. Créez ou importez votre wallet"}),u.jsx("p",{children:"3. Revenez ici et connectez-vous"})]})]})]})})}function Zv({className:t}){const e=za(),{connected:n,publicKey:r}=Li(),s=o=>`${o.slice(0,4)}...${o.slice(-4)}`;return e?u.jsx(Jv,{className:t}):u.jsx("div",{className:t,children:n&&r?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 text-green-800 rounded-md border border-green-200",children:[u.jsx(Na,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:s(r.toString())})]}),u.jsx(pp,{})]}):u.jsx(pp,{})})}function lH(){const t=vd(),{connected:e}=Li(),{customPhrases:n,setCustomPhrases:r}=zr(),[s,o]=g.useState([...n]),[i,a]=g.useState(""),{toast:l}=Ss(),c=()=>{r(s),l({title:"Modifications enregistrées",description:"Vos phrases personnalisées ont été sauvegardées",duration:2e3})},d=()=>{i.trim()&&(o(m=>[...m,i]),a(""))},f=m=>{o(b=>b.filter((S,x)=>x!==m))},h=()=>{o([...cT]),l({title:"Phrases réinitialisées",description:"Les phrases ont été restaurées aux valeurs par défaut",duration:2e3})},p=m=>{const b=m.target.value.split(`
`).filter(S=>S.trim()!=="");o(b)},v=()=>{if(!e){l({title:"WALLET_CONNECTION_REQUIRED",description:"Connectez votre wallet Solana pour accéder au lobby",variant:"destructive"});return}t("/lobby")};return u.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute inset-0 opacity-20",children:u.jsx("div",{className:"grid-background"})}),u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"scan-line"})}),u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((m,b)=>u.jsx("div",{className:"absolute w-1 h-1 bg-cyber-cyan rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*6}s`,animationDuration:`${4+Math.random()*4}s`}},b))})]}),u.jsxs("div",{className:"relative z-10 container mx-auto py-10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs(ya,{children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{variant:"ghost",size:"icon",className:"text-cyber-cyan hover:text-cyber-magenta hover:bg-cyber-cyan/10 border border-cyber-cyan/30 hover:border-cyber-magenta/50 transition-all duration-300",children:u.jsx(zy,{className:"h-5 w-5"})})}),u.jsxs(bi,{className:"w-[80%] sm:w-[500px] max-w-full overflow-y-auto bg-black border-cyber-cyan/30",children:[u.jsxs(xi,{children:[u.jsx(Si,{className:"text-cyber-cyan font-mono",children:"Messages personnalisés"}),u.jsxs(YT,{className:"text-gray-400",children:["Personnalisez les messages qui apparaissent quand un joueur est mangé. Utilisez ","{playerName}"," pour insérer le nom du joueur."]})]}),u.jsxs("div",{className:"py-6 space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-medium text-cyber-green font-mono",children:"Personnaliser les messages"}),u.jsx(Ue,{variant:"outline",size:"sm",onClick:h,className:"border-cyber-cyan/30 text-cyber-cyan hover:bg-cyber-cyan/10",children:"Réinitialiser"})]}),u.jsx("div",{className:"space-y-2",children:s.map((m,b)=>u.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 p-2 rounded border border-cyber-cyan/20",children:[u.jsx("span",{className:"flex-1 mr-2 text-gray-300 font-mono text-sm",children:m}),u.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>f(b),className:"text-cyber-magenta hover:bg-cyber-magenta/10",children:u.jsx(MA,{className:"h-4 w-4"})})]},b))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Mm,{placeholder:"Nouveau message avec {playerName}",value:i,onChange:m=>a(m.target.value),className:"flex-1 bg-gray-900/50 border-cyber-cyan/30 text-gray-300 font-mono"}),u.jsxs(Ue,{onClick:d,className:"shrink-0 bg-cyber-green hover:bg-cyber-green/80 text-black",children:[u.jsx(CA,{className:"h-4 w-4 mr-1"}),"Ajouter"]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-lg font-medium text-cyber-green font-mono",children:"Édition en bloc"}),u.jsx("p",{className:"text-sm text-gray-400 font-mono",children:"Vous pouvez aussi éditer toutes les phrases en bloc, une phrase par ligne."}),u.jsx(QT,{value:s.join(`
`),onChange:p,rows:10,className:"font-mono text-sm bg-gray-900/50 border-cyber-cyan/30 text-gray-300",placeholder:"Une phrase par ligne. Utilisez {playerName} pour le nom du joueur."})]}),u.jsxs(Ue,{className:"w-full bg-cyber-green hover:bg-cyber-green/80 text-black font-mono",onClick:c,children:[u.jsx(RO,{className:"h-4 w-4 mr-2"}),"Enregistrer les modifications"]})]}),u.jsx(KT,{children:u.jsx(sH,{asChild:!0,children:u.jsx(Ue,{className:"w-full bg-cyber-magenta hover:bg-cyber-magenta/80 text-white font-mono",children:"Fermer"})})})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[e?u.jsxs("div",{className:"flex items-center gap-2 text-cyber-green font-mono text-sm",children:[u.jsx(Na,{className:"h-4 w-4"}),u.jsx("span",{children:"WALLET_CONNECTED"})]}):null,u.jsx(Zv,{})]})]}),u.jsx(aH,{}),u.jsxs("div",{className:"bg-black/90 backdrop-blur-sm rounded-lg p-8 border-2 border-cyber-green/30 shadow-[0_0_20px_rgba(0,255,0,0.2)] mb-20 mt-32 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyber-green/5 via-transparent to-cyber-cyan/5"}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-cyber-green to-transparent opacity-50"}),u.jsxs("div",{className:"flex items-center mb-8 relative z-10",children:[u.jsx("div",{className:"w-3 h-3 bg-cyber-magenta rounded-full mr-2 animate-pulse"}),u.jsx("div",{className:"w-3 h-3 bg-cyber-yellow rounded-full mr-2 animate-pulse",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-3 h-3 bg-cyber-green rounded-full mr-4 animate-pulse",style:{animationDelay:"0.4s"}}),u.jsxs("h2",{className:"text-3xl font-bold text-cyber-green font-mono relative",children:["TUTORIAL.md",u.jsx("div",{className:"absolute -inset-1 bg-cyber-green/20 blur-md -z-10 animate-pulse"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10",children:[u.jsxs("div",{className:"group hover:bg-cyber-yellow/5 p-6 rounded-lg transition-all duration-300 border border-transparent hover:border-cyber-yellow/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyber-yellow/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"flex items-start relative z-10",children:[u.jsx("div",{className:"bg-cyber-yellow text-black font-bold font-mono rounded-lg w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0 shadow-[0_0_10px_rgba(255,255,0,0.5)] group-hover:shadow-[0_0_20px_rgba(255,255,0,0.8)] transition-all duration-300 text-lg",children:"0x1"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"text-gray-300 font-mono group-hover:text-white transition-colors duration-300 text-lg leading-relaxed",children:["Déplacez votre blob avec la souris pour absorber la ",u.jsx("span",{className:"text-cyber-cyan font-bold animate-pulse",children:"FOOD"})," et grossir 🍰"]}),u.jsx("div",{className:"mt-4 h-1 bg-cyber-yellow/20 rounded group-hover:bg-cyber-yellow/40 transition-all duration-300"})]})]})]}),u.jsxs("div",{className:"group hover:bg-cyber-cyan/5 p-6 rounded-lg transition-all duration-300 border border-transparent hover:border-cyber-cyan/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyber-cyan/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"flex items-start relative z-10",children:[u.jsx("div",{className:"bg-cyber-cyan text-black font-bold font-mono rounded-lg w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0 shadow-[0_0_10px_rgba(0,255,255,0.5)] group-hover:shadow-[0_0_20px_rgba(0,255,255,0.8)] transition-all duration-300 text-lg",children:"0x2"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"text-gray-300 font-mono group-hover:text-white transition-colors duration-300 text-lg leading-relaxed",children:["Mangez les joueurs plus petits que vous (au moins ",u.jsx("span",{className:"text-cyber-magenta font-bold animate-pulse",children:"10%"})," plus petits) 🥵"]}),u.jsx("div",{className:"mt-4 h-1 bg-cyber-cyan/20 rounded group-hover:bg-cyber-cyan/40 transition-all duration-300"})]})]})]}),u.jsxs("div",{className:"group hover:bg-cyber-magenta/5 p-6 rounded-lg transition-all duration-300 border border-transparent hover:border-cyber-magenta/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyber-magenta/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"flex items-start relative z-10",children:[u.jsx("div",{className:"bg-cyber-magenta text-black font-bold font-mono rounded-lg w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0 shadow-[0_0_10px_rgba(255,0,255,0.5)] group-hover:shadow-[0_0_20px_rgba(255,0,255,0.8)] transition-all duration-300 text-lg",children:"0x3"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"text-gray-300 font-mono group-hover:text-white transition-colors duration-300 text-lg leading-relaxed",children:["Évitez les ",u.jsx("span",{className:"text-cyber-purple font-bold animate-pulse",children:"RUG_CARPETS"})," violets qui vous feront rétrécir 📉"]}),u.jsx("div",{className:"mt-4 h-1 bg-cyber-magenta/20 rounded group-hover:bg-cyber-magenta/40 transition-all duration-300"})]})]})]}),u.jsxs("div",{className:"group hover:bg-cyber-green/5 p-6 rounded-lg transition-all duration-300 border border-transparent hover:border-cyber-green/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyber-green/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"flex items-start relative z-10",children:[u.jsx("div",{className:"bg-cyber-green text-black font-bold font-mono rounded-lg w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0 shadow-[0_0_10px_rgba(0,255,0,0.5)] group-hover:shadow-[0_0_20px_rgba(0,255,0,0.8)] transition-all duration-300 text-lg",children:"0x4"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"text-gray-300 font-mono group-hover:text-white transition-colors duration-300 text-lg leading-relaxed",children:["Le dernier blob en vie devient le ",u.jsx("span",{className:"text-cyber-yellow font-bold animate-pulse",children:"ULTIMATE_CHAD"})," ! 👑"]}),u.jsx("div",{className:"mt-4 h-1 bg-cyber-green/20 rounded group-hover:bg-cyber-green/40 transition-all duration-300"})]})]})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-cyber-cyan to-transparent opacity-50 animate-pulse"})]}),u.jsxs("div",{className:"text-center",id:"mainnet",children:[u.jsxs(Ue,{onClick:v,className:"bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black font-mono font-bold text-lg px-8 py-6 rounded-none border-2 border-cyber-green shadow-[0_0_20px_rgba(0,255,0,0.5)] hover:shadow-[0_0_30px_rgba(0,255,255,0.7)] transition-all duration-300 transform hover:scale-105",children:[u.jsx(By,{className:"mr-2"}),"> ENTER_THE_MAINNET"]}),!e&&u.jsx("p",{className:"text-cyber-cyan font-mono text-sm mt-4 animate-terminal-blink",children:"📱 Connectez votre wallet Solana pour commencer"})]})]}),u.jsxs("footer",{className:"relative z-10 mt-20 text-center",children:[u.jsxs("p",{className:"text-gray-500 text-sm font-mono",children:["© 2025 agar3.fun - ",u.jsx("span",{className:"text-cyber-cyan",children:"HODLING"})," since genesis block 🚀"]}),u.jsx("p",{className:"text-gray-600 text-xs font-mono mt-1",children:"Not financial advice | DYOR | Diamond hands only 💎🙌"})]})]})}var cH="Label",JT=g.forwardRef((t,e)=>u.jsx(dt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JT.displayName=cH;var ZT=JT;const uH=Sc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$l=g.forwardRef(({className:t,...e},n)=>u.jsx(ZT,{ref:n,className:Ce(uH(),t),...e}));$l.displayName=ZT.displayName;const d_=["Brave","Swift","Mighty","Clever","Bold","Quick","Strong","Wise","Fast","Sharp","Bright","Smart","Cool","Epic","Wild","Fire","Ice","Storm","Thunder","Lightning","Shadow","Mystic","Magic","Cyber","Neon","Plasma","Quantum","Digital","Ultra","Mega"],f_=["Warrior","Hunter","Knight","Wizard","Ninja","Samurai","Ranger","Guardian","Champion","Hero","Legend","Master","Ace","Star","Wolf","Eagle","Tiger","Dragon","Phoenix","Falcon","Lion","Blob","Sphere","Orb","Node","Core","Unit","Entity","Agent"];function dH(){const t=d_[Math.floor(Math.random()*d_.length)],e=f_[Math.floor(Math.random()*f_.length)],n=Math.floor(Math.random()*999)+1;return`${t}${e}${n}`}const h_=["blue","red","green","yellow","purple","orange","cyan","pink"];function fH(){return h_[Math.floor(Math.random()*h_.length)]}const hH=["blue","red","green","yellow","purple","orange","cyan","pink"];function gp(){const{player:t,setPlayerDetails:e}=zr(),[n,r]=g.useState((t==null?void 0:t.name)||""),[s,o]=g.useState((t==null?void 0:t.color)||"blue"),i=()=>{n.trim()&&e(n.trim(),s)},a=()=>{const c=dH(),d=fH();r(c),o(d)},l=c=>({blue:"#3498db",red:"#e74c3c",green:"#2ecc71",yellow:"#f1c40f",purple:"#9b59b6",orange:"#e67e22",cyan:"#1abc9c",pink:"#fd79a8"})[c];return u.jsxs("div",{className:"space-y-6 p-1",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-cyber-cyan font-mono mb-2",children:"BLOB_PROTOCOL"}),u.jsx("p",{className:"text-gray-400 text-sm font-mono",children:"Configurez votre identité dans l'écosystème agar3.fun"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx($l,{htmlFor:"name",className:"text-cyber-green font-mono",children:"NOM_DU_BLOB"}),u.jsxs("div",{className:"flex gap-2 mt-1",children:[u.jsx(Mm,{id:"name",value:n,onChange:c=>r(c.target.value),placeholder:"Entrez votre nom...",className:"bg-gray-900/50 border-cyber-cyan/30 text-gray-300 font-mono",maxLength:20}),u.jsx(Ue,{variant:"outline",size:"icon",onClick:a,className:"border-cyber-yellow/50 text-cyber-yellow hover:bg-cyber-yellow/10",children:u.jsx(MO,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{children:[u.jsx($l,{className:"text-cyber-green font-mono",children:"COULEUR_PROTOCOL"}),u.jsx("div",{className:"grid grid-cols-4 gap-3 mt-2",children:hH.map(c=>u.jsx("button",{onClick:()=>o(c),className:`w-full h-12 rounded-lg border-2 transition-all duration-200 ${s===c?"border-cyber-green shadow-[0_0_15px_rgba(0,255,0,0.5)]":"border-gray-600 hover:border-cyber-cyan/50"}`,style:{backgroundColor:l(c)}},c))})]}),u.jsx("div",{className:"pt-4",children:u.jsx(Ue,{onClick:i,disabled:!n.trim(),className:"w-full bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black font-mono font-bold",children:"VALIDER_PROTOCOL"})}),t&&u.jsxs("div",{className:"mt-6 p-4 bg-cyber-green/10 rounded-lg border border-cyber-green/30",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full border border-cyber-green/50",style:{backgroundColor:l(t.color)}}),u.jsx("span",{className:"text-cyber-green font-bold font-mono",children:t.name})]}),u.jsx("p",{className:"text-center text-xs text-gray-400 mt-2 font-mono",children:"BLOB_PROTOCOL_ACTIVATED"})]})]})]})}const XT=N1,pH=A1,mH=C1,eI=g.forwardRef(({className:t,...e},n)=>u.jsx(Td,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eI.displayName=Td.displayName;const k1=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(mH,{children:[u.jsx(eI,{}),u.jsxs(Id,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Od,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(vb,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));k1.displayName=Id.displayName;const M1=({className:t,...e})=>u.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});M1.displayName="DialogHeader";const T1=({className:t,...e})=>u.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});T1.displayName="DialogFooter";const I1=g.forwardRef(({className:t,...e},n)=>u.jsx(jd,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",t),...e}));I1.displayName=jd.displayName;const j1=g.forwardRef(({className:t,...e},n)=>u.jsx(Rd,{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));j1.displayName=Rd.displayName;function p_(t,[e,n]){return Math.min(n,Math.max(e,t))}var gH=g.createContext(void 0);function yH(t){const e=g.useContext(gH);return t||e||"ltr"}function vH(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wH=[" ","Enter","ArrowUp","ArrowDown"],bH=[" ","Enter"],Ld="Select",[Tm,Im,xH]=JN(Ld),[Rc,hY]=hd(Ld,[xH,qp]),jm=qp(),[SH,Bi]=Rc(Ld),[EH,_H]=Rc(Ld),tI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:v}=t,m=jm(e),[b,S]=g.useState(null),[x,E]=g.useState(null),[A,k]=g.useState(!1),B=yH(c),[z=!1,U]=Uh({prop:r,defaultProp:s,onChange:o}),[K,V]=Uh({prop:i,defaultProp:a,onChange:l}),q=g.useRef(null),J=b?v||!!b.closest("form"):!0,[D,y]=g.useState(new Set),_=Array.from(D).map(T=>T.props.value).join(";");return u.jsx(sP,{...m,children:u.jsxs(SH,{required:p,scope:e,trigger:b,onTriggerChange:S,valueNode:x,onValueNodeChange:E,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:Rl(),value:K,onValueChange:V,open:z,onOpenChange:U,dir:B,triggerPointerDownPosRef:q,disabled:h,children:[u.jsx(Tm.Provider,{scope:e,children:u.jsx(EH,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(T=>{y(R=>new Set(R).add(T))},[]),onNativeOptionRemove:g.useCallback(T=>{y(R=>{const M=new Set(R);return M.delete(T),M})},[]),children:n})}),J?u.jsxs(AI,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:K,onChange:T=>V(T.target.value),disabled:h,form:v,children:[K===void 0?u.jsx("option",{value:""}):null,Array.from(D)]},_):null]})})};tI.displayName=Ld;var nI="SelectTrigger",rI=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=jm(n),i=Bi(nI,n),a=i.disabled||r,l=At(e,i.onTriggerChange),c=Im(n),d=g.useRef("touch"),[f,h,p]=CI(m=>{const b=c().filter(E=>!E.disabled),S=b.find(E=>E.value===i.value),x=kI(b,m,S);x!==void 0&&i.onValueChange(x.value)}),v=m=>{a||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(oC,{asChild:!0,...o,children:u.jsx(dt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":NI(i.value)?"":void 0,...s,ref:l,onClick:Ye(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:Ye(s.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:Ye(s.onKeyDown,m=>{const b=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(b&&m.key===" ")&&wH.includes(m.key)&&(v(),m.preventDefault())})})})});rI.displayName=nI;var sI="SelectValue",oI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,l=Bi(sI,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=At(e,l.onValueNodeChange);return Gn(()=>{c(d)},[c,d]),u.jsx(dt.span,{...a,ref:f,style:{pointerEvents:"none"},children:NI(l.value)?u.jsx(u.Fragment,{children:i}):o})});oI.displayName=sI;var NH="SelectIcon",iI=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(dt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});iI.displayName=NH;var AH="SelectPortal",aI=t=>u.jsx(Bp,{asChild:!0,...t});aI.displayName=AH;var Ta="SelectContent",lI=g.forwardRef((t,e)=>{const n=Bi(Ta,t.__scopeSelect),[r,s]=g.useState();if(Gn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Co.createPortal(u.jsx(cI,{scope:t.__scopeSelect,children:u.jsx(Tm.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(uI,{...t,ref:e})});lI.displayName=Ta;var es=10,[cI,zi]=Rc(Ta),CH="SelectContentImpl",uI=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:b,...S}=t,x=Bi(Ta,n),[E,A]=g.useState(null),[k,B]=g.useState(null),z=At(e,oe=>A(oe)),[U,K]=g.useState(null),[V,q]=g.useState(null),J=Im(n),[D,y]=g.useState(!1),_=g.useRef(!1);g.useEffect(()=>{if(E)return MT(E)},[E]),bT();const T=g.useCallback(oe=>{const[ue,...we]=J().map(ye=>ye.ref.current),[Te]=we.slice(-1),Se=document.activeElement;for(const ye of oe)if(ye===Se||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ue&&k&&(k.scrollTop=0),ye===Te&&k&&(k.scrollTop=k.scrollHeight),ye==null||ye.focus(),document.activeElement!==Se))return},[J,k]),R=g.useCallback(()=>T([U,E]),[T,U,E]);g.useEffect(()=>{D&&R()},[D,R]);const{onOpenChange:M,triggerPointerDownPosRef:j}=x;g.useEffect(()=>{if(E){let oe={x:0,y:0};const ue=Te=>{var Se,ye;oe={x:Math.abs(Math.round(Te.pageX)-(((Se=j.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((ye=j.current)==null?void 0:ye.y)??0))}},we=Te=>{oe.x<=10&&oe.y<=10?Te.preventDefault():E.contains(Te.target)||M(!1),document.removeEventListener("pointermove",ue),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",we,{capture:!0})}}},[E,M,j]),g.useEffect(()=>{const oe=()=>M(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[M]);const[P,I]=CI(oe=>{const ue=J().filter(Se=>!Se.disabled),we=ue.find(Se=>Se.ref.current===document.activeElement),Te=kI(ue,oe,we);Te&&setTimeout(()=>Te.ref.current.focus())}),w=g.useCallback((oe,ue,we)=>{const Te=!_.current&&!we;(x.value!==void 0&&x.value===ue||Te)&&(K(oe),Te&&(_.current=!0))},[x.value]),O=g.useCallback(()=>E==null?void 0:E.focus(),[E]),G=g.useCallback((oe,ue,we)=>{const Te=!_.current&&!we;(x.value!==void 0&&x.value===ue||Te)&&q(oe)},[x.value]),X=r==="popper"?Xv:dI,ee=X===Xv?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:b}:{};return u.jsx(cI,{scope:n,content:E,viewport:k,onViewportChange:B,itemRefCallback:w,selectedItem:U,onItemLeave:O,itemTextRefCallback:G,focusSelectedItem:R,selectedItemText:V,position:r,isPositioned:D,searchRef:P,children:u.jsx(b1,{as:_a,allowPinchZoom:!0,children:u.jsx(w1,{asChild:!0,trapped:x.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ye(s,oe=>{var ue;(ue=x.trigger)==null||ue.focus({preventScroll:!0}),oe.preventDefault()}),children:u.jsx(pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(X,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:oe=>oe.preventDefault(),...S,...ee,onPlaced:()=>y(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ye(S.onKeyDown,oe=>{const ue=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ue&&oe.key.length===1&&I(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Te=J().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Se=oe.target,ye=Te.indexOf(Se);Te=Te.slice(ye+1)}setTimeout(()=>T(Te)),oe.preventDefault()}})})})})})})});uI.displayName=CH;var kH="SelectItemAlignedPosition",dI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Bi(Ta,n),i=zi(Ta,n),[a,l]=g.useState(null),[c,d]=g.useState(null),f=At(e,z=>d(z)),h=Im(n),p=g.useRef(!1),v=g.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:S,focusSelectedItem:x}=i,E=g.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&b&&S){const z=o.trigger.getBoundingClientRect(),U=c.getBoundingClientRect(),K=o.valueNode.getBoundingClientRect(),V=S.getBoundingClientRect();if(o.dir!=="rtl"){const Se=V.left-U.left,ye=K.left-Se,Fe=z.left-ye,se=z.width+Fe,he=Math.max(se,U.width),Ee=window.innerWidth-es,Oe=p_(ye,[es,Math.max(es,Ee-he)]);a.style.minWidth=se+"px",a.style.left=Oe+"px"}else{const Se=U.right-V.right,ye=window.innerWidth-K.right-Se,Fe=window.innerWidth-z.right-ye,se=z.width+Fe,he=Math.max(se,U.width),Ee=window.innerWidth-es,Oe=p_(ye,[es,Math.max(es,Ee-he)]);a.style.minWidth=se+"px",a.style.right=Oe+"px"}const q=h(),J=window.innerHeight-es*2,D=m.scrollHeight,y=window.getComputedStyle(c),_=parseInt(y.borderTopWidth,10),T=parseInt(y.paddingTop,10),R=parseInt(y.borderBottomWidth,10),M=parseInt(y.paddingBottom,10),j=_+T+D+M+R,P=Math.min(b.offsetHeight*5,j),I=window.getComputedStyle(m),w=parseInt(I.paddingTop,10),O=parseInt(I.paddingBottom,10),G=z.top+z.height/2-es,X=J-G,ee=b.offsetHeight/2,oe=b.offsetTop+ee,ue=_+T+oe,we=j-ue;if(ue<=G){const Se=q.length>0&&b===q[q.length-1].ref.current;a.style.bottom="0px";const ye=c.clientHeight-m.offsetTop-m.offsetHeight,Fe=Math.max(X,ee+(Se?O:0)+ye+R),se=ue+Fe;a.style.height=se+"px"}else{const Se=q.length>0&&b===q[0].ref.current;a.style.top="0px";const Fe=Math.max(G,_+m.offsetTop+(Se?w:0)+ee)+we;a.style.height=Fe+"px",m.scrollTop=ue-G+m.offsetTop}a.style.margin=`${es}px 0`,a.style.minHeight=P+"px",a.style.maxHeight=J+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,a,c,m,b,S,o.dir,r]);Gn(()=>E(),[E]);const[A,k]=g.useState();Gn(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const B=g.useCallback(z=>{z&&v.current===!0&&(E(),x==null||x(),v.current=!1)},[E,x]);return u.jsx(TH,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:B,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(dt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dI.displayName=kH;var MH="SelectPopperPosition",Xv=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=es,...o}=t,i=jm(n);return u.jsx(iC,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xv.displayName=MH;var[TH,R1]=Rc(Ta,{}),ew="SelectViewport",fI=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=zi(ew,n),i=R1(ew,n),a=At(e,o.onViewportChange),l=g.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Tm.Slot,{scope:n,children:u.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ye(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-es*2,m=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),S=Math.max(m,b);if(S<v){const x=S+p,E=Math.min(v,x),A=x-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});fI.displayName=ew;var hI="SelectGroup",[IH,jH]=Rc(hI),RH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Rl();return u.jsx(IH,{scope:n,id:s,children:u.jsx(dt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});RH.displayName=hI;var pI="SelectLabel",mI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jH(pI,n);return u.jsx(dt.div,{id:s.id,...r,ref:e})});mI.displayName=pI;var yp="SelectItem",[OH,gI]=Rc(yp),yI=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=Bi(yp,n),l=zi(yp,n),c=a.value===r,[d,f]=g.useState(o??""),[h,p]=g.useState(!1),v=At(e,x=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,x,r,s)}),m=Rl(),b=g.useRef("touch"),S=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(OH,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:g.useCallback(x=>{f(E=>E||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(Tm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(dt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Ye(i.onFocus,()=>p(!0)),onBlur:Ye(i.onBlur,()=>p(!1)),onClick:Ye(i.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:Ye(i.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:Ye(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Ye(i.onPointerMove,x=>{var E;b.current=x.pointerType,s?(E=l.onItemLeave)==null||E.call(l):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(i.onPointerLeave,x=>{var E;x.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:Ye(i.onKeyDown,x=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&x.key===" "||(bH.includes(x.key)&&S(),x.key===" "&&x.preventDefault())})})})})});yI.displayName=yp;var uu="SelectItemText",vI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=Bi(uu,n),a=zi(uu,n),l=gI(uu,n),c=_H(uu,n),[d,f]=g.useState(null),h=At(e,S=>f(S),l.onItemTextChange,S=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,S,l.value,l.disabled)}),p=d==null?void 0:d.textContent,v=g.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=c;return Gn(()=>(m(v),()=>b(v)),[m,b,v]),u.jsxs(u.Fragment,{children:[u.jsx(dt.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Co.createPortal(o.children,i.valueNode):null]})});vI.displayName=uu;var wI="SelectItemIndicator",bI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return gI(wI,n).isSelected?u.jsx(dt.span,{"aria-hidden":!0,...r,ref:e}):null});bI.displayName=wI;var tw="SelectScrollUpButton",xI=g.forwardRef((t,e)=>{const n=zi(tw,t.__scopeSelect),r=R1(tw,t.__scopeSelect),[s,o]=g.useState(!1),i=At(e,r.onScrollButtonChange);return Gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(EI,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});xI.displayName=tw;var nw="SelectScrollDownButton",SI=g.forwardRef((t,e)=>{const n=zi(nw,t.__scopeSelect),r=R1(nw,t.__scopeSelect),[s,o]=g.useState(!1),i=At(e,r.onScrollButtonChange);return Gn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(EI,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});SI.displayName=nw;var EI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=zi("SelectScrollButton",n),i=g.useRef(null),a=Im(n),l=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Gn(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(dt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ye(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ye(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ye(s.onPointerLeave,()=>{l()})})}),LH="SelectSeparator",_I=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(dt.div,{"aria-hidden":!0,...r,ref:e})});_I.displayName=LH;var rw="SelectArrow",PH=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jm(n),o=Bi(rw,n),i=zi(rw,n);return o.open&&i.position==="popper"?u.jsx(aC,{...s,...r,ref:e}):null});PH.displayName=rw;function NI(t){return t===""||t===void 0}var AI=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),o=At(e,s),i=vH(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[i,n]),u.jsx(md,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});AI.displayName="BubbleSelect";function CI(t){const e=Or(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const a=n.current+i;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function kI(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=DH(t,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function DH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var BH=tI,MI=rI,zH=oI,$H=iI,UH=aI,TI=lI,FH=fI,II=mI,jI=yI,WH=vI,VH=bI,RI=xI,OI=SI,LI=_I;const m_=BH,g_=zH,sw=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(MI,{ref:r,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx($H,{asChild:!0,children:u.jsx(yb,{className:"h-4 w-4 opacity-50"})})]}));sw.displayName=MI.displayName;const PI=g.forwardRef(({className:t,...e},n)=>u.jsx(RI,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(NA,{className:"h-4 w-4"})}));PI.displayName=RI.displayName;const DI=g.forwardRef(({className:t,...e},n)=>u.jsx(OI,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(yb,{className:"h-4 w-4"})}));DI.displayName=OI.displayName;const ow=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(UH,{children:u.jsxs(TI,{ref:s,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(PI,{}),u.jsx(FH,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(DI,{})]})}));ow.displayName=TI.displayName;const HH=g.forwardRef(({className:t,...e},n)=>u.jsx(II,{ref:n,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));HH.displayName=II.displayName;const cl=g.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(jI,{ref:r,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(VH,{children:u.jsx(CO,{className:"h-4 w-4"})})}),u.jsx(WH,{children:e})]}));cl.displayName=jI.displayName;const qH=g.forwardRef(({className:t,...e},n)=>u.jsx(LI,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",t),...e}));qH.displayName=LI.displayName;const R0={classic:"CLASSIC_MODE",battle_royale:"BATTLE_ROYALE"},GH={classic:"Mode classique sans contraintes temporelles",battle_royale:"Zone de combat qui rétrécit toutes les 2 minutes"};function KH({open:t,onOpenChange:e,roomName:n,setRoomName:r,maxPlayers:s,setMaxPlayers:o,handleCreateRoom:i,playerExists:a}){const[l,c]=g.useState(!1),[d,f]=g.useState("classic"),{toast:h}=Ss();zr();const p=n.trim()!==""&&s!==""&&d,v=async()=>{if(!p){h({title:"Formulaire incomplet",description:"Veuillez remplir tous les champs requis.",variant:"destructive"});return}if(l){console.log("Création déjà en cours, évite le double-clic");return}c(!0);try{console.log("Début du processus de création de salle"),console.log(`Nom: ${n}, Max Joueurs: ${s}, Mode: ${d}`),await i(d),console.log("Création de salle terminée avec succès"),h({title:"Salle créée",description:`Votre salle "${n}" (${R0[d]}) a été créée avec succès.`}),setTimeout(()=>{console.log("Fermeture forcée du dialog après 1 seconde"),c(!1)},1e3)}catch(m){console.error("Erreur lors de la création de la salle:",m),h({title:"Erreur",description:"Impossible de créer la salle. Veuillez réessayer.",variant:"destructive"}),c(!1)}};return u.jsxs(XT,{open:t,onOpenChange:m=>{if(l&&!m){console.log("Tentative de fermeture pendant la création bloquée");return}e(m)},children:[u.jsx(pH,{asChild:!0,children:u.jsxs(Ue,{disabled:!a,className:"bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black font-mono font-bold border border-cyber-green/50",children:[u.jsx(CA,{className:"mr-2 h-4 w-4"}),"CREATE_ROOM"]})}),u.jsxs(k1,{className:"sm:max-w-[500px] bg-black/95 backdrop-blur-md border-2 border-cyber-green/50 shadow-[0_0_20px_rgba(0,255,0,0.2)]",children:[u.jsxs(M1,{children:[u.jsx(I1,{className:"text-cyber-green font-mono text-xl",children:"CREATE_NEW_ROOM"}),u.jsxs(j1,{className:"text-gray-400 font-mono",children:["Créez votre propre salle de jeu et invitez d'autres ",u.jsx("span",{className:"text-cyber-cyan",children:"PLAYERS"})," à vous rejoindre"]})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs($l,{htmlFor:"name",className:"text-cyber-cyan font-mono",children:["ROOM_NAME ",u.jsx("span",{className:"text-cyber-magenta",children:"*"})]}),u.jsx(Mm,{id:"name",placeholder:"Entrer le nom de la salle",value:n,onChange:m=>r(m.target.value),className:`bg-black/50 border font-mono ${n.trim()===""?"border-cyber-magenta/50":"border-cyber-cyan/30"} text-cyber-cyan focus:border-cyber-cyan`,autoComplete:"off"}),n.trim()===""&&u.jsx("p",{className:"text-sm text-cyber-magenta font-mono",children:"ROOM_NAME_REQUIRED"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs($l,{htmlFor:"game-mode",className:"text-cyber-cyan font-mono",children:["GAME_MODE ",u.jsx("span",{className:"text-cyber-magenta",children:"*"})]}),u.jsxs(m_,{value:d,onValueChange:m=>f(m),children:[u.jsx(sw,{id:"game-mode",className:"bg-black/50 border border-cyber-cyan/30 text-cyber-cyan font-mono",children:u.jsx(g_,{placeholder:"Sélectionnez le mode de jeu"})}),u.jsx(ow,{className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30",children:Object.keys(R0).map(m=>u.jsx(cl,{value:m,className:"font-mono text-cyber-cyan",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Il,{className:"h-4 w-4"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold",children:R0[m]}),u.jsx("div",{className:"text-xs text-gray-400",children:GH[m]})]})]})},m))})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs($l,{htmlFor:"players",className:"text-cyber-cyan font-mono",children:["MAX_PLAYERS ",u.jsx("span",{className:"text-cyber-magenta",children:"*"})]}),u.jsxs(m_,{value:s,onValueChange:o,children:[u.jsx(sw,{id:"players",className:`bg-black/50 border font-mono ${s===""?"border-cyber-magenta/50":"border-cyber-cyan/30"} text-cyber-cyan`,children:u.jsx(g_,{placeholder:"Sélectionnez le nombre de joueurs"})}),u.jsxs(ow,{className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30",children:[u.jsx(cl,{value:"2",className:"font-mono text-cyber-cyan",children:"2 Players"}),u.jsx(cl,{value:"4",className:"font-mono text-cyber-cyan",children:"4 Players"}),u.jsx(cl,{value:"6",className:"font-mono text-cyber-cyan",children:"6 Players"}),u.jsx(cl,{value:"8",className:"font-mono text-cyber-cyan",children:"8 Players"})]})]}),s===""&&u.jsx("p",{className:"text-sm text-cyber-magenta font-mono",children:"MAX_PLAYERS_REQUIRED"})]})]}),u.jsx(T1,{children:l?u.jsxs(Ue,{disabled:!0,className:"relative bg-cyber-yellow/50 text-black font-mono font-bold",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"CREATING_ROOM..."]}):u.jsxs(Ue,{onClick:v,disabled:!p,className:"bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black font-mono font-bold",children:[u.jsx(wo,{className:"mr-2 h-4 w-4"}),"CREATE"]})})]})]})}function BI({rooms:t,currentRoomId:e,handleJoinRoom:n,handleJoinGame:r}){const{player:s,currentRoom:o,refreshRooms:i,createRoom:a}=zr(),{toast:l}=Ss(),[c,d]=g.useState(!1),[f,h]=g.useState(!1),[p,v]=g.useState(""),[m,b]=g.useState("");g.useEffect(()=>{const k=setInterval(()=>{i()},5e3);return()=>clearInterval(k)},[i]);const S=async()=>{d(!0);try{await i()}finally{d(!1)}},x=async(k="classic")=>{if(!s){l({title:"Erreur",description:"Veuillez configurer votre joueur avant de créer une salle.",variant:"destructive"});return}if(!p.trim()||!m){l({title:"Champs requis",description:"Veuillez remplir tous les champs.",variant:"destructive"});return}try{await a(p.trim(),parseInt(m),k),h(!1),v(""),b(""),l({title:"Salle créée !",description:`La salle "${p}" a été créée avec succès.`})}catch(B){console.error("Error creating room:",B),l({title:"Erreur",description:"Impossible de créer la salle. Veuillez réessayer.",variant:"destructive"})}},E=k=>{switch(k){case"waiting":return"text-cyber-green";case"playing":return"text-cyber-yellow";case"finished":return"text-gray-500";default:return"text-cyber-cyan"}},A=k=>{switch(k){case"waiting":return"EN_ATTENTE";case"playing":return"EN_COURS";case"finished":return"TERMINÉ";default:return k.toUpperCase()}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-cyber-cyan font-mono",children:"GAME_ROOMS"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ue,{onClick:S,disabled:c,variant:"outline",size:"sm",className:"font-mono border-cyber-cyan/50 text-cyber-cyan hover:bg-cyber-cyan/10",children:c?"SYNCING...":"REFRESH"}),u.jsx(KH,{open:f,onOpenChange:h,roomName:p,setRoomName:v,maxPlayers:m,setMaxPlayers:b,handleCreateRoom:x,playerExists:!!s})]})]}),o&&u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-green/20 to-cyber-cyan/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm p-4 rounded-lg border-2 border-cyber-green/50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(AA,{className:"h-5 w-5 text-cyber-yellow mr-2"}),u.jsx("h3",{className:"font-bold text-cyber-green font-mono",children:"CURRENT_ROOM"})]}),u.jsx("span",{className:`text-sm font-mono ${E(o.status)}`,children:A(o.status)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-cyber-cyan font-mono",children:[u.jsx("span",{className:"text-gray-400",children:"ROOM:"})," ",o.name]}),u.jsxs("p",{className:"text-cyber-cyan font-mono",children:[u.jsx("span",{className:"text-gray-400",children:"PLAYERS:"})," ",o.players.length,"/",o.maxPlayers]}),u.jsxs("p",{className:"text-cyber-cyan font-mono",children:[u.jsx("span",{className:"text-gray-400",children:"MODE:"})," ",o.gameMode||"classic"]}),o.status==="playing"&&u.jsxs(Ue,{onClick:r,className:"w-full bg-gradient-to-r from-cyber-green to-cyber-cyan text-black font-mono font-bold",children:[u.jsx(By,{className:"mr-2 h-4 w-4"}),"JOIN_GAME"]})]})]})]}),u.jsx("div",{className:"space-y-3",children:t.length===0?u.jsx("div",{className:"text-center py-8",children:u.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-lg border border-cyber-cyan/30",children:[u.jsx(Up,{className:"h-12 w-12 text-cyber-cyan mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"text-gray-400 font-mono",children:"Aucune salle disponible"}),u.jsx("p",{className:"text-gray-500 text-sm font-mono mt-1",children:"Créez une nouvelle salle pour commencer à jouer"})]})}):t.map(k=>u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-cyan/10 to-cyber-magenta/10 rounded-lg blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsx("div",{className:"relative bg-black/60 backdrop-blur-sm p-4 rounded-lg border border-cyber-cyan/30 group-hover:border-cyber-cyan/60 transition-all duration-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("h3",{className:"font-bold text-cyber-cyan font-mono",children:k.name}),u.jsx("span",{className:`text-xs px-2 py-1 rounded font-mono ${E(k.status)} bg-black/50`,children:A(k.status)})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 font-mono",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(yi,{className:"h-4 w-4 mr-1"}),k.players.length,"/",k.maxPlayers]}),u.jsxs("div",{children:["MODE: ",k.gameMode||"classic"]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[k.status==="waiting"&&k.id!==e&&u.jsx(Ue,{onClick:()=>n(k.id),variant:"outline",size:"sm",className:"font-mono border-cyber-green/50 text-cyber-green hover:bg-cyber-green/10",children:"JOIN"}),k.status==="playing"&&u.jsxs(Ue,{onClick:r,variant:"outline",size:"sm",className:"font-mono border-cyber-yellow/50 text-cyber-yellow hover:bg-cyber-yellow/10",children:[u.jsx(By,{className:"h-4 w-4 mr-1"}),"WATCH"]})]})]})})]},k.id))})]})}function YH({currentRoom:t,playerId:e}){const[n,r]=g.useState(!1),[s,o]=g.useState(!1),{leaveRoom:i,refreshCurrentRoom:a}=zr(),{toast:l}=Ss();g.useEffect(()=>{var p;const h=(()=>{if(!t.players)return!1;const v=t.players.filter(S=>S.id===e),m=t.status==="playing"&&t.players.length===1&&v.length===1,b=t.status==="playing"&&t.players.length<=1;return m||b})();r(h),h&&console.log("Ghost room detected:",{roomId:t.id,status:t.status,playerCount:(p=t.players)==null?void 0:p.length,playerId:e})},[t,e]);const c=async()=>{o(!0);try{l({title:"EMERGENCY_CLEANUP",description:"Nettoyage forcé de la salle fantôme en cours..."}),await i(),l({title:"CLEANUP_SUCCESS",description:"Vous avez quitté la salle fantôme avec succès !"})}catch(f){console.error("Error force quitting:",f),l({title:"CLEANUP_ERROR",description:"Impossible de quitter la salle. Essayez de rafraîchir.",variant:"destructive"})}finally{o(!1)}},d=async()=>{try{l({title:"SYNC_REFRESH",description:"Synchronisation forcée en cours..."}),await a(),l({title:"SYNC_SUCCESS",description:"Données synchronisées !"})}catch(f){console.error("Error force refreshing:",f),l({title:"SYNC_ERROR",description:"Erreur lors de la synchronisation.",variant:"destructive"})}};return n?u.jsxs("div",{className:"mb-4 relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/90 backdrop-blur-sm border-2 border-red-500/50 rounded-lg p-4 shadow-[0_0_20px_rgba(255,0,0,0.3)]",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx(TA,{className:"h-5 w-5 text-red-400 animate-pulse"}),u.jsx("h4",{className:"text-red-400 font-mono font-bold",children:"GHOST_ROOM_DETECTED"})]}),u.jsx("p",{className:"text-gray-300 text-sm mb-4 font-mono",children:"Cette salle est en mode fantôme (partie en cours avec 1 seul joueur). Les autres joueurs ont probablement quitté sans synchronisation."}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ue,{onClick:d,variant:"outline",size:"sm",className:"text-yellow-400 border-yellow-400/50 hover:bg-yellow-400/10 font-mono",children:[u.jsx(kA,{className:"h-4 w-4 mr-2"}),"FORCE_SYNC"]}),u.jsxs(Ue,{onClick:c,disabled:s,size:"sm",className:"bg-red-500/20 text-red-400 border border-red-500/50 hover:bg-red-500/30 font-mono",children:[u.jsx(Fp,{className:"h-4 w-4 mr-2"}),s?"QUITTING...":"FORCE_QUIT"]})]})]})]}):null}function QH(t,e=[]){let n=[];function r(o,i){const a=g.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:p,...v}=f,m=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>v,Object.values(v));return u.jsx(m.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||a,v=g.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,JH(s,...e)]}function JH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var O1="Progress",L1=100,[ZH,pY]=QH(O1),[XH,eq]=ZH(O1),zI=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=tq,...i}=t;(s||s===0)&&!y_(s)&&console.error(nq(`${s}`,"Progress"));const a=y_(s)?s:L1;r!==null&&!v_(r,a)&&console.error(rq(`${r}`,"Progress"));const l=v_(r,a)?r:null,c=vp(l)?o(l,a):void 0;return u.jsx(XH,{scope:n,value:l,max:a,children:u.jsx(dt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":vp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":FI(l,a),"data-value":l??void 0,"data-max":a,...i,ref:e})})});zI.displayName=O1;var $I="ProgressIndicator",UI=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=eq($I,n);return u.jsx(dt.div,{"data-state":FI(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});UI.displayName=$I;function tq(t,e){return`${Math.round(t/e*100)}%`}function FI(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function vp(t){return typeof t=="number"}function y_(t){return vp(t)&&!isNaN(t)&&t>0}function v_(t,e){return vp(t)&&!isNaN(t)&&t<=e&&t>=0}function nq(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${L1}\`.`}function rq(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${L1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WI=zI,sq=UI;const VI=g.forwardRef(({className:t,value:e,...n},r)=>u.jsx(WI,{ref:r,className:Ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(sq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));VI.displayName=WI.displayName;function oq({countdown:t,gameStarting:e}){const[n,r]=g.useState(100);return g.useEffect(()=>{if(t>0){const o=(5-t)/5*100;r(o)}},[t]),e?u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-green/30 to-cyber-cyan/30 rounded-full blur-xl animate-pulse"}),u.jsx("div",{className:"relative bg-black/90 border-2 border-cyber-green rounded-full p-8 shadow-[0_0_30px_rgba(0,255,255,0.5)]",children:u.jsx("div",{className:"text-6xl font-mono font-bold text-cyber-green animate-pulse",children:"🚀"})})]}),u.jsx("h2",{className:"text-3xl font-mono font-bold text-cyber-green mb-2 animate-pulse",children:"LAUNCHING_GAME..."}),u.jsx("p",{className:"text-lg text-cyber-cyan font-mono",children:"Navigation automatique en cours !"})]})}):t>0?u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-magenta/30 to-cyber-purple/30 rounded-full blur-xl animate-pulse"}),u.jsx("div",{className:"relative bg-black/90 border-4 border-cyber-magenta rounded-full w-32 h-32 flex items-center justify-center shadow-[0_0_40px_rgba(255,0,255,0.6)]",children:u.jsx("span",{className:"text-6xl font-mono font-bold text-cyber-magenta animate-bounce",children:t})})]}),u.jsx("h2",{className:"text-4xl font-mono font-bold text-cyber-magenta mb-4 animate-pulse",children:"GAME_STARTING"}),u.jsx("div",{className:"w-80 mb-4",children:u.jsx(VI,{value:n,className:"h-3 bg-black/50 border border-cyber-purple/50"})}),u.jsx("p",{className:"text-lg text-cyber-cyan font-mono",children:"Préparez-vous à entrer dans la matrice..."})]})}):null}function iq({currentRoom:t,countdown:e,gameStarting:n,handleToggleReady:r,handleLeaveRoom:s,handleJoinGame:o,handleJoinRoom:i,isCurrentPlayerReady:a,isCurrentPlayerInRoom:l}){var b;const{player:c}=zr(),f=(S=>{switch(console.log("CurrentRoom - Game mode:",S),S==null?void 0:S.toLowerCase().trim()){case"battle_royale":return{text:"BATTLE_ROYALE",color:"text-cyber-purple"};case"classic":return{text:"CLASSIC",color:"text-cyber-green"};default:return console.warn("CurrentRoom - Unknown game mode:",S),{text:"CLASSIC",color:"text-cyber-green"}}})(t.gameMode),h=()=>{if(!t.players||t.players.length===0)return!1;const S=t.players.every(x=>x.isReady);return console.log("CurrentRoom - areAllPlayersReady:",S),console.log("CurrentRoom - Players ready status:",t.players.map(x=>({name:x.name,isReady:x.isReady}))),S},p=()=>t.players&&t.players.length>=t.maxPlayers,v=l(),m=a();return console.log("CurrentRoom - Debug info:"),console.log("CurrentRoom - Player:",c==null?void 0:c.name,c==null?void 0:c.id),console.log("CurrentRoom - Room players:",(b=t.players)==null?void 0:b.map(S=>({id:S.id,name:S.name}))),console.log("CurrentRoom - playerInRoom:",v),console.log("CurrentRoom - playerReady:",m),console.log("CurrentRoom - Room status:",t.status),console.log("CurrentRoom - Game starting:",n),console.log("CurrentRoom - All players ready:",h()),console.log("CurrentRoom - Room is full:",p()),u.jsxs(u.Fragment,{children:[u.jsx(oq,{countdown:e||0,gameStarting:n}),u.jsxs("div",{className:"relative mb-6",children:[c&&t&&u.jsx(YH,{currentRoom:t,playerId:c.id}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-cyan/20 to-cyber-green/20 rounded-lg blur-xl"}),u.jsx("div",{className:"relative bg-black/80 backdrop-blur-sm border-2 border-cyber-cyan/50 rounded-lg p-6 shadow-[0_0_20px_rgba(0,255,255,0.2)]",children:u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-2xl font-bold text-cyber-cyan font-mono mb-2",children:t.name}),u.jsxs("p",{className:"text-gray-300 font-mono",children:[u.jsx(yi,{className:"inline h-4 w-4 mr-1"}),t.players&&t.players.length,"/",t.maxPlayers," nodes •",u.jsx("span",{className:`ml-2 ${t.status==="waiting"?"text-cyber-yellow":t.status==="playing"?"text-cyber-green":"text-gray-400"}`,children:t.status==="waiting"?"WAITING":t.status==="playing"?"PLAYING":"FINISHED"}),u.jsxs("span",{className:`ml-2 ${f.color} font-bold`,children:["• ",f.text]})]})]})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-cyber-cyan font-mono mb-3",children:"CONNECTED_NODES:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:t.players&&t.players.map(S=>u.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-mono border ${S.isReady?"bg-cyber-green/20 text-cyber-green border-cyber-green/50":"bg-black/50 border-cyber-cyan/30 text-gray-300"}`,children:[S.name," ",S.isReady?"✓":"○"]},S.id))}),t.players&&t.players.length>0&&u.jsx("div",{className:"mt-3 p-3 rounded-lg border border-cyber-cyan/30",children:p()?h()?u.jsx("p",{className:"text-cyber-green font-mono text-sm",children:"✓ Salle complète et tous les joueurs sont prêts ! Démarrage automatique..."}):u.jsxs("p",{className:"text-cyber-yellow font-mono text-sm",children:["⏳ Salle complète ! En attente que tous les joueurs soient prêts (",t.players.filter(S=>S.isReady).length,"/",t.players.length,")"]}):u.jsxs("p",{className:"text-cyber-orange font-mono text-sm",children:["⚠️ Il faut ",t.maxPlayers," joueurs pour commencer cette partie (",t.players.length,"/",t.maxPlayers,")"]})})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[v?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs(Ue,{onClick:r,className:`font-mono font-bold ${m?"bg-cyber-yellow/20 text-cyber-yellow border border-cyber-yellow/50 hover:bg-cyber-yellow/30":"bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black border border-cyber-green/50"}`,variant:m?"outline":"default",disabled:n||t.status!=="waiting",children:[u.jsx(wo,{className:"mr-2 h-4 w-4"}),m?"CANCEL_READY":"SET_READY"]}),u.jsxs(Ue,{variant:"outline",onClick:s,className:"font-mono font-bold text-cyber-magenta border-cyber-magenta/50 hover:bg-cyber-magenta/10 hover:border-cyber-magenta",disabled:n,children:[u.jsx(Fp,{className:"mr-2 h-4 w-4"}),"LEAVE_ROOM"]})]}):u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-cyber-cyan font-mono mb-4",children:"Vous n'êtes pas encore dans cette salle"}),u.jsxs(Ue,{onClick:()=>i(t.id),disabled:!t.players||t.players.length>=t.maxPlayers||t.status!=="waiting",className:"w-full bg-gradient-to-r from-cyber-cyan to-cyber-magenta hover:from-cyber-magenta hover:to-cyber-cyan text-black font-mono font-bold border border-cyber-cyan/50",children:[u.jsx(yi,{className:"mr-2 h-4 w-4"}),t.players&&t.players.length>=t.maxPlayers?"ROOM_FULL":"JOIN_ROOM"]})]}),t.status==="playing"&&u.jsxs(Ue,{onClick:o,className:"w-full bg-gradient-to-r from-cyber-green to-cyber-cyan text-black font-mono font-bold",children:[u.jsx(yi,{className:"mr-2 h-4 w-4"}),"JOIN_GAME"]})]})]})})]})]})}const as=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));as.displayName="Card";const ls=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",t),...e}));ls.displayName="CardHeader";const cs=g.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:Ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));cs.displayName="CardTitle";const aq=g.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));aq.displayName="CardDescription";const us=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ce("p-6 pt-0",t),...e}));us.displayName="CardContent";const lq=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",t),...e}));lq.displayName="CardFooter";const cq=Sc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Go({className:t,variant:e,...n}){return u.jsx("div",{className:Ce(cq({variant:e}),t),...n})}const uq=Sc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),HI=g.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:Ce(uq({variant:e}),t),...n}));HI.displayName="Alert";const qI=g.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:Ce("mb-1 font-medium leading-none tracking-tight",t),...e}));qI.displayName="AlertTitle";const GI=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:Ce("text-sm [&_p]:leading-relaxed",t),...e}));GI.displayName="AlertDescription";function dq(){const[t,e]=g.useState(!1),[n,r]=g.useState(null),{toast:s}=Ss(),o=async()=>{if(!t){e(!0),console.log("Déclenchement manuel du nettoyage amélioré...");try{const{data:i,error:a}=await Nt.functions.invoke("cleanup-inactive-rooms",{body:{triggered_by:"manual_enhanced"}});if(a){console.error("Erreur lors du nettoyage:",a),s({title:"Erreur de nettoyage",description:"Impossible d'exécuter le nettoyage automatique.",variant:"destructive"});return}console.log("Résultat du nettoyage amélioré:",i),r(i),(i==null?void 0:i.cleaned)>0||(i==null?void 0:i.ghostPlayersRemoved)>0?s({title:"Nettoyage effectué",description:`${i.cleaned} salle(s) et ${i.ghostPlayersRemoved||0} joueur(s) fantôme(s) supprimé(s).`}):s({title:"Nettoyage terminé",description:"Aucune salle inactive à supprimer."})}catch(i){console.error("Erreur inattendue lors du nettoyage:",i),s({title:"Erreur",description:"Une erreur inattendue s'est produite.",variant:"destructive"})}finally{e(!1)}}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(HI,{className:"border-cyber-green/30 bg-cyber-green/10",children:[u.jsx(cS,{className:"h-4 w-4 text-cyber-green"}),u.jsx(qI,{className:"text-cyber-green font-mono",children:"SUPABASE_CONNECTED"}),u.jsx(GI,{className:"text-cyber-green font-mono",children:"Connexion réussie au système de salles de jeu."})]}),u.jsxs(as,{className:"border-orange-200 bg-orange-50",children:[u.jsx(ls,{className:"pb-3",children:u.jsxs(cs,{className:"flex items-center gap-2 text-orange-800",children:[u.jsx(MA,{className:"h-5 w-5"}),"Panneau d'administration (Amélioré)"]})}),u.jsxs(us,{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx(Ue,{onClick:o,disabled:t,className:"flex items-center gap-2",variant:"outline",children:t?u.jsxs(u.Fragment,{children:[u.jsx(kA,{className:"h-4 w-4 animate-spin"}),"Nettoyage en cours..."]}):u.jsxs(u.Fragment,{children:[u.jsx(wo,{className:"h-4 w-4"}),"Nettoyage amélioré"]})}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Up,{className:"h-4 w-4"}),u.jsx("span",{children:"Nettoyage auto : toutes les 10 min"}),u.jsx(Go,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Amélioré"})]})]}),n&&u.jsxs("div",{className:"border rounded-md p-3 bg-white",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.cleaned>0||n.ghostPlayersRemoved>0?u.jsx(cS,{className:"h-4 w-4 text-green-600"}):u.jsx(kO,{className:"h-4 w-4 text-blue-600"}),u.jsx("span",{className:"font-medium text-sm",children:"Dernier nettoyage amélioré"}),u.jsx(Go,{variant:"outline",className:"text-xs",children:new Date(n.timestamp).toLocaleString("fr-FR")})]}),u.jsx("p",{className:"text-sm text-gray-700 mb-1",children:n.message}),u.jsxs("div",{className:"flex gap-4 text-xs text-gray-600",children:[u.jsxs("span",{children:[u.jsx("strong",{children:"Salles:"})," ",n.cleaned]}),u.jsxs("span",{children:[u.jsx("strong",{children:"Joueurs fantômes:"})," ",n.ghostPlayersRemoved||0]})]}),n.roomNames&&n.roomNames.length>0&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.jsx("span",{className:"font-medium",children:"Salles supprimées :"})," ",n.roomNames.join(", ")]})]}),u.jsxs("div",{className:"text-xs text-gray-500 border-t pt-3",children:[u.jsx("p",{children:u.jsx("strong",{children:"Nettoyage amélioré :"})}),u.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[u.jsx("li",{children:"Supprime automatiquement les joueurs fantômes (inactifs 5+ min)"}),u.jsx("li",{children:"Supprime les salles inactives depuis 30+ minutes (même avec joueurs fantômes)"}),u.jsx("li",{children:"Protège les parties vraiment en cours"}),u.jsx("li",{children:"Nettoyage plus fréquent (toutes les 10 minutes)"})]})]})]})]})]})}const fq=["2qjVVphwN7hb93JeYnSVYZV4BiHpFrZCpNWW9rZezDpx"];function KI(){const{publicKey:t}=Li(),[e,n]=g.useState(!1);if(!(t&&fq.includes(t.toString())))return null;const s=o=>`${o.slice(0,6)}...${o.slice(-4)}`;return u.jsxs(ya,{open:e,onOpenChange:n,children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{variant:"outline",size:"icon",className:"text-gray-600 hover:text-gray-800",title:"Administration",children:u.jsx(zy,{className:"h-4 w-4"})})}),u.jsxs(bi,{className:"w-[500px] sm:w-[600px]",children:[u.jsxs(xi,{className:"mb-6",children:[u.jsxs(Si,{className:"flex items-center gap-2",children:[u.jsx(zy,{className:"h-5 w-5"}),"Administration"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("span",{className:"font-medium",children:"Admin :"})," ",s(t.toString())]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(dq,{}),u.jsxs("div",{className:"border-t pt-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Statistiques"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Autres outils d'administration seront ajoutés ici..."})]})]})]})]})}function hq({currentRoom:t,countdown:e,gameStarting:n,handleToggleReady:r,handleLeaveRoom:s,handleJoinGame:o,handleJoinRoom:i,isCurrentPlayerReady:a,isCurrentPlayerInRoom:l}){var A,k,B;const{player:c}=zr(),[d,f]=g.useState(!1),h=async()=>{if(!d){console.log("MOBILE - Ready button clicked, current state:",a()),console.log("MOBILE - Player in room:",l()),console.log("MOBILE - Current player:",c==null?void 0:c.name,c==null?void 0:c.walletAddress),f(!0);try{await r()}finally{setTimeout(()=>f(!1),1e3)}}},p=async()=>{console.log("MOBILE - Leave room button clicked"),console.log("MOBILE - Player in room:",l()),console.log("MOBILE - Current player:",c==null?void 0:c.name,c==null?void 0:c.walletAddress);try{await s()}catch(z){console.error("MOBILE - Error leaving room:",z)}},m=(z=>{switch(z==null?void 0:z.toLowerCase().trim()){case"battle_royale":return{text:"BATTLE_ROYALE",color:"text-cyber-purple",icon:"⚔️"};case"classic":return{text:"CLASSIC",color:"text-cyber-green",icon:"🎯"};default:return{text:"CLASSIC",color:"text-cyber-green",icon:"🎯"}}})(t.gameMode),b=()=>!t.players||t.players.length===0?!1:t.players.every(z=>z.isReady),S=()=>t.players&&t.players.length>=t.maxPlayers,x=l(),E=a();return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(as,{className:"bg-black/80 backdrop-blur-sm border-cyber-cyan/50",children:[u.jsx(ls,{className:"pb-3",children:u.jsxs(cs,{className:"text-cyber-cyan font-mono text-lg flex items-center justify-between",children:[u.jsx("span",{children:t.name}),u.jsxs("span",{className:`text-sm ${m.color}`,children:[m.icon," ",m.text]})]})}),u.jsxs(us,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm font-mono",children:[u.jsxs("span",{className:"text-gray-300",children:[u.jsx(yi,{className:"inline h-4 w-4 mr-1"}),((A=t.players)==null?void 0:A.length)||0,"/",t.maxPlayers," joueurs"]}),u.jsx("span",{className:`${t.status==="waiting"?"text-cyber-yellow":t.status==="playing"?"text-cyber-green":"text-gray-400"}`,children:t.status==="waiting"?"EN_ATTENTE":t.status==="playing"?"EN_JEU":"TERMINÉ"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-cyber-cyan font-mono mb-2",children:"JOUEURS CONNECTÉS:"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:(k=t.players)==null?void 0:k.map(z=>u.jsx("div",{className:`p-2 rounded-lg text-xs font-mono border ${z.isReady?"bg-cyber-green/20 text-cyber-green border-cyber-green/50":"bg-black/50 border-cyber-cyan/30 text-gray-300"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"truncate",children:z.name}),u.jsx("span",{className:"ml-1",children:z.isReady?"✓":"○"})]})},z.id))})]}),t.players&&t.players.length>0&&u.jsx("div",{className:"p-3 rounded-lg border border-cyber-cyan/30 bg-black/30",children:S()?b()?u.jsx("p",{className:"text-cyber-green font-mono text-xs text-center animate-pulse",children:"✓ Tous prêts ! Démarrage automatique..."}):u.jsxs("p",{className:"text-cyber-yellow font-mono text-xs text-center",children:["⏳ En attente des autres joueurs (",t.players.filter(z=>z.isReady).length,"/",t.players.length," prêts)"]}):u.jsxs("p",{className:"text-cyber-orange font-mono text-xs text-center",children:["⚠️ ",t.maxPlayers-(((B=t.players)==null?void 0:B.length)||0)," joueur(s) manquant(s)"]})})]})]}),u.jsxs("div",{className:"space-y-3",children:[x?u.jsxs(u.Fragment,{children:[u.jsxs(Ue,{onClick:h,className:`w-full font-mono font-bold h-12 transition-all duration-300 ${E?"bg-cyber-yellow/20 text-cyber-yellow border border-cyber-yellow/50 hover:bg-cyber-yellow/30":"bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black border border-cyber-green/50"}`,variant:E?"outline":"default",disabled:n||t.status!=="waiting"||d,children:[d?u.jsx(IO,{className:"mr-2 h-5 w-5 animate-spin"}):u.jsx(wo,{className:"mr-2 h-5 w-5"}),d?"MISE À JOUR...":E?"ANNULER READY":"JE SUIS PRÊT"]}),u.jsxs(Ue,{variant:"outline",onClick:p,className:"w-full h-12 font-mono font-bold text-cyber-magenta border-cyber-magenta/50 hover:bg-cyber-magenta/10 hover:border-cyber-magenta",disabled:n,children:[u.jsx(Fp,{className:"mr-2 h-5 w-5"}),"QUITTER LA SALLE"]})]}):u.jsxs("div",{className:"text-center space-y-3",children:[u.jsx("p",{className:"text-cyber-cyan font-mono text-sm",children:"Vous n'êtes pas dans cette salle"}),u.jsxs(Ue,{onClick:()=>i(t.id),disabled:!t.players||t.players.length>=t.maxPlayers||t.status!=="waiting",className:"w-full h-12 bg-gradient-to-r from-cyber-cyan to-cyber-magenta hover:from-cyber-magenta hover:to-cyber-cyan text-black font-mono font-bold border border-cyber-cyan/50",children:[u.jsx(yi,{className:"mr-2 h-5 w-5"}),t.players&&t.players.length>=t.maxPlayers?"SALLE PLEINE":"REJOINDRE"]})]}),t.status==="playing"&&u.jsxs(Ue,{onClick:o,className:"w-full h-12 bg-gradient-to-r from-cyber-green to-cyber-cyan text-black font-mono font-bold",children:[u.jsx(AA,{className:"mr-2 h-5 w-5"}),"REJOINDRE LA PARTIE"]})]}),n&&e!==null&&e>0&&u.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl font-bold text-cyber-cyan mb-4 animate-pulse",children:e}),u.jsx("p",{className:"text-cyber-green font-mono",children:"DÉMARRAGE DE LA PARTIE..."})]})})]})}function yr(){return yr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yr.apply(null,arguments)}function po(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function P1(t,e=[]){let n=[];function r(o,i){const a=g.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:h,children:p,...v}=f,m=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>v,Object.values(v));return g.createElement(m.Provider,{value:b},p)}function d(f,h){const p=(h==null?void 0:h[t][l])||a,v=g.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,pq(s,...e)]}function pq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function mq(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function YI(...t){return e=>t.forEach(n=>mq(n,e))}function wp(...t){return g.useCallback(YI(...t),t)}const bp=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),o=s.find(yq);if(o){const i=o.props.children,a=s.map(l=>l===o?g.Children.count(i)>1?g.Children.only(null):g.isValidElement(i)?i.props.children:null:l);return g.createElement(iw,yr({},r,{ref:e}),g.isValidElement(i)?g.cloneElement(i,void 0,a):null)}return g.createElement(iw,yr({},r,{ref:e}),n)});bp.displayName="Slot";const iw=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...vq(r,n.props),ref:e?YI(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});iw.displayName="SlotClone";const gq=({children:t})=>g.createElement(g.Fragment,null,t);function yq(t){return g.isValidElement(t)&&t.type===gq}function vq(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function wq(t){const e=t+"CollectionProvider",[n,r]=P1(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:m}=p,b=H.useRef(null),S=H.useRef(new Map).current;return H.createElement(s,{scope:v,itemMap:S,collectionRef:b},m)},a=t+"CollectionSlot",l=H.forwardRef((p,v)=>{const{scope:m,children:b}=p,S=o(a,m),x=wp(v,S.collectionRef);return H.createElement(bp,{ref:x},b)}),c=t+"CollectionItemSlot",d="data-radix-collection-item",f=H.forwardRef((p,v)=>{const{scope:m,children:b,...S}=p,x=H.useRef(null),E=wp(v,x),A=o(c,m);return H.useEffect(()=>(A.itemMap.set(x,{ref:x,...S}),()=>void A.itemMap.delete(x))),H.createElement(bp,{[d]:"",ref:E},b)});function h(p){const v=o(t+"CollectionConsumer",p);return H.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const S=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((A,k)=>S.indexOf(A.ref.current)-S.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,r]}const aw=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},bq=Sw.useId||(()=>{});let xq=0;function QI(t){const[e,n]=g.useState(bq());return aw(()=>{n(r=>r??String(xq++))},[t]),e?`radix-${e}`:""}const Sq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oc=Sq.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?bp:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(a,yr({},i,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function D1(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function JI({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Eq({defaultProp:e,onChange:n}),o=t!==void 0,i=o?t:r,a=D1(n),l=g.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[o,t,s,a]);return[i,l]}function Eq({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),o=D1(e);return g.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}const _q=g.createContext(void 0);function ZI(t){const e=g.useContext(_q);return t||e||"ltr"}const O0="rovingFocusGroup.onEntryFocus",Nq={bubbles:!1,cancelable:!0},B1="RovingFocusGroup",[lw,XI,Aq]=wq(B1),[Cq,ej]=P1(B1,[Aq]),[kq,Mq]=Cq(B1),Tq=g.forwardRef((t,e)=>g.createElement(lw.Provider,{scope:t.__scopeRovingFocusGroup},g.createElement(lw.Slot,{scope:t.__scopeRovingFocusGroup},g.createElement(Iq,yr({},t,{ref:e}))))),Iq=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...d}=t,f=g.useRef(null),h=wp(e,f),p=ZI(o),[v=null,m]=JI({prop:i,defaultProp:a,onChange:l}),[b,S]=g.useState(!1),x=D1(c),E=XI(n),A=g.useRef(!1),[k,B]=g.useState(0);return g.useEffect(()=>{const z=f.current;if(z)return z.addEventListener(O0,x),()=>z.removeEventListener(O0,x)},[x]),g.createElement(kq,{scope:n,orientation:r,dir:p,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(z=>m(z),[m]),onItemShiftTab:g.useCallback(()=>S(!0),[]),onFocusableItemAdd:g.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:g.useCallback(()=>B(z=>z-1),[])},g.createElement(Oc.div,yr({tabIndex:b||k===0?-1:0,"data-orientation":r},d,{ref:h,style:{outline:"none",...t.style},onMouseDown:po(t.onMouseDown,()=>{A.current=!0}),onFocus:po(t.onFocus,z=>{const U=!A.current;if(z.target===z.currentTarget&&U&&!b){const K=new CustomEvent(O0,Nq);if(z.currentTarget.dispatchEvent(K),!K.defaultPrevented){const V=E().filter(_=>_.focusable),q=V.find(_=>_.active),J=V.find(_=>_.id===v),y=[q,J,...V].filter(Boolean).map(_=>_.ref.current);tj(y)}}A.current=!1}),onBlur:po(t.onBlur,()=>S(!1))})))}),jq="RovingFocusGroupItem",Rq=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=t,a=QI(),l=o||a,c=Mq(jq,n),d=c.currentTabStopId===l,f=XI(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return g.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),g.createElement(lw.ItemSlot,{scope:n,id:l,focusable:r,active:s},g.createElement(Oc.span,yr({tabIndex:d?0:-1,"data-orientation":c.orientation},i,{ref:e,onMouseDown:po(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:po(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:po(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=Pq(v,c.orientation,c.dir);if(m!==void 0){v.preventDefault();let S=f().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")S.reverse();else if(m==="prev"||m==="next"){m==="prev"&&S.reverse();const x=S.indexOf(v.currentTarget);S=c.loop?Dq(S,x+1):S.slice(x+1)}setTimeout(()=>tj(S))}})})))}),Oq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Pq(t,e,n){const r=Lq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Oq[r]}function tj(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Dq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Bq=Tq,zq=Rq;function $q(t,e){return g.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const nj=t=>{const{present:e,children:n}=t,r=Uq(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=wp(r.ref,s.ref);return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};nj.displayName="Presence";function Uq(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[a,l]=$q(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Nf(r.current);o.current=a==="mounted"?c:"none"},[a]),aw(()=>{const c=r.current,d=s.current;if(d!==t){const h=o.current,p=Nf(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),aw(()=>{if(e){const c=f=>{const p=Nf(r.current).includes(f.animationName);f.target===e&&p&&Co.flushSync(()=>l("ANIMATION_END"))},d=f=>{f.target===e&&(o.current=Nf(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Nf(t){return(t==null?void 0:t.animationName)||"none"}const rj="Tabs",[Fq,mY]=P1(rj,[ej]),sj=ej(),[Wq,z1]=Fq(rj),Vq=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=ZI(a),[f,h]=JI({prop:r,onChange:s,defaultProp:o});return g.createElement(Wq,{scope:n,baseId:QI(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:l},g.createElement(Oc.div,yr({dir:d,"data-orientation":i},c,{ref:e})))}),Hq="TabsList",qq=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=z1(Hq,n),i=sj(n);return g.createElement(Bq,yr({asChild:!0},i,{orientation:o.orientation,dir:o.dir,loop:r}),g.createElement(Oc.div,yr({role:"tablist","aria-orientation":o.orientation},s,{ref:e})))}),Gq="TabsTrigger",Kq=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=z1(Gq,n),a=sj(n),l=oj(i.baseId,r),c=ij(i.baseId,r),d=r===i.value;return g.createElement(zq,yr({asChild:!0},a,{focusable:!s,active:d}),g.createElement(Oc.button,yr({type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l},o,{ref:e,onMouseDown:po(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:po(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:po(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})))}),Yq="TabsContent",Qq=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,a=z1(Yq,n),l=oj(a.baseId,r),c=ij(a.baseId,r),d=r===a.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),g.createElement(nj,{present:s||d},({present:h})=>g.createElement(Oc.div,yr({"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0},i,{ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0}}),h&&o))});function oj(t,e){return`${t}-trigger-${e}`}function ij(t,e){return`${t}-content-${e}`}const Jq=Vq,aj=qq,lj=Kq,cj=Qq,Zq=Jq,uj=g.forwardRef(({className:t,...e},n)=>u.jsx(aj,{ref:n,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));uj.displayName=aj.displayName;const cw=g.forwardRef(({className:t,...e},n)=>u.jsx(lj,{ref:n,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));cw.displayName=lj.displayName;const uw=g.forwardRef(({className:t,...e},n)=>u.jsx(cj,{ref:n,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));uw.displayName=cj.displayName;function Xq({player:t,connected:e,publicKey:n,handleTestGame:r,handleLocalGame:s,handleZoneBattle:o,isCreatingTestGame:i,formatAddress:a,getColorHex:l,currentRoom:c,rooms:d,countdown:f,gameStarting:h,handleToggleReady:p,handleLeaveRoom:v,handleJoinGame:m,handleJoinRoom:b,isCurrentPlayerReady:S,isCurrentPlayerInRoom:x}){const E=vd();Ss();const[A,k]=g.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 opacity-10",children:u.jsx("div",{className:"grid-background"})}),u.jsx("div",{className:"sticky top-0 z-50 bg-black/90 backdrop-blur-md border-b border-cyber-cyan",children:u.jsxs("div",{className:"flex items-center justify-between p-4",children:[u.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>E("/"),className:"text-cyber-cyan hover:text-cyber-magenta border border-cyber-cyan/30",children:u.jsx(_A,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"relative mr-2",children:u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 397.7 311.7",className:"text-cyber-cyan",fill:"currentColor",children:[u.jsxs("linearGradient",{id:"mobileGradient",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{offset:"0",stopColor:"#00FFF0"}),u.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),u.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#mobileGradient)"}),u.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#mobileGradient)"}),u.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#lobbyGradient)"})]})}),u.jsxs("h1",{className:"text-lg font-pixel text-cyber-cyan",children:["agar",u.jsx("span",{className:"text-cyber-yellow",children:".fun"})]})]}),u.jsxs(ya,{open:A,onOpenChange:k,children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{variant:"ghost",size:"icon",className:"text-cyber-cyan hover:text-cyber-magenta border border-cyber-cyan/30",children:u.jsx(jO,{className:"h-5 w-5"})})}),u.jsxs(bi,{side:"right",className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30 w-80",children:[u.jsx(xi,{className:"mb-6",children:u.jsx(Si,{className:"text-cyber-cyan font-mono",children:"MENU"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(KI,{}),u.jsx(Jv,{className:"w-full"}),e&&n&&u.jsxs(ya,{children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{variant:"ghost",className:`w-full font-mono border ${t?"border-cyber-green/50 text-cyber-green hover:bg-cyber-green/10":"border-cyber-cyan/50 text-cyber-cyan hover:bg-cyber-cyan/10"} bg-black/50 transition-all duration-300`,children:t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 rounded-full mr-2 border",style:{backgroundColor:`#${l(t.color)}`}}),u.jsx("span",{className:"text-sm",children:t.name})]}):u.jsxs(u.Fragment,{children:[u.jsx(wo,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"CONFIGURE_BLOB"})]})})}),u.jsxs(bi,{className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30",children:[u.jsx(xi,{className:"mb-5",children:u.jsx(Si,{className:"text-cyber-cyan font-mono",children:"BLOB_CONFIG"})}),u.jsx(gp,{})]})]})]})]})]})]})}),u.jsxs("div",{className:"p-4 space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-cyber-green font-mono text-sm animate-terminal-blink",children:"> MOBILE_LOBBY_ACTIVE"}),u.jsx("h2",{className:"text-xl font-pixel text-cyber-cyan mt-2",children:"GAME LOBBY"})]}),!e||!n?u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-cyan/20 to-cyber-magenta/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm p-6 rounded-lg border border-cyber-cyan/50 text-center",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyber-cyan to-cyber-blue w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(Na,{className:"text-black",size:20})}),u.jsx("h3",{className:"text-lg font-bold text-cyber-cyan mb-3 font-mono",children:"WALLET_REQUIRED"}),u.jsx("p",{className:"text-gray-300 mb-4 font-mono text-sm",children:"Connectez votre wallet Solana pour continuer."}),u.jsx(Jv,{className:"w-full"})]})]}):t?u.jsxs(Zq,{defaultValue:"multiplayer",className:"w-full",children:[u.jsxs(uj,{className:"grid w-full grid-cols-2 mb-4 bg-black/50 backdrop-blur-sm border border-cyber-cyan/30",children:[u.jsxs(cw,{value:"multiplayer",className:"text-sm py-2 font-mono data-[state=active]:bg-cyber-cyan/20 data-[state=active]:text-cyber-cyan",children:[u.jsx(yi,{className:"mr-1 h-4 w-4"})," MULTI"]}),u.jsxs(cw,{value:"solo",className:"text-sm py-2 font-mono data-[state=active]:bg-cyber-magenta/20 data-[state=active]:text-cyber-magenta",children:[u.jsx(PO,{className:"mr-1 h-4 w-4"})," SOLO"]})]}),u.jsx(uw,{value:"multiplayer",className:"space-y-4",children:c?u.jsx(hq,{currentRoom:c,countdown:f,gameStarting:h,handleToggleReady:p,handleLeaveRoom:v,handleJoinGame:m,handleJoinRoom:b,isCurrentPlayerReady:S,isCurrentPlayerInRoom:x}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-cyan/20 to-cyber-green/20 rounded-lg blur-xl"}),u.jsx("div",{className:"relative bg-black/80 backdrop-blur-sm rounded-lg p-4 border border-cyber-cyan/50",children:u.jsx(BI,{rooms:d,currentRoomId:c==null?void 0:c.id,handleJoinRoom:b,handleJoinGame:m})})]})}),u.jsx(uw,{value:"solo",className:"space-y-4",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-magenta/20 to-cyber-purple/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm rounded-lg p-4 border border-cyber-magenta/50",children:[u.jsx("h2",{className:"text-lg font-bold mb-3 text-cyber-magenta font-mono",children:"SOLO_PROTOCOLS"}),u.jsxs("p",{className:"text-gray-300 mb-4 font-mono text-sm",children:["Lancez une session rapide en solo, sans attendre d'autres ",u.jsx("span",{className:"text-cyber-cyan",children:"NODES"}),"."]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Ue,{onClick:s,className:"w-full bg-gradient-to-r from-cyber-green to-cyber-cyan text-black font-mono font-bold text-sm py-3",children:[u.jsx(Il,{className:"mr-2 h-4 w-4"}),"classic_mode"]}),u.jsxs(Ue,{onClick:o,className:"w-full bg-gradient-to-r from-cyber-purple to-cyber-magenta text-white font-mono font-bold text-sm py-3",children:[u.jsx(Il,{className:"mr-2 h-4 w-4"}),"battle_royale"]})]}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsxs("div",{className:"p-3 bg-cyber-green/10 rounded-lg border border-cyber-green/30",children:[u.jsx("h4",{className:"font-bold text-cyber-green font-mono text-sm mb-1",children:"classic_mode.sol"}),u.jsx("p",{className:"text-xs text-gray-300 font-mono",children:"Jeu en solo classique, idéal pour perfectionner votre technique."})]}),u.jsxs("div",{className:"p-3 bg-cyber-purple/10 rounded-lg border border-cyber-purple/30",children:[u.jsx("h4",{className:"font-bold text-cyber-purple font-mono text-sm mb-1",children:"battle_royale.war"}),u.jsxs("p",{className:"text-xs text-gray-300 font-mono",children:["Mode de survie avec une zone qui rétrécit toutes les 2 minutes. Restez dans la ",u.jsx("span",{className:"text-cyber-green",children:"SAFE_ZONE"})," ou perdez de la taille !"]})]})]})]})]})})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-magenta/20 to-cyber-yellow/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm p-6 rounded-lg border border-cyber-magenta/50 text-center",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyber-magenta to-cyber-purple w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx(wo,{className:"text-black",size:20})}),u.jsx("h3",{className:"text-lg font-bold text-cyber-magenta mb-3 font-mono",children:"BLOB_CONFIG_REQUIRED"}),u.jsxs("p",{className:"text-gray-300 mb-4 font-mono text-sm",children:["Configurez votre ",u.jsx("span",{className:"text-cyber-cyan",children:"BLOB_PROTOCOL"})," pour jouer."]}),u.jsx("div",{className:"mb-4 p-3 bg-cyber-green/10 rounded-lg border border-cyber-green/30",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Na,{className:"h-4 w-4 text-cyber-green"}),u.jsx("span",{className:"text-xs font-medium text-cyber-green font-mono",children:a(n.toString())})]})}),u.jsxs(ya,{children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{className:"w-full bg-gradient-to-r from-cyber-magenta to-cyber-cyan text-black font-mono font-bold",children:"CONFIGURE_BLOB"})}),u.jsxs(bi,{className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30",children:[u.jsx(xi,{className:"mb-5",children:u.jsx(Si,{className:"text-cyber-cyan font-mono",children:"BLOB_CONFIG"})}),u.jsx(gp,{})]})]})]})]}),u.jsxs("div",{className:"bg-black/90 backdrop-blur-sm rounded-lg p-4 border border-cyber-green/30 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyber-green/5 via-transparent to-cyber-cyan/5"}),u.jsxs("div",{className:"flex items-center mb-4 relative z-10",children:[u.jsx("div",{className:"w-2 h-2 bg-cyber-magenta rounded-full mr-2 animate-pulse"}),u.jsx("div",{className:"w-2 h-2 bg-cyber-yellow rounded-full mr-2 animate-pulse",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-2 h-2 bg-cyber-green rounded-full mr-3 animate-pulse",style:{animationDelay:"0.4s"}}),u.jsx("h2",{className:"text-lg font-bold text-cyber-green font-mono",children:"TUTORIAL"})]}),u.jsxs("div",{className:"space-y-3 relative z-10",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-yellow text-black font-bold font-mono rounded w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0 text-xs shadow-[0_0_8px_rgba(255,255,0,0.5)]",children:"1"}),u.jsxs("p",{className:"text-gray-300 font-mono text-xs",children:["Touchez l'écran pour déplacer votre blob et absorber la ",u.jsx("span",{className:"text-cyber-cyan",children:"FOOD"})," 🍰"]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-cyan text-black font-bold font-mono rounded w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0 text-xs shadow-[0_0_8px_rgba(0,255,255,0.5)]",children:"2"}),u.jsx("p",{className:"text-gray-300 font-mono text-xs",children:"Mangez les joueurs plus petits (10% min.) 🥵"})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-magenta text-black font-bold font-mono rounded w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0 text-xs shadow-[0_0_8px_rgba(255,0,255,0.5)]",children:"3"}),u.jsxs("p",{className:"text-gray-300 font-mono text-xs",children:["Évitez les ",u.jsx("span",{className:"text-cyber-purple",children:"RUG_CARPETS"})," violets 📉"]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-green text-black font-bold font-mono rounded w-6 h-6 flex items-center justify-center mr-3 flex-shrink-0 text-xs shadow-[0_0_8px_rgba(0,255,0,0.5)]",children:"4"}),u.jsxs("p",{className:"text-gray-300 font-mono text-xs",children:["Devenez le ",u.jsx("span",{className:"text-cyber-yellow",children:"ULTIMATE_WHALE"})," ! 👑"]})]})]})]})]}),u.jsx("footer",{className:"text-center p-4 mt-8",children:u.jsxs("p",{className:"text-gray-500 text-xs font-mono",children:["© 2025 agar.fun - ",u.jsx("span",{className:"text-cyber-cyan",children:"HODLING"})," since genesis 🚀"]})})]})}const eG=({active:t,onSelect:e})=>u.jsxs("div",{className:"w-full box-border flex border-2 rounded-lg border-cyber-cyan/70 shadow-[0_0_15px_rgba(0,255,255,0.3)] overflow-hidden bg-black/50 backdrop-blur-sm",children:[u.jsx("button",{onClick:()=>e("multiplayer"),className:`flex-1 px-3 md:px-2 py-3 text-center transition-all duration-300 font-mono text-lg hover:bg-cyber-cyan/10 ${t==="multiplayer"?"bg-cyber-cyan/20 text-cyber-cyan border-r border-cyber-cyan/50":"text-gray-400 border-r border-cyber-cyan/30"}`,children:u.jsx("span",{className:"flex items-center justify-center gap-2",children:"👥 MULTIPLAYER"})}),u.jsx("button",{onClick:()=>e("solo"),className:`flex-1 px-3 md:px-2 py-3 text-center transition-all duration-300 font-mono text-lg hover:bg-cyber-magenta/10 ${t==="solo"?"bg-cyber-magenta/20 text-cyber-magenta":"text-gray-400"}`,children:u.jsx("span",{className:"flex items-center justify-center gap-2",children:"👤 SOLO"})})]}),tG=(t={})=>{const{intervalMinutes:e=5,enableLogging:n=!0}=t,r=g.useRef(null),s=async()=>{n&&console.log("Déclenchement automatique du nettoyage amélioré...");try{const{data:o,error:i}=await Nt.functions.invoke("cleanup-inactive-rooms",{body:{triggered_by:"frontend_auto_enhanced"}});if(i){console.error("Erreur lors du nettoyage automatique:",i);return}n&&((o==null?void 0:o.cleaned)>0||(o==null?void 0:o.ghostPlayersRemoved)>0)&&console.log("Nettoyage automatique effectué:",{sallesSuprimées:o.cleaned,sallesFantômes:o.ghostRoomsRemoved,sallesInactives:o.inactiveRoomsRemoved,joueursFantômesSuprimés:o.ghostPlayersRemoved,salles:o.roomNames})}catch(o){console.error("Erreur inattendue lors du nettoyage automatique:",o)}};return g.useEffect(()=>{const o=setTimeout(()=>{s()},3e4);return r.current=setInterval(()=>{s()},e*60*1e3),n&&console.log(`Nettoyage automatique amélioré configuré: toutes les ${e} minutes`),()=>{clearTimeout(o),r.current&&clearInterval(r.current)}},[e,n]),{triggerManualCleanup:s}};function nG(){var P,I;const{player:t,refreshCurrentRoom:e,leaveRoom:n,currentRoom:r,rooms:s,joinRoom:o,joinGame:i,setPlayerReady:a,startGame:l}=zr(),{connected:c,publicKey:d}=Li(),f=vd(),{toast:h}=Ss(),[p,v]=g.useState(!1),[m,b]=g.useState(!1),[S,x]=g.useState("multiplayer"),[E,A]=g.useState(null),[k,B]=g.useState(!1),[z,U]=g.useState(null),K=za();tG({intervalMinutes:10,enableLogging:!0});const V=async()=>{var G,X;if(!r||r.status!=="waiting"||k)return;const w=r.players&&r.players.length>=r.maxPlayers,O=r.players&&r.players.every(ee=>ee.isReady);if(console.log("Auto-start check:",{isRoomFull:w,areAllReady:O,playerCount:(G=r.players)==null?void 0:G.length,maxPlayers:r.maxPlayers,playersReady:(X=r.players)==null?void 0:X.filter(ee=>ee.isReady).length}),w&&O){console.log("Auto-starting game - room is full and all players are ready!");try{await l(),h({title:"DÉMARRAGE_AUTOMATIQUE",description:"Tous les joueurs sont prêts ! La partie démarre dans 5 secondes !"})}catch(ee){console.error("Error auto-starting game:",ee),h({title:"Erreur",description:"Impossible de démarrer automatiquement la partie.",variant:"destructive"})}}};g.useEffect(()=>{r&&V()},[(P=r==null?void 0:r.players)==null?void 0:P.length,(I=r==null?void 0:r.players)==null?void 0:I.map(w=>w.isReady).join(",")]),g.useEffect(()=>{if(!r){A(null),B(!1),U(null);return}if(r.status==="playing"&&z!=="playing"){console.log("Game starting detected, initiating countdown..."),B(!0),A(5);let w=5;const O=setInterval(()=>{w-=1,A(w),w<=0&&(clearInterval(O),console.log("Countdown finished, navigating to game..."),setTimeout(()=>{r!=null&&r.id?f(`/game/${r.id}`):f("/game"),B(!1),A(null)},500))},1e3);return()=>{clearInterval(O)}}U(r.status)},[r==null?void 0:r.status,z,f]),g.useEffect(()=>{(async()=>{if(!m){console.log("Initializing lobby..."),b(!0);try{const O=localStorage.getItem("agar3-fun-game-state");O&&JSON.parse(O).status==="finished"&&(console.log("Found finished game, cleaning up..."),localStorage.removeItem("agar3-fun-game-state"),r&&r.status==="finished"&&await n()),await e(),console.log("Lobby initialization complete")}catch(O){console.error("Error during lobby initialization:",O),localStorage.removeItem("agar3-fun-current-room"),localStorage.removeItem("agar3-fun-game-state")}}})()},[m,r,n,e]);const q=async()=>{if(!t||!r){h({title:"Erreur",description:"Impossible de changer l'état de préparation.",variant:"destructive"});return}try{const w=D(),O=!w;console.log("LOBBY - Ready toggle attempt:",{currentState:w,newState:O,playerName:t.name,playerId:t.id,walletAddress:t.walletAddress,roomId:r.id}),await a(O),await new Promise(X=>setTimeout(X,500)),await e();const G=D();console.log("LOBBY - Ready state after update:",G),G===O?h({title:O?"✅ READY_ACTIVATED":"⏸️ READY_CANCELLED",description:O?"Vous êtes prêt à jouer !":"Vous n'êtes plus prêt."}):(console.warn("LOBBY - Ready state sync failed"),await e())}catch(w){console.error("Error toggling ready state:",w),h({title:"Erreur",description:"Impossible de changer l'état de préparation.",variant:"destructive"})}},J=async()=>{try{await n(),h({title:"ROOM_LEFT",description:"Vous avez quitté la salle."})}catch(w){console.error("Error leaving room:",w),h({title:"Erreur",description:"Impossible de quitter la salle.",variant:"destructive"})}},D=()=>{if(!t||!(r!=null&&r.players))return console.log("LOBBY - isCurrentPlayerReady: No player or no room players"),!1;console.log("LOBBY - Checking if current player is ready:"),console.log("LOBBY - Current player:",{name:t.name,id:t.id,walletAddress:t.walletAddress}),console.log("LOBBY - Room players:",r.players.map(G=>({id:G.id,name:G.name,walletAddress:G.walletAddress,isReady:G.isReady})));const w=r.players.find(G=>{if(t.walletAddress){const ee=G.id===t.walletAddress||G.walletAddress===t.walletAddress;return ee&&console.log(`LOBBY - ✅ Player matched by wallet: ${G.name} (ID: ${G.id})`),ee}const X=G.id===t.id;return X&&console.log(`LOBBY - ✅ Player matched by ID: ${G.name} (ID: ${G.id})`),X}),O=(w==null?void 0:w.isReady)||!1;return console.log("LOBBY - Final ready state:",O,"for player:",w==null?void 0:w.name),O},y=()=>{if(!t||!(r!=null&&r.players))return console.log("LOBBY - isCurrentPlayerInRoom: No player or no room players"),!1;console.log("LOBBY - Checking if current player is in room:"),console.log("LOBBY - Current player:",{name:t.name,id:t.id,walletAddress:t.walletAddress});const w=r.players.some(O=>{if(t.walletAddress){const X=O.id===t.walletAddress||O.walletAddress===t.walletAddress;return X&&console.log(`LOBBY - ✅ Player found in room by wallet: ${O.name} (ID: ${O.id})`),X}const G=O.id===t.id;return G&&console.log(`LOBBY - ✅ Player found in room by ID: ${O.name} (ID: ${O.id})`),G});return console.log("LOBBY - Player in room final result:",w),w},_=async()=>{if(!t){h({title:"ERREUR_SYSTÈME",description:"Veuillez configurer votre BLOB_PROTOCOL avant de lancer le mode test",variant:"destructive"});return}if(!p)try{v(!0),h({title:"SOLO_MODE_ACTIVATED",description:"Préparation du protocole local..."}),setTimeout(()=>{f("/game?local=true"),v(!1)},500)}catch(w){v(!1),console.error("Erreur lors du lancement du mode test:",w),h({title:"PROTOCOL_ERROR",description:"Impossible de démarrer le mode test",variant:"destructive"})}},T=()=>{if(!t){h({title:"BLOB_NOT_CONFIGURED",description:"Veuillez configurer votre BLOB_PROTOCOL avant de créer une partie locale",variant:"destructive"});return}f("/game?local=true")},R=()=>{if(!t){h({title:"ACCESS_DENIED",description:"Configuration BLOB_PROTOCOL requise pour accéder à la ZONE_BATTLE",variant:"destructive"});return}h({title:"ZONE_BATTLE_INITIATED",description:"Préparez-vous pour la bataille dans la zone qui rétrécit !"}),f("/game?local=true&mode=zone")},M=w=>`${w.slice(0,6)}...${w.slice(-4)}`,j=w=>({blue:"3498db",red:"e74c3c",green:"2ecc71",yellow:"f1c40f",purple:"9b59b6",orange:"e67e22",cyan:"1abc9c",pink:"fd79a8"})[w]||"3498db";return K?u.jsx(Xq,{player:t,connected:c,publicKey:d,handleTestGame:_,handleLocalGame:T,handleZoneBattle:R,isCreatingTestGame:p,formatAddress:M,getColorHex:j,currentRoom:r,rooms:s,countdown:E,gameStarting:k,handleToggleReady:q,handleLeaveRoom:J,handleJoinGame:i,handleJoinRoom:o,isCurrentPlayerReady:D,isCurrentPlayerInRoom:y}):u.jsxs("div",{className:"min-h-screen bg-black relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute inset-0 opacity-20",children:u.jsx("div",{className:"grid-background"})}),u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"scan-line"})}),u.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(15)].map((w,O)=>u.jsx("div",{className:"absolute w-1 h-1 bg-cyber-cyan rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*6}s`,animationDuration:`${4+Math.random()*4}s`}},O))})]}),u.jsxs("div",{className:"relative z-10 container mx-auto py-10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>f("/"),className:"text-cyber-cyan hover:text-cyber-magenta hover:bg-cyber-cyan/10 border border-cyber-cyan/30 hover:border-cyber-magenta/50 transition-all duration-300 rounded-none",children:u.jsx(_A,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"relative mr-3",children:[u.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 397.7 311.7",className:"text-cyber-cyan animate-neon-pulse",fill:"currentColor",children:[u.jsxs("linearGradient",{id:"lobbyGradient",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{offset:"0",stopColor:"#00FFF0"}),u.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),u.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#lobbyGradient)"}),u.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#lobbyGradient)"}),u.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6-11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#lobbyGradient)"})]}),u.jsx("div",{className:"absolute inset-0 bg-cyber-cyan/20 rounded-full blur-lg animate-pulse"})]}),u.jsxs("h1",{className:"text-4xl font-pixel text-cyber-cyan tracking-wider animate-neon-pulse",children:["agar3",u.jsx("span",{className:"text-cyber-yellow",children:".fun"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(KI,{}),u.jsx(Zv,{}),c&&d&&u.jsxs(ya,{children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{variant:"ghost",className:`font-mono border ${t?"border-cyber-green/50 text-cyber-green hover:bg-cyber-green/10 hover:border-cyber-green":"border-cyber-cyan/50 text-cyber-cyan hover:bg-cyber-cyan/10 hover:border-cyber-cyan"} bg-black/50 backdrop-blur-sm transition-all duration-300`,children:t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-6 h-6 rounded-full mr-2 border border-cyber-green/30",style:{backgroundColor:`#${j(t.color)}`}}),u.jsx("span",{children:t.name})]}):u.jsxs(u.Fragment,{children:[u.jsx(wo,{className:"w-4 h-4 mr-2"}),"CONFIGURE_BLOB"]})})}),u.jsxs(bi,{className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30",children:[u.jsx(xi,{className:"mb-5",children:u.jsx(Si,{className:"text-cyber-cyan font-mono",children:"BLOB_CONFIGURATION"})}),u.jsx(gp,{})]})]})]})]}),u.jsxs("div",{className:"flex flex-col items-center mb-10",children:[u.jsx("div",{className:"mb-4",children:u.jsx("p",{className:"text-cyber-green font-mono text-lg animate-terminal-blink",children:"> GAME_LOBBY_INITIALIZED"})}),u.jsx("h2",{className:"text-3xl font-pixel text-cyber-cyan mb-3 animate-neon-pulse",children:"MAINNET LOBBY"}),u.jsxs("p",{className:"text-gray-400 max-w-lg text-center font-mono",children:["Connectez votre wallet Solana et configurez votre ",u.jsx("span",{className:"text-cyber-magenta",children:"BLOB_PROTOCOL"})," pour commencer."]})]}),!c||!d?u.jsxs("div",{className:"max-w-md mx-auto relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-cyan/20 to-cyber-magenta/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm p-6 rounded-lg border-2 border-cyber-cyan/50 shadow-[0_0_20px_rgba(0,255,255,0.2)] text-center",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyber-cyan to-cyber-blue w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4 shadow-[0_0_15px_rgba(0,255,255,0.5)]",children:u.jsx(Na,{className:"text-black",size:28})}),u.jsx("h3",{className:"text-xl font-bold text-cyber-cyan mb-4 font-mono",children:"WALLET_CONNECTION_REQUIRED"}),u.jsxs("p",{className:"text-gray-300 mb-6 font-mono text-sm leading-relaxed",children:["Votre adresse wallet Solana sera votre ",u.jsx("span",{className:"text-cyber-yellow",children:"IDENTITÉ_UNIQUE"})," dans le protocole. Connectez votre wallet pour continuer."]}),u.jsx(Zv,{className:"w-full flex justify-center bg-gradient-to-r from-cyber-cyan to-cyber-magenta hover:from-cyber-magenta hover:to-cyber-cyan text-black font-mono font-bold"})]})]}):t?u.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[u.jsx("div",{className:"mb-6 max-w-2xl mx-auto",children:u.jsx(eG,{active:S,onSelect:x})}),S==="multiplayer"?u.jsxs("div",{className:"space-y-6",children:[r&&u.jsx(iq,{currentRoom:r,countdown:E,gameStarting:k,handleToggleReady:q,handleLeaveRoom:J,handleJoinGame:i,handleJoinRoom:o,isCurrentPlayerReady:D,isCurrentPlayerInRoom:y}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-cyan/20 to-cyber-green/20 rounded-lg blur-xl"}),u.jsx("div",{className:"relative bg-black/80 backdrop-blur-sm rounded-lg p-6 border-2 border-cyber-cyan/50 shadow-[0_0_20px_rgba(0,255,255,0.2)]",children:u.jsx(BI,{rooms:s,currentRoomId:r==null?void 0:r.id,handleJoinRoom:o,handleJoinGame:i})})]})]}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-magenta/20 to-cyber-purple/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm rounded-lg p-6 border-2 border-cyber-magenta/50 shadow-[0_0_20px_rgba(255,0,255,0.2)]",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyber-magenta font-mono",children:"SOLO_PROTOCOLS"}),u.jsxs("p",{className:"text-gray-300 mb-6 font-mono",children:["Lancez une session rapide en solo, sans attendre d'autres ",u.jsx("span",{className:"text-cyber-cyan",children:"NODES"}),"."]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 justify-center mt-6",children:[u.jsx(Ue,{onClick:_,disabled:p,className:"bg-gradient-to-r from-cyber-yellow to-cyber-orange hover:from-cyber-orange hover:to-cyber-yellow text-black font-mono font-bold px-6 py-3 text-lg rounded-none border border-cyber-yellow/50 shadow-[0_0_15px_rgba(255,255,0,0.3)] hover:shadow-[0_0_25px_rgba(255,165,0,0.5)] transition-all duration-300",children:p?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-black border-t-transparent"}),"LOADING..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Il,{className:"mr-2"}),"TEST_MODE"]})}),u.jsxs(Ue,{onClick:T,className:"bg-gradient-to-r from-cyber-green to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-green text-black font-mono font-bold px-6 py-3 text-lg rounded-none border border-cyber-green/50 shadow-[0_0_15px_rgba(0,255,0,0.3)] hover:shadow-[0_0_25px_rgba(0,255,255,0.5)] transition-all duration-300",children:[u.jsx(Il,{className:"mr-2"}),"LOCAL_MODE"]}),u.jsxs(Ue,{onClick:R,className:"bg-gradient-to-r from-cyber-purple to-cyber-magenta hover:from-cyber-magenta hover:to-cyber-purple text-white font-mono font-bold px-6 py-3 text-lg rounded-none border border-cyber-purple/50 shadow-[0_0_15px_rgba(128,0,255,0.3)] hover:shadow-[0_0_25px_rgba(255,0,255,0.5)] transition-all duration-300",children:[u.jsx(Il,{className:"mr-2"}),"ZONE_BATTLE"]})]}),u.jsxs("div",{className:"mt-8 space-y-4",children:[u.jsxs("div",{className:"p-4 bg-cyber-yellow/10 rounded-lg border border-cyber-yellow/30",children:[u.jsx("h4",{className:"font-bold text-cyber-yellow font-mono mb-2",children:"TEST_MODE.exe"}),u.jsx("p",{className:"text-sm text-gray-300 font-mono",children:"Session rapide sans contraintes pour tester les mécaniques de base."})]}),u.jsxs("div",{className:"p-4 bg-cyber-green/10 rounded-lg border border-cyber-green/30",children:[u.jsx("h4",{className:"font-bold text-cyber-green font-mono mb-2",children:"LOCAL_MODE.sol"}),u.jsx("p",{className:"text-sm text-gray-300 font-mono",children:"Jeu en solo classique, idéal pour perfectionner votre technique."})]}),u.jsxs("div",{className:"p-4 bg-cyber-purple/10 rounded-lg border border-cyber-purple/30",children:[u.jsx("h4",{className:"font-bold text-cyber-purple font-mono mb-2",children:"ZONE_BATTLE.war"}),u.jsxs("p",{className:"text-sm text-gray-300 font-mono",children:["Mode de survie avec une zone qui rétrécit toutes les 2 minutes. Restez dans la ",u.jsx("span",{className:"text-cyber-green",children:"SAFE_ZONE"})," ou perdez de la taille !"]})]})]})]})]})]}):u.jsxs("div",{className:"max-w-md mx-auto relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-magenta/20 to-cyber-yellow/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/80 backdrop-blur-sm p-6 rounded-lg border-2 border-cyber-magenta/50 shadow-[0_0_20px_rgba(255,0,255,0.2)] text-center",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyber-magenta to-cyber-purple w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4 shadow-[0_0_15px_rgba(255,0,255,0.5)]",children:u.jsx(wo,{className:"text-black",size:28})}),u.jsx("h3",{className:"text-xl font-bold text-cyber-magenta mb-4 font-mono",children:"BLOB_CONFIGURATION_REQUIRED"}),u.jsxs("p",{className:"text-gray-300 mb-4 font-mono text-sm",children:["Votre wallet est connecté ! Maintenant configurez votre ",u.jsx("span",{className:"text-cyber-cyan",children:"BLOB_PROTOCOL"})," pour rejoindre ou créer des parties."]}),u.jsx("div",{className:"mb-4 p-3 bg-cyber-green/10 rounded-lg border border-cyber-green/30",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Na,{className:"h-4 w-4 text-cyber-green"}),u.jsx("span",{className:"text-sm font-medium text-cyber-green font-mono",children:M(d.toString())})]})}),u.jsxs(ya,{children:[u.jsx(va,{asChild:!0,children:u.jsx(Ue,{className:"w-full bg-gradient-to-r from-cyber-magenta to-cyber-cyan hover:from-cyber-cyan hover:to-cyber-magenta text-black font-mono font-bold",children:"CONFIGURE_BLOB_PROTOCOL"})}),u.jsxs(bi,{className:"bg-black/95 backdrop-blur-md border-cyber-cyan/30",children:[u.jsx(xi,{className:"mb-5",children:u.jsx(Si,{className:"text-cyber-cyan font-mono",children:"BLOB_CONFIGURATION"})}),u.jsx(gp,{})]})]})]})]}),u.jsxs("div",{className:"mt-12 relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyber-green/20 to-cyber-cyan/20 rounded-lg blur-xl"}),u.jsxs("div",{className:"relative bg-black/90 backdrop-blur-sm rounded-lg p-8 border-2 border-cyber-green/30 shadow-[0_0_20px_rgba(0,255,0,0.2)]",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx("div",{className:"w-3 h-3 bg-cyber-magenta rounded-full mr-2 animate-pulse"}),u.jsx("div",{className:"w-3 h-3 bg-cyber-yellow rounded-full mr-2 animate-pulse",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"w-3 h-3 bg-cyber-green rounded-full mr-4 animate-pulse",style:{animationDelay:"0.4s"}}),u.jsx("h2",{className:"text-2xl font-bold text-cyber-green font-mono",children:"PROTOCOL_TUTORIAL.md"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-yellow text-black font-bold font-mono rounded w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0 shadow-[0_0_10px_rgba(255,255,0,0.5)]",children:"0x1"}),u.jsxs("p",{className:"text-gray-300 font-mono text-sm",children:["Déplacez votre blob avec la souris pour absorber la ",u.jsx("span",{className:"text-cyber-cyan",children:"FOOD_DATA"})," et grossir 🍰"]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-cyan text-black font-bold font-mono rounded w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0 shadow-[0_0_10px_rgba(0,255,255,0.5)]",children:"0x2"}),u.jsxs("p",{className:"text-gray-300 font-mono text-sm",children:["Mangez les joueurs plus petits que vous (au moins ",u.jsx("span",{className:"text-cyber-magenta",children:"10%"})," plus petits) 🥵"]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-magenta text-black font-bold font-mono rounded w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0 shadow-[0_0_10px_rgba(255,0,255,0.5)]",children:"0x3"}),u.jsxs("p",{className:"text-gray-300 font-mono text-sm",children:["Évitez les ",u.jsx("span",{className:"text-cyber-purple",children:"RUG_CARPETS"})," violets qui vous feront rétrécir 📉"]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"bg-cyber-green text-black font-bold font-mono rounded w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0 shadow-[0_0_10px_rgba(0,255,0,0.5)]",children:"0x4"}),u.jsxs("p",{className:"text-gray-300 font-mono text-sm",children:["Le dernier blob en vie devient le ",u.jsx("span",{className:"text-cyber-yellow",children:"ULTIMATE_WHALE"})," ! 👑"]})]})]})]})]})]}),u.jsxs("footer",{className:"relative z-10 mt-20 text-center",children:[u.jsxs("p",{className:"text-gray-500 text-sm font-mono",children:["© 2025 agar3.fun - ",u.jsx("span",{className:"text-cyber-cyan",children:"HODLING"})," since genesis block 🚀"]}),u.jsx("p",{className:"text-gray-600 text-xs font-mono mt-1",children:"Not financial advice | DYOR | Diamond hands only 💎🙌"})]})]})}class rG{constructor(e){ke(this,"seed");this.seed=this.hashCode(e)%2147483647,this.seed<=0&&(this.seed+=2147483646)}hashCode(e){let n=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);n=(n<<5)-n+s,n=n&n}return Math.abs(n)}next(){return this.seed=this.seed*16807%2147483647,(this.seed-1)/2147483646}}class kr{static generateSeed(e){return`${e}_${Date.now()}_${Math.random().toString(36).substring(2)}`}static generateMap(e){const n=new rG(e);console.log("Generating map with seed:",e);const r=Array(this.FOOD_COUNT).fill(0).map((i,a)=>({id:`food_${e}_${a}`,x:n.next()*this.GAME_WIDTH,y:n.next()*this.GAME_HEIGHT,size:this.FOOD_SIZE})),s=Array(this.RUG_COUNT).fill(0).map((i,a)=>({id:`rug_${e}_${a}`,x:n.next()*this.GAME_WIDTH,y:n.next()*this.GAME_HEIGHT,size:this.RUG_SIZE})),o=Array(this.MAX_PLAYERS).fill(0).map((i,a)=>{const l=a/this.MAX_PLAYERS*2*Math.PI,c=300,d=this.GAME_WIDTH/2,f=this.GAME_HEIGHT/2;return{x:d+Math.cos(l)*c,y:f+Math.sin(l)*c}});return console.log(`Generated map: ${r.length} foods, ${s.length} rugs, ${o.length} spawn points`),{foods:r,rugs:s,spawnPoints:o}}static getSpawnPoint(e,n){return n<e.length?e[n]:{x:this.GAME_WIDTH/2,y:this.GAME_HEIGHT/2}}}ke(kr,"GAME_WIDTH",3e3),ke(kr,"GAME_HEIGHT",3e3),ke(kr,"FOOD_COUNT",150),ke(kr,"RUG_COUNT",10),ke(kr,"FOOD_SIZE",5),ke(kr,"RUG_SIZE",40),ke(kr,"MAX_PLAYERS",8);class L0{static async initializeGameState(e){console.log("Initializing game state for room:",e);const n=Date.now(),r=Math.random().toString(36).substring(2,15),o=`${e.substring(0,8)}_${n}_${r}`;console.log("Generated unique map seed:",o);const i={mapSeed:o,consumedFoods:[],gameStartTime:n,lastSyncTime:n},{error:a}=await Nt.from("game_rooms").update({game_seed:o,game_state:i}).eq("id",e);if(a)throw console.error("Error initializing game state:",a),a;return console.log("Game state initialized with unique seed:",o),o}static async getGameState(e){console.log("Getting game state for room:",e);const{data:n,error:r}=await Nt.from("game_rooms").select("game_seed, game_state").eq("id",e).single();if(r||!n)return console.error("Error getting game state:",r),null;if(!n.game_seed)return console.log("No game seed found, initializing with unique seed for room:",e),{mapSeed:await this.initializeGameState(e),consumedFoods:[],gameStartTime:Date.now(),lastSyncTime:Date.now()};const s=n.game_state;if(!s||typeof s!="object")return console.warn("Invalid game state found for room:",e,"reinitializing"),{mapSeed:await this.initializeGameState(e),consumedFoods:[],gameStartTime:Date.now(),lastSyncTime:Date.now()};const o={mapSeed:s.mapSeed||n.game_seed,consumedFoods:Array.isArray(s.consumedFoods)?s.consumedFoods:[],gameStartTime:s.gameStartTime||Date.now(),lastSyncTime:s.lastSyncTime||Date.now()};return console.log("Retrieved game state for room:",e,"with seed:",o.mapSeed),o}static async consumeFood(e,n){try{console.log("Consuming food:",n,"in room:",e);const r=await this.getGameState(e);if(!r){console.warn("No game state found for food consumption");return}if(r.consumedFoods.includes(n))console.log("Food already consumed:",n);else{const s={...r,consumedFoods:[...r.consumedFoods,n],lastSyncTime:Date.now()},{error:o}=await Nt.from("game_rooms").update({game_state:s}).eq("id",e);o?console.error("Error updating consumed foods:",o):console.log("Food consumed and synced:",n)}}catch(r){console.error("Error in consumeFood:",r)}}static async syncPlayerSpawn(e,n,r){try{console.log("Syncing player spawn for:",n,"at index:",r);const s=await this.getGameState(e);if(!s){console.error("No game state found for spawn sync");return}const o=kr.generateMap(s.mapSeed),i=kr.getSpawnPoint(o.spawnPoints,r);if(console.log(`Syncing spawn for player ${n} at index ${r}:`,i),isNaN(i.x)||isNaN(i.y)){console.error("Invalid spawn point:",i);return}const{error:a}=await Nt.from("game_room_players").update({x:i.x,y:i.y,size:15,is_alive:!0,last_position_update:new Date().toISOString()}).eq("room_id",e).eq("player_id",n);a?console.error("Error syncing player spawn:",a):console.log(`Player ${n} spawned successfully at:`,i)}catch(s){console.error("Error in syncPlayerSpawn:",s)}}}const sG=400,oG=.75,iG=20;function dj(t){if(!Number.isFinite(t)||t<=0)return 0;const e=Math.sqrt(t),n=sG/Math.pow(e,oG);return Math.max(iG,n)}class Mu{static initSoloBots(e,n,r){const o=[];for(let i=0;i<4;i++){const a={id:`bot-${i}`,walletAddress:`bot-${i}`,name:this.botNames[i%this.botNames.length],color:this.botColors[i%this.botColors.length],size:15,x:Math.random()*(e-200)+100,y:Math.random()*(n-200)+100,isAlive:!0,targetX:0,targetY:0,lastDirectionChange:Date.now(),aggressionLevel:Math.random()*.5+.3,reactionTime:Math.random()*1e3+500};a.targetX=Math.random()*e,a.targetY=Math.random()*n,o.push(a)}return o}static updateSoloBots(e,n,r,s,o,i,a){const l=Date.now(),c=[];return{updatedBots:e.map(f=>{if(!f.isAlive)return f;if(a!=null&&a.isActive&&!this.isInSafeZone(f,a)){const p=a.damagePerSecond*i;if(f.size=Math.max(0,f.size-p),f.size<=0)return f.isAlive=!1,c.push({eliminatedBot:f,type:"zone"}),f}return l-f.lastDirectionChange>f.reactionTime&&(this.updateBotTarget(f,n,r,s,o,a),f.lastDirectionChange=l),this.moveBotTowardsTarget(f,i),f}),eliminationEvents:c}}static updateBotTarget(e,n,r,s,o,i){const a=this.findNearestFood(e,n),l=this.findThreats(e,r),c=this.findPrey(e,r);if(i!=null&&i.isActive&&!this.isInSafeZone(e,i)){e.targetX=i.x,e.targetY=i.y;return}if(l.length>0){this.setAvoidanceTarget(e,l,s,o,i);return}if(c.length>0&&e.aggressionLevel>.6){const d=c[0];if(!(i!=null&&i.isActive)||this.isInSafeZone(d,i)){e.targetX=d.x,e.targetY=d.y;return}}if(a&&(!(i!=null&&i.isActive)||this.isInSafeZone(a,i))){e.targetX=a.x,e.targetY=a.y;return}if(i!=null&&i.isActive){const d=Math.random()*2*Math.PI,f=Math.random()*(i.currentRadius*.8);e.targetX=i.x+Math.cos(d)*f,e.targetY=i.y+Math.sin(d)*f}else e.targetX=Math.random()*s,e.targetY=Math.random()*o}static findNearestFood(e,n){let r=null,s=1/0;return n.forEach(o=>{const i=this.getDistance(e,o);i<s&&i<300&&(s=i,r=o)}),r}static findThreats(e,n){return n.filter(r=>{if(!r.isAlive||r.id===e.id)return!1;const s=this.getDistance(e,r);return r.size>e.size*1.2&&s<150}).sort((r,s)=>this.getDistance(e,r)-this.getDistance(e,s))}static findPrey(e,n){return n.filter(r=>{if(!r.isAlive||r.id===e.id)return!1;const s=this.getDistance(e,r);return e.size>r.size*1.2&&s<200}).sort((r,s)=>this.getDistance(e,r)-this.getDistance(e,s))}static setAvoidanceTarget(e,n,r,s,o){const i=n[0],a=e.x-i.x,l=e.y-i.y,c=Math.sqrt(a*a+l*l);if(c>0){let f=e.x+a/c*200,h=e.y+l/c*200;if(o!=null&&o.isActive&&Math.sqrt((f-o.x)*(f-o.x)+(h-o.y)*(h-o.y))>o.currentRadius*.9){const v=Math.atan2(o.y-e.y,o.x-e.x),m=o.currentRadius*.8;f=o.x+Math.cos(v)*m,h=o.y+Math.sin(v)*m}e.targetX=Math.max(50,Math.min(r-50,f)),e.targetY=Math.max(50,Math.min(s-50,h))}}static moveBotTowardsTarget(e,n){const r=e.targetX-e.x,s=e.targetY-e.y,o=Math.sqrt(r*r+s*s);if(o>5){const i=dj(e.size),a=r/o,l=s/o,c=i*n;e.x+=a*c,e.y+=l*c}}static getDistance(e,n){const r=e.x-n.x,s=e.y-n.y;return Math.sqrt(r*r+s*s)}static isInSafeZone(e,n){return this.getDistance(e,n)<=n.currentRadius}static checkBotCollisions(e,n,r){const s=[...e];let o=[...n];const i=[];s.forEach(a=>{a.isAlive&&(o=o.filter(l=>{const c=a.x-l.x,d=a.y-l.y;return Math.sqrt(c*c+d*d)<a.size?(a.size+=1,!1):!0}),r.forEach(l=>{const c=a.x-l.x,d=a.y-l.y,f=Math.sqrt(c*c+d*d);f<a.size+l.size&&(a.size=Math.max(10,a.size-5),f>0&&(a.x+=c/f*8,a.y+=d/f*8))}))});for(let a=0;a<s.length;a++)for(let l=a+1;l<s.length;l++){const c=s[a],d=s[l];if(!c.isAlive||!d.isAlive)continue;const f=c.x-d.x,h=c.y-d.y;if(Math.sqrt(f*f+h*h)<c.size+d.size)if(c.size>d.size*1.2)d.isAlive=!1,c.size+=d.size/2,i.push({eliminatedBot:d,eliminatorBot:c,type:"bot"});else if(d.size>c.size*1.2)c.isAlive=!1,d.size+=c.size/2,i.push({eliminatedBot:c,eliminatorBot:d,type:"bot"});else{const v=Math.atan2(h,f),m=5;c.x+=Math.cos(v)*m,c.y+=Math.sin(v)*m,d.x-=Math.cos(v)*m,d.y-=Math.sin(v)*m}}return{updatedBots:s,updatedFoods:o,eliminationEvents:i}}}ke(Mu,"botNames",["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Theta","Lambda","Sigma","Omega"]),ke(Mu,"botColors",["red","green","yellow","purple","orange","cyan","pink"]);class Ds{static showEliminationNotification(e){const{eliminatedId:n,eliminatedName:r,eliminatorId:s,eliminatorName:o,type:i,currentPlayerId:a}=e,l=n===a,c=n===a||s===a;let d="elimination";l?d=i==="zone"?"zone":"death":c&&i==="absorption"?d="victory":i==="zone"&&(d="zone"),this.showCyberpunkToast(e,d,c,l)}static showCyberpunkToast(e,n,r,s){const{eliminatedName:o,eliminatorName:i,type:a}=e;YN({variant:n,duration:this.NOTIFICATION_DURATION,description:`${o} ${a==="zone"?"est mort dans la zone":i?`a été éliminé par ${i}`:"a été éliminé"}`})}static getPlayerName(e,n){const r=n.find(s=>s.id===e);return(r==null?void 0:r.name)||e}}ke(Ds,"NOTIFICATION_DURATION",5e3);const w_=(t,e,n)=>{n?Ds.showEliminationNotification({eliminatedId:e.id,eliminatedName:e.name,eliminatorId:t.id,eliminatorName:t.name,type:"absorption",currentPlayerId:t.id}):Ds.showEliminationNotification({eliminatedId:t.id,eliminatedName:t.name,eliminatorId:e.id,eliminatorName:e.name,type:"bot",currentPlayerId:t.id})},aG=t=>{Ds.showEliminationNotification({eliminatedId:t.id,eliminatedName:t.name,type:"zone",currentPlayerId:t.id})},lG=(t,e,n)=>{Ds.showEliminationNotification({eliminatedId:t.id,eliminatedName:t.name,eliminatorId:e.id,eliminatorName:e.name,type:"absorption",currentPlayerId:n})},cG=(t,e)=>{Ds.showEliminationNotification({eliminatedId:t.id,eliminatedName:t.name,type:"zone",currentPlayerId:e})},Yn=3e3,Qn=3e3,uG=5,dG=1,fG=5,b_=150,hG="#333333",pG=12e4,mG=3,gG=.2,P0=1400,yG=.25,vG=2.5,wG=.12,fj=g.forwardRef(({onGameOver:t,isLocalMode:e=!1,localPlayer:n=null,isZoneMode:r=!1,onZoneUpdate:s,onPlayerPositionSync:o,onPlayerInput:i,onPlayerCollision:a,onPlayerElimination:l,getInterpolatedPosition:c,roomId:d},f)=>{const h=g.useRef(null),{currentRoom:p,player:v}=zr(),[m,b]=g.useState([]),[S,x]=g.useState([]),[E,A]=g.useState([]),[k,B]=g.useState([]),[z,U]=g.useState(null),[K,V]=g.useState(null),[q,J]=g.useState(1),[D,y]=g.useState({x:Yn/2,y:Qn/2}),[_,T]=g.useState({x:0,y:0}),[R,M]=g.useState(!1),[j,P]=g.useState(!1),[I,w]=g.useState(Date.now()),[O,G]=g.useState({x:0,y:0}),X=za(),[ee,oe]=g.useState(null),[ue,we]=g.useState(!1),[Te,Se]=g.useState(0),[ye,Fe]=g.useState(0),[se,he]=g.useState(!1);g.useState(!1);const[Ee,Oe]=g.useState(null),[Ze,xt]=g.useState(0),[He,nt]=g.useState(0),[nn,gt]=g.useState(new Map),$e=g.useRef(null),Ct=g.useRef(null),ct=g.useRef(null),L=g.useRef(0),N=e&&!p,C=g.useCallback(ne=>{const re=1/(1+Math.sqrt(ne)/15*.9),Re=1*Math.pow(.85,Math.log(ne/15)),We=(re+Re)/2;return Math.max(yG,Math.min(vG,We))},[]);g.useImperativeHandle(f,()=>({setMobileDirection:ne=>{console.log("Canvas: Setting mobile direction:",ne),oe(ne)},updatePlayerPosition:(ne,me)=>{console.log("Canvas: Updating player position from sync:",ne,me),A(ge=>ge.map(F=>{var re;return F.id===ne&&F.id!==((re=$e.current)==null?void 0:re.id)?{...F,x:me.x,y:me.y,size:me.size}:F}))},eliminatePlayer:(ne,me)=>{var ge;if(console.log("Canvas: Eliminating player from sync:",ne,"by",me),A(F=>F.map(re=>{if(re.id===ne)return console.log(`Canvas: Setting player ${ne} as dead`),{...re,isAlive:!1};if(re.id===me){const Re=F.find(We=>We.id===ne);if(Re){const We=re.size+Re.size/2;return console.log(`Canvas: Player ${me} grew from ${re.size} to ${We}`),{...re,size:We}}}return re})),ne===((ge=$e.current)==null?void 0:ge.id)&&!R){console.log("Canvas: Our player was eliminated, triggering game over"),M(!0);const F=E.find(re=>re.id===me);t(F||null,"absorption")}},addPlayer:ne=>{console.log("Canvas: Adding new player from sync:",ne),A(me=>me.some(F=>F.id===ne.id)?(console.log("Canvas: Player already exists, updating position"),me.map(F=>F.id===ne.id?{...F,x:ne.x,y:ne.y,size:ne.size,isAlive:!0}:F)):(console.log("Canvas: Adding completely new player"),[...me,{...ne,isAlive:!0,x:ne.x||Yn/2,y:ne.y||Qn/2,size:ne.size||15}]))},getOrCreatePlayer:ne=>({setPos:(me,ge)=>{A(F=>F.map(re=>re.id===ne?{...re,x:me,y:ge}:re))},setSize:me=>{A(ge=>ge.map(F=>F.id===ne?{...F,size:me}:F))}})}));const $=ne=>new Promise((me,ge)=>{if(nn.has(ne)){me(nn.get(ne));return}const F=new Image;F.onload=()=>{gt(re=>new Map(re.set(ne,F))),me(F)},F.onerror=ge,F.src=ne}),W=g.useCallback(()=>{if(N&&$e.current){console.log("Canvas: Initializing bots for solo mode");const ne=Mu.initSoloBots(Yn,Qn,$e.current.id);B(ne)}},[N]),Y=g.useCallback(ne=>{N&&B(me=>{const ge=E.filter(Xe=>Xe.isAlive),F=Mu.updateSoloBots(me,m,ge,Yn,Qn,ne,Ee),{updatedBots:re,updatedFoods:Re,eliminationEvents:We}=Mu.checkBotCollisions(F.updatedBots,m,S);return[...F.eliminationEvents,...We].forEach(Xe=>{var ht,rt;Xe.type==="zone"?cG(Xe.eliminatedBot,((ht=$e.current)==null?void 0:ht.id)||""):Xe.type==="bot"&&Xe.eliminatorBot&&lG(Xe.eliminatedBot,Xe.eliminatorBot,((rt=$e.current)==null?void 0:rt.id)||"")}),Re.length!==m.length&&b(Re),re})},[N,E,m,S]),te=()=>{const ne=Date.now();return{x:Yn/2,y:Qn/2,radius:P0,currentRadius:P0,maxRadius:P0,nextShrinkTime:ne+3e4,shrinkDuration:1e4,isActive:!0,shrinkInterval:pG,damagePerSecond:mG,shrinkPercentage:gG}},qe=(ne,me)=>{if(!me.isActive)return!0;const ge=ne.x-me.x,F=ne.y-me.y;return Math.sqrt(ge*ge+F*F)<=me.currentRadius-ne.size},ze=g.useCallback((ne,me)=>{if(!h.current||X)return;const ge=h.current.getBoundingClientRect();T({x:ne-ge.left,y:me-ge.top})},[X]),Ie=g.useCallback(async(ne,me)=>{var ge,F;if(console.log(`Canvas: Player ${ne.name} was eliminated by ${me.name}`),Ds.showEliminationNotification({eliminatedId:ne.id,eliminatedName:ne.name,eliminatorId:me.id,eliminatorName:me.name,type:"absorption",currentPlayerId:(ge=$e.current)==null?void 0:ge.id}),A(re=>re.map(Re=>Re.id===ne.id?{...Re,isAlive:!1}:Re.id===me.id?{...Re,size:me.size+ne.size/2}:Re)),!e)try{a&&await a(ne.id,me.id,ne.size,me.size+ne.size/2),l&&await l(ne.id,me.id),console.log("Canvas: Successfully broadcasted elimination")}catch(re){console.error("Canvas: Error broadcasting elimination:",re)}ne.id===((F=$e.current)==null?void 0:F.id)&&!R&&(console.log("Canvas: Our player was eliminated, triggering game over"),M(!0),t(me,"absorption"))},[e,R,t,a,l]),wt=g.useCallback(async ne=>{!e&&p&&K&&await L0.consumeFood(p.id,ne)},[e,p,K]);g.useEffect(()=>{if(console.log("Canvas: Game initialization check",{gameInitialized:j,isLocalMode:e,localPlayer:!!n,currentRoom:!!p,currentPlayer:!!v,isSoloMode:N}),j){console.log("Canvas: Already initialized, skipping");return}if(Ct.current&&(cancelAnimationFrame(Ct.current),Ct.current=null),!(e?!!n:(p==null?void 0:p.status)==="playing"&&!!v)){console.log("Canvas: Not ready for initialization");return}return console.log("Canvas: Initializing synchronized game with bot support"),(async()=>{let ge=[];if(e&&n){console.log("Canvas: Setting up local player for solo mode:",N),ge=[{...n,x:Yn/2,y:Qn/2,isAlive:!0,size:15}],$e.current=ge[0],n.nftImageUrl&&$(n.nftImageUrl).catch(console.error);const F=kr.generateSeed("local"),re=kr.generateMap(F);U(re),b(re.foods),x(re.rugs),N&&W()}else if(p){console.log("Canvas: Initializing multiplayer game with shared seed");const F=await L0.getGameState(p.id);if(F){console.log("Canvas: Using shared seed:",F.mapSeed),V(F);const re=kr.generateMap(F.mapSeed);U(re);const Re=re.foods.filter(ae=>!F.consumedFoods.includes(ae.id));b(Re),x(re.rugs),console.log(`Canvas: Shared map loaded with ${Re.length}/${re.foods.length} foods`),ge=p.players.map((ae,Xe)=>{const ht=kr.getSpawnPoint(re.spawnPoints,Xe);return console.log(`Canvas: Player ${ae.name} spawning at:`,ht),{...ae,x:ht.x,y:ht.y,isAlive:!0,size:15}});const We=ge.find(ae=>ae.id===(v==null?void 0:v.id));if(We){$e.current=We,console.log("Canvas: Our player initialized:",We);const ae=ge.findIndex(Xe=>Xe.id===(v==null?void 0:v.id));ae>=0&&(console.log("Canvas: Syncing spawn position to database"),await L0.syncPlayerSpawn(p.id,v.id,ae))}ge.forEach(ae=>{ae.nftImageUrl&&$(ae.nftImageUrl).catch(console.error)})}}if(A(ge),console.log("Canvas: Players initialized:",ge.length),r){const F=te();Oe(F),w(Date.now()),xt(Date.now()),console.log("Canvas: Zone Battle initialized with safe zone:",F)}$e.current&&(y({x:$e.current.x,y:$e.current.y}),console.log("Canvas: Camera centered on player at:",$e.current.x,$e.current.y)),P(!0),console.log("Canvas: Game initialization completed successfully")})(),()=>{Ct.current&&(cancelAnimationFrame(Ct.current),Ct.current=null),ct.current&&(cancelAnimationFrame(ct.current),ct.current=null)}},[e,n,p==null?void 0:p.status,v,r,j,d,N,W]),g.useEffect(()=>{if(X)return;const ne=ge=>{ze(ge.clientX,ge.clientY)},me=ge=>{if(!(!N||ge.button!==0||se)&&$e.current&&$e.current.size>=15){const F=Date.now();$e.current.size=Math.max(10,$e.current.size-5),we(!0),Se(F),Fe(F+1e3),he(!0)}};return window.addEventListener("mousemove",ne),window.addEventListener("mousedown",me),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mousedown",me)}},[X,ze,N]),g.useEffect(()=>{if(!j||!$e.current){console.log("Canvas: Game loop not ready");return}console.log("Canvas: Starting synchronized game loop with 50Hz support");const ne=me=>{const ge=Date.now();let F=.016;L.current>0&&(F=(me-L.current)/1e3,F=Math.min(F,.033)),L.current=me,N&&Y(F),r&&Ee&&Oe(re=>{if(!re)return re;let Re={...re};if(ge>=Re.nextShrinkTime){const We=Re.currentRadius*(1-Re.shrinkPercentage);Re={...Re,currentRadius:Math.max(50,We),nextShrinkTime:ge+Re.shrinkInterval},console.log("Canvas: Zone shrunk to radius:",Re.currentRadius)}return Re}),A(re=>{if(re.length===0)return re;const Re=re.findIndex(rt=>{var Ne;return rt.id===((Ne=$e.current)==null?void 0:Ne.id)});if(Re===-1||!re[Re].isAlive)return re;const We=[...re],ae=We[Re];if(r&&Ee&&$e.current){const rt=qe(ae,Ee);!rt&&ge-Ze>=1e3&&(ae.size-=Ee.damagePerSecond,xt(ge),console.log("Canvas: Player took zone damage, size now:",ae.size),ae.size<=0&&(ae.isAlive=!1,ae.size=0,console.log("Canvas: Player died from zone damage"),aG(ae),R||(M(!0),t(null,"zone")))),s&&s(Ee,rt)}if(!ae.isAlive)return We;const Xe=h.current;if(Xe){let rt=dj(ae.size);if(N&&ue&&(rt*=1.5),N&&ue&&ge>=ye&&(we(!1),he(!1)),X&&ee){const Ne=rt*F;ae.x+=ee.x*Ne,ae.y+=ee.y*Ne}else if(!X){const Ne=Xe.width,Ve=Xe.height,kt=D.x-(Ne/2-_.x)/q,Ge=D.y-(Ve/2-_.y)/q;G({x:kt,y:Ge});const at=kt-ae.x,$r=Ge-ae.y,Rt=Math.sqrt(at*at+$r*$r);if(Rt>5){const Jt=at/Rt,Pd=$r/Rt,Zt=rt*F,Ft=Math.min(Zt,Rt);ae.x+=Jt*Ft,ae.y+=Pd*Ft}}ae.x=Math.max(ae.size,Math.min(Yn-ae.size,ae.x)),ae.y=Math.max(ae.size,Math.min(Qn-ae.size,ae.y))}if(!e&&i&&ge-He>20){nt(ge);let rt=0,Ne=0;if(X&&ee)rt=ee.x,Ne=ee.y;else if(!X){const Ve=O.x-ae.x,kt=O.y-ae.y,Ge=Math.sqrt(Ve*Ve+kt*kt);Ge>5&&(rt=Ve/Ge,Ne=kt/Ge)}i(rt,Ne,N&&ue)}if(b(rt=>{const Ne=rt.filter(Ve=>{const kt=ae.x-Ve.x,Ge=ae.y-Ve.y;return Math.sqrt(kt*kt+Ge*Ge)<ae.size?(ae.size+=dG,e||wt(Ve.id),console.log(`Food ${Ve.id} consumed by ${ae.name}`),!1):!0});if(e&&Ne.length<z.foods.length/2){const Ve=z.foods.length-Ne.length,kt=Array(Ve).fill(0).map((Ge,at)=>({id:`respawn_${Date.now()}_${at}`,x:Math.random()*Yn,y:Math.random()*Qn,size:uG}));return[...Ne,...kt]}return Ne}),x(rt=>(rt.forEach(Ne=>{const Ve=ae.x-Ne.x,kt=ae.y-Ne.y,Ge=Math.sqrt(Ve*Ve+kt*kt);if(Ge<ae.size+Ne.size&&(ae.size=Math.max(10,ae.size-fG),Ge>0)){const at=Math.min(10,Ge*.5);ae.x+=Ve/Ge*at,ae.y+=kt/Ge*at,ae.x=Math.max(ae.size,Math.min(Yn-ae.size,ae.x)),ae.y=Math.max(ae.size,Math.min(Qn-ae.size,ae.y))}}),rt)),!e||N){for(let rt=0;rt<We.length;rt++){if(rt===Re||!We[rt].isAlive)continue;const Ne=We[rt],Ve=ae.x-Ne.x,kt=ae.y-Ne.y,Ge=Math.sqrt(Ve*Ve+kt*kt);if(Ge<ae.size+Ne.size)if(ae.size>Ne.size*1.2)console.log(`Canvas: ${ae.name} eliminates ${Ne.name}`),Ie(Ne,ae);else if(Ne.size>ae.size*1.2)console.log(`Canvas: ${Ne.name} eliminates ${ae.name}`),Ie(ae,Ne);else{const at=Math.atan2(kt,Ve),$r=Math.min(5,Ge*.3);ae.x+=Math.cos(at)*$r,ae.y+=Math.sin(at)*$r,ae.x=Math.max(ae.size,Math.min(Yn-ae.size,ae.x)),ae.y=Math.max(ae.size,Math.min(Qn-ae.size,ae.y))}}N&&B(rt=>rt.map(Ne=>{if(!Ne.isAlive)return Ne;const Ve=ae.x-Ne.x,kt=ae.y-Ne.y,Ge=Math.sqrt(Ve*Ve+kt*kt);if(Ge<ae.size+Ne.size)if(ae.size>Ne.size*1.2)Ne.isAlive=!1,ae.size+=Ne.size/2,w_(ae,Ne,!0);else if(Ne.size>ae.size*1.2)ae.isAlive=!1,w_(ae,Ne,!1),R||(M(!0),t(Ne));else{const at=Math.atan2(kt,Ve),$r=Math.min(5,Ge*.3);ae.x+=Math.cos(at)*$r,ae.y+=Math.sin(at)*$r,ae.x=Math.max(ae.size,Math.min(Yn-ae.size,ae.x)),ae.y=Math.max(ae.size,Math.min(Qn-ae.size,ae.y))}return Ne}))}y(rt=>({x:rt.x+(ae.x-rt.x)*.1,y:rt.y+(ae.y-rt.y)*.1}));const ht=C(ae.size);return J(rt=>rt+(ht-rt)*wG),We}),Ct.current=requestAnimationFrame(ne)};return Ct.current=requestAnimationFrame(ne),()=>{Ct.current&&(cancelAnimationFrame(Ct.current),Ct.current=null)}},[j,q,D,_,e,r,Ee,Ze,s,X,ee,Ie,i,He,wt,N,Y,R,t,C,O]),g.useEffect(()=>{const ne=h.current;if(!ne)return;const me=()=>{const F=ne.getBoundingClientRect();ne.width=F.width,ne.height=F.height};me(),window.addEventListener("resize",me);const ge=()=>{const F=ne.getContext("2d");if(F){F.fillStyle="#000000",F.fillRect(0,0,ne.width,ne.height),F.save(),F.translate(ne.width/2,ne.height/2),F.scale(q,q),F.translate(-D.x,-D.y),F.beginPath(),F.strokeStyle="#444",F.lineWidth=4/q,F.strokeRect(0,0,Yn,Qn),F.beginPath(),F.strokeStyle=hG,F.lineWidth=1/q;for(let re=0;re<=Yn;re+=b_)F.moveTo(re,0),F.lineTo(re,Qn);for(let re=0;re<=Qn;re+=b_)F.moveTo(0,re),F.lineTo(Yn,re);F.stroke(),r&&Ee&&Ee.isActive&&(F.beginPath(),F.strokeStyle="#22c55e",F.lineWidth=3/q,F.arc(Ee.x,Ee.y,Ee.currentRadius,0,Math.PI*2),F.stroke(),F.beginPath(),F.strokeStyle="#ef4444",F.lineWidth=6/q,F.setLineDash([10/q,10/q]),F.arc(Ee.x,Ee.y,Ee.currentRadius+20,0,Math.PI*2),F.stroke(),F.setLineDash([]),F.globalCompositeOperation="multiply",F.fillStyle="rgba(239, 68, 68, 0.1)",F.fillRect(0,0,Yn,Qn),F.globalCompositeOperation="destination-out",F.beginPath(),F.arc(Ee.x,Ee.y,Ee.currentRadius,0,Math.PI*2),F.fill(),F.globalCompositeOperation="source-over"),m.forEach(re=>{F.beginPath(),F.fillStyle="#2ecc71",F.arc(re.x,re.y,re.size,0,Math.PI*2),F.fill()}),S.forEach(re=>{F.beginPath(),F.fillStyle="#8e44ad",F.arc(re.x,re.y,re.size,0,Math.PI*2),F.fill()}),E.forEach(re=>{var ae;if(F.save(),re.isAlive||(F.globalAlpha=.3),re.nftImageUrl&&nn.has(re.nftImageUrl)){const Xe=nn.get(re.nftImageUrl);if(Xe){F.beginPath(),F.arc(re.x,re.y,re.size,0,Math.PI*2),F.clip();const ht=re.size*2;F.drawImage(Xe,re.x-re.size,re.y-re.size,ht,ht),F.restore(),F.save(),re.isAlive||(F.globalAlpha=.3),F.beginPath(),F.strokeStyle=re.isAlive?"#ffffff":"#ff0000",F.lineWidth=2/q,F.arc(re.x,re.y,re.size,0,Math.PI*2),F.stroke()}}else F.beginPath(),F.fillStyle=re.isAlive?`#${de(re.color)}`:"#666666",F.arc(re.x,re.y,re.size,0,Math.PI*2),F.fill(),N&&re.id===((ae=$e.current)==null?void 0:ae.id)&&ue&&(F.beginPath(),F.strokeStyle="#ffff00",F.shadowColor="#ffff00",F.shadowBlur=20/q,F.lineWidth=3/q,F.arc(re.x,re.y,re.size+5,0,Math.PI*2),F.stroke(),F.shadowBlur=0);F.font=`${14/q}px Arial`,F.fillStyle=re.isAlive?"#fff":"#999",F.textAlign="center",F.textBaseline="middle",F.strokeStyle="#000",F.lineWidth=3/q;const We=`${re.name} (${Math.round(re.size)})${re.isAlive?"":" [DEAD]"}`;F.strokeText(We,re.x,re.y),F.fillText(We,re.x,re.y),F.restore()}),N&&k.forEach(re=>{if(!re.isAlive)return;F.save(),F.beginPath(),F.fillStyle=`#${de(re.color)}`,F.arc(re.x,re.y,re.size,0,Math.PI*2),F.fill(),F.beginPath(),F.strokeStyle="#ffff00",F.lineWidth=2/q,F.arc(re.x,re.y,re.size,0,Math.PI*2),F.stroke(),F.font=`${12/q}px Arial`,F.fillStyle="#fff",F.textAlign="center",F.textBaseline="middle",F.strokeStyle="#000",F.lineWidth=2/q;const Re=`[BOT] ${re.name} (${Math.round(re.size)})`;F.strokeText(Re,re.x,re.y),F.fillText(Re,re.x,re.y),F.restore()}),F.restore(),ct.current=requestAnimationFrame(ge)}};return ct.current=requestAnimationFrame(ge),()=>{window.removeEventListener("resize",me),ct.current&&(cancelAnimationFrame(ct.current),ct.current=null)}},[E,k,m,S,D,q,r,Ee,nn,N]);const de=ne=>({blue:"3498db",red:"e74c3c",green:"2ecc71",yellow:"f1c40f",purple:"9b59b6",orange:"e67e22",cyan:"1abc9c",pink:"fd79a8"})[ne]||"3498db";return u.jsx("canvas",{ref:h,className:"w-full h-full bg-black",style:{touchAction:"none"}})});fj.displayName="Canvas";const hj=g.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:Ce("w-full caption-bottom text-sm",t),...e})}));hj.displayName="Table";const pj=g.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:Ce("[&_tr]:border-b",t),...e}));pj.displayName="TableHeader";const mj=g.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:Ce("[&_tr:last-child]:border-0",t),...e}));mj.displayName="TableBody";const bG=g.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));bG.displayName="TableFooter";const dw=g.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:Ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));dw.displayName="TableRow";const uh=g.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:Ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));uh.displayName="TableHead";const dh=g.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:Ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));dh.displayName="TableCell";const xG=g.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:Ce("mt-4 text-sm text-muted-foreground",t),...e}));xG.displayName="TableCaption";function SG({players:t,currentPlayerId:e,onPlayerEaten:n}){const[r,s]=g.useState([]),[o,i]=g.useState(!1),{customPhrases:a}=zr(),l=za(),c=g.useMemo(()=>[...t].filter(p=>p.isAlive).sort((p,v)=>v.size-p.size),[t]),d=g.useMemo(()=>t.map(p=>`${p.id}-${p.isAlive}-${Math.floor(p.size)}`).join(","),[t]),f=g.useState(d)[0],h=g.useCallback(p=>{if(!a||a.length===0)return;const m=a[Math.floor(Math.random()*a.length)].replace(/{playerName}/g,p),b={id:`${Date.now()}-${Math.random()}`,message:m,timestamp:Date.now()};s(S=>[...S,b]),setTimeout(()=>{s(S=>S.filter(x=>x.id!==b.id))},3e3)},[a]);return g.useEffect(()=>{f!==d&&t.length>0&&(console.log("Leaderboard: Player state changed, checking for eliminations"),t.filter(v=>!v.isAlive).forEach(v=>{const m=t.find(b=>b.isAlive&&b.id!==v.id&&b.size>20);m&&n&&(console.log(`Leaderboard: ${v.name} eliminated by ${m.name}`),n(v,m)),h(v.name)}))},[d,t,n,h,f]),!t||t.length===0?null:u.jsxs(u.Fragment,{children:[u.jsxs(as,{className:`bg-black/80 backdrop-blur-sm text-white border-gray-700 ${l?"w-full max-w-[200px]":"w-full max-w-xs"}`,children:[u.jsx(ls,{className:`${l?"p-2":"p-3"} ${l?"cursor-pointer":""}`,onClick:l?()=>i(!o):void 0,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(cs,{className:`${l?"text-sm":"text-lg"}`,children:l?"Score":"Classement"}),l&&u.jsx("div",{className:"flex items-center text-xs text-white/70",children:o?u.jsx(yb,{size:16}):u.jsx(NA,{size:16})})]})}),(!l||!o)&&u.jsx(us,{className:"p-0",children:u.jsxs(hj,{children:[u.jsx(pj,{children:u.jsxs(dw,{className:"border-gray-700",children:[u.jsx(uh,{className:`text-white ${l?"p-1 w-6 text-xs":"p-2 w-10"}`,children:"#"}),u.jsx(uh,{className:`text-white ${l?"p-1 text-xs":"p-2"}`,children:l?"Nom":"Joueur"}),u.jsx(uh,{className:`text-white ${l?"p-1 text-xs":"p-2"} text-right`,children:l?"Pts":"Taille"})]})}),u.jsx(mj,{children:(l?c.slice(0,5):c).map((p,v)=>u.jsxs(dw,{className:`border-gray-700 ${p.id===e?"bg-primary/20":""}`,children:[u.jsx(dh,{className:`${l?"p-1 text-xs":"p-2"}`,children:v+1}),u.jsx(dh,{className:`${l?"p-1":"p-2"}`,children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:`${l?"w-2 h-2":"w-3 h-3"} rounded-full`,style:{backgroundColor:`#${EG(p.color)}`}}),u.jsx("span",{className:`${l?"text-xs":""} ${l&&p.name.length>8?"truncate max-w-[60px]":""}`,children:l&&p.name.length>8?p.name.substring(0,8)+"...":p.name})]})}),u.jsx(dh,{className:`${l?"p-1 text-xs":"p-2"} text-right`,children:Math.round(p.size)})]},`${p.id}-${p.isAlive}-${Math.floor(p.size)}`))})]})})]}),u.jsx("div",{className:`fixed ${l?"bottom-16 left-2":"bottom-4 left-4"} z-50 flex flex-col gap-2`,children:r.map(p=>u.jsxs("div",{className:`bg-gradient-to-r from-purple-600 to-blue-500 text-white ${l?"px-2 py-1 text-xs":"px-4 py-2"} rounded-lg shadow-lg animate-fade-in flex items-center gap-2`,children:[u.jsx("span",{className:`${l?"text-lg":"text-2xl"}`,children:"🚀"}),u.jsx("span",{className:`font-bold ${l?"text-xs":""}`,children:p.message})]},p.id))})]})}const EG=t=>({blue:"3498db",red:"e74c3c",green:"2ecc71",yellow:"f1c40f",purple:"9b59b6",orange:"e67e22",cyan:"1abc9c",pink:"fd79a8"})[t]||"3498db",_G=({onDirectionChange:t,onBoostChange:e})=>{const n=za(),r=g.useRef(null),s=g.useRef(null),[o,i]=g.useState(null),[a,l]=g.useState(!1),[c,d]=g.useState(!1);return g.useEffect(()=>{if(!n||!r.current)return;const f=r.current,h=A=>{if(A.preventDefault(),A.touches.length>0){const k=A.touches[0],B=f.getBoundingClientRect();s.current={x:k.clientX-B.left,y:k.clientY-B.top},l(!0),console.log("TouchControlArea: Touch started at:",s.current)}},p=A=>{if(A.preventDefault(),A.touches.length>0&&s.current){const k=A.touches[0],B=f.getBoundingClientRect(),z=k.clientX-B.left,U=k.clientY-B.top,K=z-s.current.x,V=U-s.current.y,q=Math.sqrt(K*K+V*V);if(q>15){const J={x:K/q,y:V/q};console.log("TouchControlArea: Direction change:",J),i(J),t(J)}}},v=A=>{A.preventDefault(),l(!1),console.log("TouchControlArea: Touch ended, keeping direction")};let m=0;const b=A=>{const k=Date.now();k-m<300&&(console.log("TouchControlArea: Double tap detected, stopping movement"),i(null),t(null),l(!1)),m=k};let S=null;const x=A=>{S=setTimeout(()=>{if(e){console.log("TouchControlArea: Long press detected, toggling boost");const k=!c;d(k),e(k)}},500)},E=()=>{S&&(clearTimeout(S),S=null)};return f.addEventListener("touchstart",h,{passive:!1}),f.addEventListener("touchstart",x,{passive:!1}),f.addEventListener("touchmove",p,{passive:!1}),f.addEventListener("touchend",v,{passive:!1}),f.addEventListener("touchend",b,{passive:!1}),f.addEventListener("touchend",E,{passive:!1}),()=>{f.removeEventListener("touchstart",h),f.removeEventListener("touchstart",x),f.removeEventListener("touchmove",p),f.removeEventListener("touchend",v),f.removeEventListener("touchend",b),f.removeEventListener("touchend",E)}},[n,t,e,c]),n?u.jsxs("div",{ref:r,className:`absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-black/30 to-transparent border-t-2 ${c?"border-orange-400":a?"border-green-400":"border-white/20"} flex flex-col items-center justify-center z-20`,style:{touchAction:"none"},children:[u.jsxs("div",{className:"text-white/70 text-sm text-center mb-2",children:[u.jsx("div",{className:"mb-1",children:"Zone de Contrôle"}),u.jsx("div",{className:"text-xs",children:"Glissez pour diriger • Double-tap pour arrêter • Appui long pour boost"}),c&&u.jsx("div",{className:"text-xs text-orange-400 animate-pulse",children:"🚀 BOOST ACTIF"}),o&&u.jsxs("div",{className:"text-xs text-green-400",children:["Direction: ",Math.round(o.x*100),", ",Math.round(o.y*100)]})]}),u.jsxs("div",{className:`w-16 h-16 rounded-full border-2 ${c?"border-orange-400 bg-orange-400/20":a?"border-green-400 bg-green-400/20":"border-white/40 bg-white/10"} flex items-center justify-center transition-colors ${c?"animate-pulse":""}`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full ${c?"bg-orange-400":a?"bg-green-400":"bg-white/60"} transition-colors`}),o&&u.jsx("div",{className:"absolute w-6 h-1 bg-green-400 rounded",style:{transform:`rotate(${Math.atan2(o.y,o.x)*180/Math.PI}deg)`}})]})]}):null};function NG({show:t}){return t?u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute top-0 left-1/4 w-2 h-2 bg-yellow-400 rounded-full animate-bounce opacity-80"}),u.jsx("div",{className:"absolute top-0 right-1/4 w-2 h-2 bg-blue-400 rounded-full animate-bounce opacity-80",style:{animationDelay:"0.2s"}}),u.jsx("div",{className:"absolute top-0 left-1/2 w-2 h-2 bg-red-400 rounded-full animate-bounce opacity-80",style:{animationDelay:"0.4s"}}),u.jsx("div",{className:"absolute top-0 left-3/4 w-2 h-2 bg-green-400 rounded-full animate-bounce opacity-80",style:{animationDelay:"0.6s"}}),u.jsx("div",{className:"absolute top-0 right-1/3 w-2 h-2 bg-purple-400 rounded-full animate-bounce opacity-80",style:{animationDelay:"0.8s"}})]}):null}function AG({isActive:t,onComplete:e}){const[n,r]=g.useState(10);return g.useEffect(()=>{if(t){r(10);const s=setInterval(()=>{r(o=>o<=1?(e(),0):o-1)},1e3);return()=>clearInterval(s)}},[t,e]),u.jsxs("div",{className:"text-center py-4 border-t border-border",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Retour automatique au lobby dans :"}),u.jsxs("div",{className:"text-2xl font-bold text-primary flex items-center justify-center gap-2",children:[u.jsx(Up,{className:"w-5 h-5"}),n,"s"]})]})}function CG({winner:t,gameMode:e,eliminationType:n}){const r=()=>{if(!t||!t.name)return"Partie terminée";const o={multiplayer:[`${t.name} domine totalement !`,`${t.name} écrase la concurrence !`,`${t.name} règne en maître !`,`${t.name} est invincible !`,`${t.name} terrasse ses adversaires !`],zone:[`${t.name} survit à l'apocalypse !`,`${t.name} maîtrise la zone !`,`${t.name} défie les éléments !`,`${t.name} est un survivant !`],local:["Excellent travail !","Performance remarquable !","Tu progresses bien !","Continue comme ça !"]},i=o[e]||o.multiplayer;return i[Math.floor(Math.random()*i.length)]},s=()=>{switch(n){case"absorption":return"Un adversaire a été éliminé par absorption";case"zone":return"L'adversaire n'a pas survécu à la zone mortelle";case"timeout":return"Temps écoulé - victoire par taille";default:return"Victoire éclatante !"}};return u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-xl font-bold text-green-600 mb-2 flex items-center justify-center gap-2",children:["🏆 ",r()," 🏆"]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2 flex items-center justify-center gap-1",children:s()})]})}function kG({winner:t,gameMode:e,gameDuration:n,finalSize:r,eliminationType:s,showConfetti:o}){const i=d=>{const f=Math.floor(d/1e3),h=Math.floor(f/60),p=f%60;return`${h}:${p.toString().padStart(2,"0")}`},a=d=>d?d.name||"Joueur Sans Nom":"Joueur Inconnu",l=d=>!d||!d.name?"??":d.name.substring(0,2).toUpperCase(),c=d=>({blue:"3498db",red:"e74c3c",green:"2ecc71",yellow:"f1c40f",purple:"9b59b6",orange:"e67e22",cyan:"1abc9c",pink:"fd79a8"})[d]||"3498db";return t?u.jsxs("div",{className:"flex flex-col items-center py-6",children:[u.jsxs("div",{className:`w-24 h-24 rounded-full mb-4 bg-game-${t.color||"blue"} flex items-center justify-center relative ${o?"animate-pulse":""}`,style:{backgroundColor:`#${c(t.color||"blue")}`},children:[t.nftImageUrl?u.jsx("img",{src:t.nftImageUrl,alt:a(t),className:"w-full h-full rounded-full object-cover"}):u.jsx("span",{className:"text-white font-bold text-2xl",children:l(t)}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-yellow-400/20 animate-pulse"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(CG,{winner:t,gameMode:e,eliminationType:s}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 my-4 p-4 bg-black/10 rounded-lg",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[u.jsx(LO,{className:"w-4 h-4"}),"Taille finale"]}),u.jsx("div",{className:"font-bold text-lg",children:Math.round(r||t.size||0)})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[u.jsx(Up,{className:"w-4 h-4"}),"Durée"]}),u.jsx("div",{className:"font-bold text-lg",children:i(n)})]})]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2 flex items-center justify-center gap-1",children:u.jsx(wo,{className:"w-4 h-4"})})]})]}):u.jsxs("div",{className:"text-center py-6",children:[u.jsx("p",{className:"text-xl mb-4",children:"🤝"}),u.jsx("p",{className:"text-lg",children:"La partie s'est terminée sans vainqueur"}),n>0&&u.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Durée: ",i(n)]})]})}function MG({open:t,winner:e,onPlayAgain:n,onBackToLobby:r,gameMode:s="multiplayer",gameDuration:o=0,finalSize:i,eliminationType:a="absorption"}){const[l,c]=g.useState(!1);return g.useEffect(()=>{if(t&&e){c(!0);const d=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(d)}},[t,e]),u.jsx(XT,{open:t,onOpenChange:()=>{},children:u.jsxs(k1,{className:"sm:max-w-md relative overflow-hidden",children:[u.jsx(NG,{show:l&&!!e}),e&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/10 via-orange-400/10 to-red-400/10 pointer-events-none"}),u.jsxs(M1,{children:[u.jsxs(I1,{className:"text-2xl text-center flex items-center justify-center gap-2",children:[e&&u.jsx(dS,{className:"w-6 h-6 text-yellow-500"}),e?"VICTOIRE !":"Partie Terminée",e&&u.jsx(dS,{className:"w-6 h-6 text-yellow-500"})]}),u.jsx(j1,{className:"text-lg",children:u.jsx(kG,{winner:e,gameMode:s,gameDuration:o,finalSize:i,eliminationType:a,showConfetti:l})})]}),u.jsx(AG,{isActive:t,onComplete:r}),u.jsx(T1,{children:u.jsxs("div",{className:"flex w-full space-x-4",children:[u.jsx(Ue,{variant:"outline",onClick:r,className:"flex-1",children:"Retour au Lobby"}),u.jsx(Ue,{onClick:n,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600",children:"Rejouer"})]})})]})})}const TG=({safeZone:t,isPlayerInZone:e,timeUntilShrink:n})=>{const r=za(),s=i=>{const a=Math.max(0,Math.floor(i/1e3)),l=Math.floor(a/60),c=a%60;return`${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},o=Math.round(t.currentRadius/t.maxRadius*100);return r?u.jsx("div",{className:"bg-black/90 backdrop-blur-sm p-2 rounded-lg shadow-lg text-white min-w-[140px]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-sm font-bold mb-1 text-yellow-400",children:"Zone"}),u.jsxs("div",{className:"flex justify-between items-center mb-1 text-xs",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-gray-300",children:"Temps"}),u.jsx("span",{className:`font-mono font-bold ${n<3e4?"text-red-400":"text-white"}`,children:s(n)})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-gray-300",children:"Taille"}),u.jsxs("span",{className:`font-bold ${o<30?"text-red-400":o<60?"text-yellow-400":"text-green-400"}`,children:[o,"%"]})]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-green-400":"bg-red-400 animate-pulse"}`}),u.jsx("span",{className:`text-xs font-medium ${e?"text-green-400":"text-red-400"}`,children:e?"Safe":"DANGER"})]}),!e&&u.jsxs("div",{className:"mt-1 text-xs text-red-300 animate-pulse",children:["-",t.damagePerSecond,"/s"]})]})}):u.jsx("div",{className:"bg-black/80 backdrop-blur-sm p-3 rounded-lg shadow-lg text-white min-w-[160px]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-base font-bold mb-2 text-yellow-400",children:"Zone Battle"}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-gray-300",children:"Prochain"}),u.jsx("div",{className:`text-sm font-mono font-bold ${n<3e4?"text-red-400 animate-pulse":"text-white"}`,children:s(n)})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-gray-300",children:"Zone"}),u.jsxs("div",{className:`text-sm font-bold ${o<30?"text-red-400":o<60?"text-yellow-400":"text-green-400"}`,children:[o,"%"]})]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-green-400":"bg-red-400 animate-pulse"}`}),u.jsx("span",{className:`text-sm font-medium ${e?"text-green-400":"text-red-400"}`,children:e?"Zone Safe":"DANGER!"})]}),!e&&u.jsxs("div",{className:"mt-1 text-xs text-red-300 animate-pulse",children:["-",t.damagePerSecond," taille/sec"]})]})})};var gj="AlertDialog",[IG,gY]=hd(gj,[IT]),ko=IT(),yj=t=>{const{__scopeAlertDialog:e,...n}=t,r=ko(e);return u.jsx(N1,{...r,...n,modal:!0})};yj.displayName=gj;var jG="AlertDialogTrigger",vj=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ko(n);return u.jsx(A1,{...s,...r,ref:e})});vj.displayName=jG;var RG="AlertDialogPortal",wj=t=>{const{__scopeAlertDialog:e,...n}=t,r=ko(e);return u.jsx(C1,{...r,...n})};wj.displayName=RG;var OG="AlertDialogOverlay",bj=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ko(n);return u.jsx(Td,{...s,...r,ref:e})});bj.displayName=OG;var Ul="AlertDialogContent",[LG,PG]=IG(Ul),xj=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,o=ko(n),i=g.useRef(null),a=At(e,i),l=g.useRef(null);return u.jsx(eH,{contentName:Ul,titleName:Sj,docsSlug:"alert-dialog",children:u.jsx(LG,{scope:n,cancelRef:l,children:u.jsxs(Id,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:Ye(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(hb,{children:r}),u.jsx(BG,{contentRef:i})]})})})});xj.displayName=Ul;var Sj="AlertDialogTitle",Ej=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ko(n);return u.jsx(jd,{...s,...r,ref:e})});Ej.displayName=Sj;var _j="AlertDialogDescription",Nj=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ko(n);return u.jsx(Rd,{...s,...r,ref:e})});Nj.displayName=_j;var DG="AlertDialogAction",Aj=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ko(n);return u.jsx(Od,{...s,...r,ref:e})});Aj.displayName=DG;var Cj="AlertDialogCancel",kj=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=PG(Cj,n),o=ko(n),i=At(e,s);return u.jsx(Od,{...o,...r,ref:i})});kj.displayName=Cj;var BG=({contentRef:t})=>{const e=`\`${Ul}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ul}\` by passing a \`${_j}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ul}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},zG=yj,$G=vj,UG=wj,Mj=bj,Tj=xj,Ij=Aj,jj=kj,Rj=Ej,Oj=Nj;const FG=zG,WG=$G,VG=UG,Lj=g.forwardRef(({className:t,...e},n)=>u.jsx(Mj,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Lj.displayName=Mj.displayName;const Pj=g.forwardRef(({className:t,...e},n)=>u.jsxs(VG,{children:[u.jsx(Lj,{}),u.jsx(Tj,{ref:n,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Pj.displayName=Tj.displayName;const Dj=({className:t,...e})=>u.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});Dj.displayName="AlertDialogHeader";const Bj=({className:t,...e})=>u.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Bj.displayName="AlertDialogFooter";const zj=g.forwardRef(({className:t,...e},n)=>u.jsx(Rj,{ref:n,className:Ce("text-lg font-semibold",t),...e}));zj.displayName=Rj.displayName;const $j=g.forwardRef(({className:t,...e},n)=>u.jsx(Oj,{ref:n,className:Ce("text-sm text-muted-foreground",t),...e}));$j.displayName=Oj.displayName;const Uj=g.forwardRef(({className:t,...e},n)=>u.jsx(Ij,{ref:n,className:Ce(v1(),t),...e}));Uj.displayName=Ij.displayName;const Fj=g.forwardRef(({className:t,...e},n)=>u.jsx(jj,{ref:n,className:Ce(v1({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Fj.displayName=jj.displayName;function HG({isLocalMode:t}){const e=vd(),{leaveRoom:n}=zr(),[r,s]=g.useState(!1),o=async()=>{s(!0);try{t?e("/"):(await n(),e("/lobby"))}catch(i){console.error("Error quitting game:",i),e(t?"/":"/lobby")}finally{s(!1)}};return u.jsxs(FG,{children:[u.jsx(WG,{asChild:!0,children:u.jsxs(Ue,{variant:"destructive",size:"sm",className:"flex items-center gap-2",disabled:r,children:[u.jsx(Fp,{className:"w-4 h-4"}),"Quitter"]})}),u.jsxs(Pj,{children:[u.jsxs(Dj,{children:[u.jsx(zj,{children:"Quitter la partie ?"}),u.jsx($j,{children:t?"Êtes-vous sûr de vouloir quitter la partie ? Votre progression sera perdue.":"Êtes-vous sûr de vouloir quitter la partie ? Cela affectera les autres joueurs."})]}),u.jsxs(Bj,{children:[u.jsx(Fj,{children:"Annuler"}),u.jsx(Uj,{onClick:o,disabled:r,children:r?"Fermeture...":"Quitter"})]})]})]})}class qG{constructor(){ke(this,"playerHistory",new Map);ke(this,"violations",[]);ke(this,"inputCounts",new Map);ke(this,"lastInputReset",Date.now());ke(this,"MAX_SPEED",150);ke(this,"MAX_POSITION_JUMP",100);ke(this,"MAX_SIZE_CHANGE",20);ke(this,"MAX_INPUTS_PER_SECOND",30);ke(this,"HISTORY_LENGTH",10)}validateMovement(e,n,r){const s=this.playerHistory.get(e)||[];if(s.length===0)return this.addPlayerState(e,n),!0;const o=s[s.length-1],i=(n.timestamp-o.timestamp)/1e3;if(i<.016||i>1)return this.addPlayerState(e,n),!0;const a=n.x-o.x,l=n.y-o.y,c=Math.sqrt(a*a+l*l),d=c/i,f=Math.max(.2,1-(n.size-20)/180),h=this.MAX_SPEED*f;return d>h*1.5?(this.addViolation({type:"speed_hack",severity:"high",description:`Player ${e} exceeded maximum speed: ${d.toFixed(2)} > ${h.toFixed(2)}`,timestamp:Date.now(),data:{speed:d,maxAllowed:h,position:n}}),!1):c>this.MAX_POSITION_JUMP&&i<.1?(this.addViolation({type:"position_teleport",severity:"critical",description:`Player ${e} teleported: ${c.toFixed(2)} pixels in ${i.toFixed(3)}s`,timestamp:Date.now(),data:{distance:c,timeDiff:i,from:o,to:n}}),!1):(this.addPlayerState(e,n),!0)}validateSizeChange(e,n,r,s){const o=Math.abs(r-n);return s==="food"&&o<=5||s==="collision"&&r>n?!0:o>this.MAX_SIZE_CHANGE?(this.addViolation({type:"size_manipulation",severity:"high",description:`Player ${e} had impossible size change: ${n} -> ${r} (${s||"unknown"})`,timestamp:Date.now(),data:{oldSize:n,newSize:r,reason:s,diff:o}}),!1):!0}validateInputRate(e){const n=Date.now();n-this.lastInputReset>1e3&&(this.inputCounts.clear(),this.lastInputReset=n);const r=this.inputCounts.get(e)||0;return this.inputCounts.set(e,r+1),r>this.MAX_INPUTS_PER_SECOND?(this.addViolation({type:"input_flooding",severity:"medium",description:`Player ${e} sending too many inputs: ${r}/s`,timestamp:n,data:{inputsPerSecond:r}}),!1):!0}validateCollision(e,n){const r=e.x-n.x,s=e.y-n.y,o=Math.sqrt(r*r+s*s),i=(e.size+n.size)/2;return o>i*1.2?(this.addViolation({type:"impossible_action",severity:"high",description:`Collision reported with insufficient proximity: ${o.toFixed(2)} > ${i.toFixed(2)}`,timestamp:Date.now(),data:{distance:o,minDistance:i,player1:e,player2:n}}),!1):!0}getSecurityReport(){const e=this.violations.filter(i=>Date.now()-i.timestamp<6e4);let n="low";const r=e.filter(i=>i.severity==="critical").length,s=e.filter(i=>i.severity==="high").length;r>0?n="critical":s>2?n="high":e.length>5&&(n="medium");const o=new Map;return this.playerHistory.forEach((i,a)=>{if(i.length>0){const l=i[i.length-1];o.set(a,{position:{x:l.x,y:l.y},size:l.size,historyLength:i.length,violations:this.violations.filter(c=>c.description.includes(a)).length})}}),{violations:e,riskLevel:n,playerStats:o}}cleanup(){const e=Date.now()-3e5;this.violations=this.violations.filter(n=>n.timestamp>e),this.playerHistory.forEach((n,r)=>{const s=n.filter(o=>o.timestamp>e);s.length===0?this.playerHistory.delete(r):this.playerHistory.set(r,s)})}addPlayerState(e,n){const r=this.playerHistory.get(e)||[];r.push(n),r.length>this.HISTORY_LENGTH&&r.shift(),this.playerHistory.set(e,r)}addViolation(e){this.violations.push(e),console.warn("🚨 Security Violation:",e),this.violations.length>100&&this.violations.shift()}reset(){this.playerHistory.clear(),this.violations=[],this.inputCounts.clear(),this.lastInputReset=Date.now()}}const fh=new qG;class GG{constructor(e={}){ke(this,"config");ke(this,"playerStates",new Map);ke(this,"lastValidationTime",Date.now());this.config={enableInputValidation:!0,enablePositionValidation:!0,enableCollisionValidation:!0,enableSizeValidation:!0,strictMode:!1,...e}}validatePlayerInput(e){if(!this.config.enableInputValidation)return{valid:!0};const n=Math.sqrt(e.moveX*e.moveX+e.moveY*e.moveY);if(n>1.01)return{valid:!1,reason:"Movement vector magnitude exceeds 1.0",correctedValue:{moveX:e.moveX/n,moveY:e.moveY/n}};const r=Date.now();if(Math.abs(e.timestamp-r)>5e3)return{valid:!1,reason:"Timestamp out of acceptable range",correctedValue:{timestamp:r}};const s=this.playerStates.get(e.playerId);return s&&s.lastInputTime&&e.timestamp-s.lastInputTime<16?{valid:!1,reason:"Input rate too high"}:(this.playerStates.set(e.playerId,{...s,lastInputTime:e.timestamp,lastInput:e}),{valid:!0})}validatePositionUpdate(e){if(!this.config.enablePositionValidation)return{valid:!0};const n=this.playerStates.get(e.playerId);if(!n)return this.playerStates.set(e.playerId,{position:{x:e.x,y:e.y},size:e.size,timestamp:e.timestamp}),{valid:!0};const r=(e.timestamp-n.timestamp)/1e3;if(r>0){const s=e.x-n.position.x,o=e.y-n.position.y,a=Math.sqrt(s*s+o*o)/r,c=100*Math.max(.2,1-(e.size-20)/180);if(a>c*1.2&&(console.warn(`Position validation failed for ${e.playerId}: speed ${a.toFixed(2)} > ${c.toFixed(2)}`),this.config.strictMode))return{valid:!1,reason:"Position change exceeds maximum possible speed"}}return this.playerStates.set(e.playerId,{position:{x:e.x,y:e.y},size:e.size,timestamp:e.timestamp}),{valid:!0}}validateCollision(e){if(!this.config.enableCollisionValidation)return{valid:!0};const n=this.playerStates.get(e.eliminatedId),r=this.playerStates.get(e.eliminatorId);if(!n||!r)return{valid:!1,reason:"Player states not found for collision validation"};const s=r.size/n.size;if(s<1.05)return{valid:!1,reason:`Insufficient size advantage for elimination: ${s.toFixed(2)}`};const o=r.position.x-n.position.x,i=r.position.y-n.position.y,a=Math.sqrt(o*o+i*i),l=(r.size+n.size)/2;if(a>l*1.1)return{valid:!1,reason:`Players too far apart for collision: ${a.toFixed(2)} > ${l.toFixed(2)}`};const c=r.size+n.size*.8;return Math.abs(e.eliminatorNewSize-c)>2?{valid:!1,reason:`Invalid size gain: expected ${c.toFixed(2)}, got ${e.eliminatorNewSize}`,correctedValue:{eliminatorNewSize:c}}:{valid:!0}}validateFoodConsumption(e){if(!this.config.enableSizeValidation)return{valid:!0};const n=e.foodSize*.1,r=e.newPlayerSize-e.playerSize;return Math.abs(r-n)>.5?{valid:!1,reason:`Invalid food consumption gain: expected ${n.toFixed(2)}, got ${r.toFixed(2)}`,correctedValue:{newPlayerSize:e.playerSize+n}}:{valid:!0}}getValidationStats(){return{totalValidations:this.playerStates.size,failedValidations:0,playerCount:this.playerStates.size,config:this.config}}cleanup(){const e=Date.now()-6e4;for(const[n,r]of this.playerStates.entries())r.timestamp<e&&this.playerStates.delete(n)}updateConfig(e){this.config={...this.config,...e}}reset(){this.playerStates.clear(),this.lastValidationTime=Date.now()}}const Fo=new GG,KG=({isOpen:t,onClose:e})=>{var l,c,d,f,h,p,v,m,b,S,x,E,A;const[n,r]=g.useState(null),[s,o]=g.useState(null);if(g.useEffect(()=>{if(!t)return;const k=()=>{const z=fh.getSecurityReport(),U=Fo.getValidationStats();r(z),o(U)};k();const B=setInterval(k,1e3);return()=>clearInterval(B)},[t]),!t)return null;const i=k=>{switch(k){case"critical":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-green-500/20 text-green-400 border-green-500/30"}},a=k=>{switch(k){case"critical":return"destructive";case"high":return"destructive";case"medium":return"secondary";default:return"outline"}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-background border rounded-lg w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(OO,{className:"w-5 h-5"}),u.jsx("h2",{className:"text-xl font-semibold",children:"Tableau de Sécurité"})]}),u.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:"✕"})]}),u.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto max-h-[calc(80vh-80px)]",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(as,{children:[u.jsx(ls,{className:"pb-2",children:u.jsxs(cs,{className:"text-sm flex items-center gap-2",children:[u.jsx(TA,{className:"w-4 h-4"}),"Niveau de Risque"]})}),u.jsx(us,{children:u.jsx("div",{className:`px-3 py-2 rounded-lg border text-center font-medium ${i((n==null?void 0:n.riskLevel)||"low")}`,children:((l=n==null?void 0:n.riskLevel)==null?void 0:l.toUpperCase())||"LOW"})})]}),u.jsxs(as,{children:[u.jsx(ls,{className:"pb-2",children:u.jsxs(cs,{className:"text-sm flex items-center gap-2",children:[u.jsx(yi,{className:"w-4 h-4"}),"Joueurs Surveillés"]})}),u.jsx(us,{children:u.jsx("div",{className:"text-2xl font-bold text-center",children:((c=n==null?void 0:n.playerStats)==null?void 0:c.size)||0})})]}),u.jsxs(as,{children:[u.jsx(ls,{className:"pb-2",children:u.jsxs(cs,{className:"text-sm flex items-center gap-2",children:[u.jsx(AO,{className:"w-4 h-4"}),"Violations Récentes"]})}),u.jsx(us,{children:u.jsx("div",{className:"text-2xl font-bold text-center text-red-400",children:((d=n==null?void 0:n.violations)==null?void 0:d.length)||0})})]})]}),s&&u.jsxs(as,{children:[u.jsx(ls,{children:u.jsx(cs,{className:"text-sm",children:"Statistiques de Validation"})}),u.jsx(us,{children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Total Validations"}),u.jsx("div",{className:"font-medium",children:s.totalValidations})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Échecs"}),u.jsx("div",{className:"font-medium text-red-400",children:s.failedValidations})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Mode Strict"}),u.jsx("div",{className:"font-medium",children:(f=s.config)!=null&&f.strictMode?"Activé":"Désactivé"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Validation Input"}),u.jsx("div",{className:"font-medium",children:(h=s.config)!=null&&h.enableInputValidation?"Activé":"Désactivé"})]})]})})]}),(n==null?void 0:n.violations)&&n.violations.length>0&&u.jsxs(as,{children:[u.jsx(ls,{children:u.jsx(cs,{className:"text-sm",children:"Violations Récentes"})}),u.jsx(us,{children:u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.violations.map((k,B)=>u.jsxs("div",{className:"flex items-start justify-between p-3 bg-muted/30 rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Go,{variant:a(k.severity),children:k.severity.toUpperCase()}),u.jsx(Go,{variant:"outline",className:"text-xs",children:k.type.replace("_"," ").toUpperCase()})]}),u.jsx("div",{className:"text-sm text-muted-foreground",children:k.description}),k.data&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-1 font-mono",children:[JSON.stringify(k.data,null,2).slice(0,100),"..."]})]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(k.timestamp).toLocaleTimeString()})]},B))})})]}),(n==null?void 0:n.playerStats)&&u.jsxs(as,{children:[u.jsx(ls,{children:u.jsx(cs,{className:"text-sm",children:"Statistiques des Joueurs"})}),u.jsx(us,{children:u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.from(n.playerStats.entries()).map(([k,B])=>{var z,U,K,V,q;return u.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/20 rounded",children:[u.jsxs("div",{className:"text-sm font-mono",children:[k.slice(0,8),"..."]}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pos: (",(U=(z=B.position)==null?void 0:z.x)==null?void 0:U.toFixed(0),", ",(V=(K=B.position)==null?void 0:K.y)==null?void 0:V.toFixed(0),") | Taille: ",(q=B.size)==null?void 0:q.toFixed(1)," | Violations: ",B.violations]})]},k)})})})]}),u.jsxs(as,{children:[u.jsx(ls,{children:u.jsx(cs,{className:"text-sm",children:"Configuration de Sécurité"})}),u.jsx(us,{children:u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Validation Position"}),u.jsx(Go,{variant:(p=s==null?void 0:s.config)!=null&&p.enablePositionValidation?"default":"secondary",children:(v=s==null?void 0:s.config)!=null&&v.enablePositionValidation?"ON":"OFF"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Validation Collision"}),u.jsx(Go,{variant:(m=s==null?void 0:s.config)!=null&&m.enableCollisionValidation?"default":"secondary",children:(b=s==null?void 0:s.config)!=null&&b.enableCollisionValidation?"ON":"OFF"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Validation Taille"}),u.jsx(Go,{variant:(S=s==null?void 0:s.config)!=null&&S.enableSizeValidation?"default":"secondary",children:(x=s==null?void 0:s.config)!=null&&x.enableSizeValidation?"ON":"OFF"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Mode Strict"}),u.jsx(Go,{variant:(E=s==null?void 0:s.config)!=null&&E.strictMode?"destructive":"secondary",children:(A=s==null?void 0:s.config)!=null&&A.strictMode?"ON":"OFF"})]})]})})]})]})]})})},Us=Object.create(null);Us.open="0";Us.close="1";Us.ping="2";Us.pong="3";Us.message="4";Us.upgrade="5";Us.noop="6";const hh=Object.create(null);Object.keys(Us).forEach(t=>{hh[Us[t]]=t});const fw={type:"error",data:"parser error"},Wj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Vj=typeof ArrayBuffer=="function",Hj=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,$1=({type:t,data:e},n,r)=>Wj&&e instanceof Blob?n?r(e):x_(e,r):Vj&&(e instanceof ArrayBuffer||Hj(e))?n?r(e):x_(new Blob([e]),r):r(Us[t]+(e||"")),x_=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function S_(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let D0;function YG(t,e){if(Wj&&t.data instanceof Blob)return t.data.arrayBuffer().then(S_).then(e);if(Vj&&(t.data instanceof ArrayBuffer||Hj(t.data)))return e(S_(t.data));$1(t,!1,n=>{D0||(D0=new TextEncoder),e(D0.encode(n))})}const E_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",du=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<E_.length;t++)du[E_.charCodeAt(t)]=t;const QG=t=>{let e=t.length*.75,n=t.length,r,s=0,o,i,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(r=0;r<n;r+=4)o=du[t.charCodeAt(r)],i=du[t.charCodeAt(r+1)],a=du[t.charCodeAt(r+2)],l=du[t.charCodeAt(r+3)],d[s++]=o<<2|i>>4,d[s++]=(i&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return c},JG=typeof ArrayBuffer=="function",U1=(t,e)=>{if(typeof t!="string")return{type:"message",data:qj(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ZG(t.substring(1),e)}:hh[n]?t.length>1?{type:hh[n],data:t.substring(1)}:{type:hh[n]}:fw},ZG=(t,e)=>{if(JG){const n=QG(t);return qj(n,e)}else return{base64:!0,data:t}},qj=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Gj="",XG=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((o,i)=>{$1(o,!1,a=>{r[i]=a,++s===n&&e(r.join(Gj))})})},eK=(t,e)=>{const n=t.split(Gj),r=[];for(let s=0;s<n.length;s++){const o=U1(n[s],e);if(r.push(o),o.type==="error")break}return r};function tK(){return new TransformStream({transform(t,e){YG(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let B0;function Af(t){return t.reduce((e,n)=>e+n.length,0)}function Cf(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function nK(t,e){B0||(B0=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(r===0){if(Af(n)<1)break;const l=Cf(n,1);o=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Af(n)<2)break;const l=Cf(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Af(n)<8)break;const l=Cf(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(fw);break}s=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Af(n)<s)break;const l=Cf(n,s);a.enqueue(U1(o?l:B0.decode(l),e)),r=0}if(s===0||s>t){a.enqueue(fw);break}}}})}const Kj=4;function pn(t){if(t)return rK(t)}function rK(t){for(var e in pn.prototype)t[e]=pn.prototype[e];return t}pn.prototype.on=pn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};pn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};pn.prototype.off=pn.prototype.removeListener=pn.prototype.removeAllListeners=pn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};pn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};pn.prototype.emitReserved=pn.prototype.emit;pn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};pn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Rm=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),qr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),sK="arraybuffer";function Yj(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const oK=qr.setTimeout,iK=qr.clearTimeout;function Om(t,e){e.useNativeTimers?(t.setTimeoutFn=oK.bind(qr),t.clearTimeoutFn=iK.bind(qr)):(t.setTimeoutFn=qr.setTimeout.bind(qr),t.clearTimeoutFn=qr.clearTimeout.bind(qr))}const aK=1.33;function lK(t){return typeof t=="string"?cK(t):Math.ceil((t.byteLength||t.size)*aK)}function cK(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Qj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function uK(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function dK(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class fK extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class F1 extends pn{constructor(e){super(),this.writable=!1,Om(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new fK(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=U1(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=uK(e);return n.length?"?"+n:""}}class hK extends F1{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};eK(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,XG(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Qj()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Jj=!1;try{Jj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pK=Jj;function mK(){}class gK extends hK{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class Bs extends pn{constructor(e,n,r){super(),this.createRequest=e,Om(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Yj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Bs.requestsCount++,Bs.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=mK,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Bs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Bs.requestsCount=0;Bs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",__);else if(typeof addEventListener=="function"){const t="onpagehide"in qr?"pagehide":"unload";addEventListener(t,__,!1)}}function __(){for(let t in Bs.requests)Bs.requests.hasOwnProperty(t)&&Bs.requests[t].abort()}const yK=function(){const t=Zj({xdomain:!1});return t&&t.responseType!==null}();class vK extends gK{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=yK&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Bs(Zj,this.uri(),e)}}function Zj(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||pK))return new XMLHttpRequest}catch{}if(!e)try{return new qr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Xj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wK extends F1{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Xj?{}:Yj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;$1(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}s&&Rm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Qj()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const z0=qr.WebSocket||qr.MozWebSocket;class bK extends wK{createSocket(e,n,r){return Xj?new z0(e,n,r):n?new z0(e,n):new z0(e)}doWrite(e,n){this.ws.send(n)}}class xK extends F1{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=nK(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=tK();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const o=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Rm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const SK={websocket:bK,webtransport:xK,polling:vK},EK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_K=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hw(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=EK.exec(t||""),o={},i=14;for(;i--;)o[_K[i]]=s[i]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=NK(o,o.path),o.queryKey=AK(o,o.query),o}function NK(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function AK(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}const pw=typeof addEventListener=="function"&&typeof removeEventListener=="function",ph=[];pw&&addEventListener("offline",()=>{ph.forEach(t=>t())},!1);class Ei extends pn{constructor(e,n){if(super(),this.binaryType=sK,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=hw(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=hw(n.host).host);Om(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=dK(this.opts.query)),pw&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ph.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Kj,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ei.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ei.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=lK(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Rm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Ei.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pw&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ph.indexOf(this._offlineEventListener);r!==-1&&ph.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ei.protocol=Kj;class CK extends Ei{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Ei.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ei.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function o(){r||(r=!0,d(),n.close(),n=null)}const i=f=>{const h=new Error("probe error: "+f);h.transport=n.name,o(),this.emitReserved("upgradeError",h)};function a(){i("transport closed")}function l(){i("socket closed")}function c(f){n&&f.name!==n.name&&o()}const d=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",s),n.once("error",i),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let kK=class extends CK{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>SK[s]).filter(s=>!!s)),super(e,r)}};function MK(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=hw(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const TK=typeof ArrayBuffer=="function",IK=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,eR=Object.prototype.toString,jK=typeof Blob=="function"||typeof Blob<"u"&&eR.call(Blob)==="[object BlobConstructor]",RK=typeof File=="function"||typeof File<"u"&&eR.call(File)==="[object FileConstructor]";function W1(t){return TK&&(t instanceof ArrayBuffer||IK(t))||jK&&t instanceof Blob||RK&&t instanceof File}function mh(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(mh(t[n]))return!0;return!1}if(W1(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return mh(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&mh(t[n]))return!0;return!1}function OK(t){const e=[],n=t.data,r=t;return r.data=mw(n,e),r.attachments=e.length,{packet:r,buffers:e}}function mw(t,e){if(!t)return t;if(W1(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=mw(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=mw(t[r],e));return n}return t}function LK(t,e){return t.data=gw(t.data,e),delete t.attachments,t}function gw(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=gw(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=gw(t[n],e));return t}const PK=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],DK=5;var ut;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ut||(ut={}));class BK{constructor(e){this.replacer=e}encode(e){return(e.type===ut.EVENT||e.type===ut.ACK)&&mh(e)?this.encodeAsBinary({type:e.type===ut.EVENT?ut.BINARY_EVENT:ut.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===ut.BINARY_EVENT||e.type===ut.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=OK(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function N_(t){return Object.prototype.toString.call(t)==="[object Object]"}class V1 extends pn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===ut.BINARY_EVENT;r||n.type===ut.BINARY_ACK?(n.type=r?ut.EVENT:ut.ACK,this.reconstructor=new zK(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(W1(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(ut[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ut.BINARY_EVENT||r.type===ut.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const i=e.substring(o,n);if(i!=Number(i)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const i=e.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(V1.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case ut.CONNECT:return N_(n);case ut.DISCONNECT:return n===void 0;case ut.CONNECT_ERROR:return typeof n=="string"||N_(n);case ut.EVENT:case ut.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&PK.indexOf(n[0])===-1);case ut.ACK:case ut.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zK{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=LK(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $K=Object.freeze(Object.defineProperty({__proto__:null,Decoder:V1,Encoder:BK,get PacketType(){return ut},protocol:DK},Symbol.toStringTag,{value:"Module"}));function ds(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const UK=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tR extends pn{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ds(e,"open",this.onopen.bind(this)),ds(e,"packet",this.onpacket.bind(this)),ds(e,"error",this.onerror.bind(this)),ds(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,o;if(UK.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:ut.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),i.id=d}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),i=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};i.withError=!0,this.acks[e]=i}emitWithAck(e,...n){return new Promise((r,s)=>{const o=(i,a)=>i?s(i):r(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ut.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ut.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ut.EVENT:case ut.BINARY_EVENT:this.onevent(e);break;case ut.ACK:case ut.BINARY_ACK:this.onack(e);break;case ut.DISCONNECT:this.ondisconnect();break;case ut.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ut.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ut.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Lc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Lc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Lc.prototype.reset=function(){this.attempts=0};Lc.prototype.setMin=function(t){this.ms=t};Lc.prototype.setMax=function(t){this.max=t};Lc.prototype.setJitter=function(t){this.jitter=t};class yw extends pn{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Om(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Lc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||$K;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new kK(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=ds(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},i=ds(n,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ds(e,"ping",this.onping.bind(this)),ds(e,"data",this.ondata.bind(this)),ds(e,"error",this.onerror.bind(this)),ds(e,"close",this.onclose.bind(this)),ds(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Rm(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new tR(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Jc={};function gh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=MK(t,e.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=Jc[s]&&o in Jc[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||i;let l;return a?l=new yw(r,e):(Jc[s]||(Jc[s]=new yw(r,e)),l=Jc[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(gh,{Manager:yw,Socket:tR,io:gh,connect:gh});class FK{constructor(e){ke(this,"socket",null);ke(this,"connected",!1);ke(this,"roomId",null);ke(this,"playerId",null);ke(this,"inputSequence",0);ke(this,"callbacks");ke(this,"rtt",0);ke(this,"lastPingTime",0);ke(this,"packetsSent",0);ke(this,"packetsReceived",0);ke(this,"lastInputTime",0);ke(this,"INPUT_THROTTLE_MS",25);ke(this,"inputBuffer",[]);ke(this,"pingInterval",null);ke(this,"PING_INTERVAL",1e3);ke(this,"reconnectAttempts",0);ke(this,"maxReconnectAttempts",5);this.callbacks=e}async connect(e="http://localhost:3001"){console.log(`[OptimizedSocketGameSync] Connecting to ${e}...`);try{return this.socket=gh(e,{transports:["websocket"],timeout:1e4,reconnection:!0,reconnectionAttempts:this.maxReconnectAttempts,reconnectionDelay:1e3,reconnectionDelayMax:5e3,forceNew:!0}),this.setupEventHandlers(),new Promise(n=>{const r=setTimeout(()=>{console.error("[OptimizedSocketGameSync] Connection timeout"),n(!1)},1e4);this.socket.on("connected",s=>{var o,i;clearTimeout(r),console.log("[OptimizedSocketGameSync] Connected successfully:",s),this.connected=!0,this.reconnectAttempts=0,this.startPingSystem(),(i=(o=this.callbacks).onConnectionChange)==null||i.call(o,!0),n(!0)}),this.socket.on("connect_error",s=>{var o,i;clearTimeout(r),console.error("[OptimizedSocketGameSync] Connection error:",s),this.connected=!1,(i=(o=this.callbacks).onConnectionChange)==null||i.call(o,!1),n(!1)})})}catch(n){return console.error("[OptimizedSocketGameSync] Failed to create socket:",n),!1}}setupEventHandlers(){this.socket&&(this.socket.on("connect",()=>{var e,n;console.log("[OptimizedSocketGameSync] Socket connected"),this.connected=!0,this.reconnectAttempts=0,this.startPingSystem(),(n=(e=this.callbacks).onConnectionChange)==null||n.call(e,!0)}),this.socket.on("disconnect",e=>{var n,r;console.log(`[OptimizedSocketGameSync] Socket disconnected: ${e}`),this.connected=!1,this.stopPingSystem(),(r=(n=this.callbacks).onConnectionChange)==null||r.call(n,!1)}),this.socket.on("reconnect",e=>{var n,r;console.log(`[OptimizedSocketGameSync] Reconnected after ${e} attempts`),this.connected=!0,this.startPingSystem(),(r=(n=this.callbacks).onConnectionChange)==null||r.call(n,!0),this.roomId&&this.playerId&&this.joinRoom(this.roomId,this.playerId,"Reconnected Player","blue")}),this.socket.on("reconnect_failed",()=>{var e,n;console.error("[OptimizedSocketGameSync] Failed to reconnect after maximum attempts"),this.connected=!1,this.stopPingSystem(),(n=(e=this.callbacks).onConnectionChange)==null||n.call(e,!1)}),this.socket.on("optimizedSnapshot",e=>{var n,r;this.packetsReceived++,(r=(n=this.callbacks).onSnapshot)==null||r.call(n,e)}),this.socket.on("gameSnapshot",e=>{var n,r;this.packetsReceived++,(r=(n=this.callbacks).onSnapshot)==null||r.call(n,e)}),this.socket.on("playerJoined",e=>{var n,r;console.log("[OptimizedSocketGameSync] Player joined:",e),(r=(n=this.callbacks).onPlayerJoined)==null||r.call(n,e.player)}),this.socket.on("playerLeft",e=>{var n,r;console.log("[OptimizedSocketGameSync] Player left:",e),(r=(n=this.callbacks).onPlayerLeft)==null||r.call(n,e.playerId)}),this.socket.on("roomJoined",e=>{var n,r;console.log("[OptimizedSocketGameSync] Room joined:",e),(r=(n=this.callbacks).onRoomJoined)==null||r.call(n,e)}),this.socket.on("joinError",e=>{console.error("[OptimizedSocketGameSync] Join error:",e)}),this.socket.on("pong",e=>{var r,s;const n=Date.now();this.rtt=n-e.timestamp,this.lastPingTime=n,(s=(r=this.callbacks).onPing)==null||s.call(r,this.rtt)}))}startPingSystem(){this.stopPingSystem(),this.pingInterval=setInterval(()=>{this.socket&&this.connected&&this.socket.emit("ping",{timestamp:Date.now()})},this.PING_INTERVAL)}stopPingSystem(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}joinRoom(e,n,r,s){if(!this.socket||!this.connected){console.warn("[OptimizedSocketGameSync] Cannot join room - not connected");return}console.log(`[OptimizedSocketGameSync] Joining room ${e} as ${n}`),this.roomId=e,this.playerId=n,this.socket.emit("joinRoom",{roomId:e,playerId:n,playerName:r,playerColor:s})}leaveRoom(){this.socket&&(console.log("[OptimizedSocketGameSync] Leaving room"),this.socket.emit("leaveRoom"),this.roomId=null,this.playerId=null)}sendPlayerInput(e,n,r=!1){if(!this.socket||!this.connected||!this.roomId)return;const s=Date.now();if(s-this.lastInputTime<this.INPUT_THROTTLE_MS)return;this.lastInputTime=s;const o=Math.max(-1,Math.min(1,e)),i=Math.max(-1,Math.min(1,n)),a={t:s,seq:++this.inputSequence,dx:o,dy:i};r&&(a.act=1),this.socket.emit("playerInput",a),this.packetsSent++}sendBatchedInputs(){!this.socket||!this.connected||this.inputBuffer.length===0||(this.socket.emit("batchedInputs",this.inputBuffer),this.packetsSent+=this.inputBuffer.length,this.inputBuffer=[])}disconnect(){var e,n;this.socket&&(console.log("[OptimizedSocketGameSync] Disconnecting..."),this.stopPingSystem(),this.socket.disconnect(),this.socket=null,this.connected=!1,this.roomId=null,this.playerId=null,(n=(e=this.callbacks).onConnectionChange)==null||n.call(e,!1))}isConnected(){var e;return this.connected&&((e=this.socket)==null?void 0:e.connected)===!0}getDiagnostics(){var e;return{connected:this.connected,roomId:this.roomId,playerId:this.playerId,inputSequence:this.inputSequence,socketId:(e=this.socket)==null?void 0:e.id,rtt:this.rtt,lastPingTime:this.lastPingTime,packetsSent:this.packetsSent,packetsReceived:this.packetsReceived}}getNetworkQuality(){return this.rtt<50?"excellent":this.rtt<100?"good":this.rtt<200?"fair":"poor"}measureRTT(){return new Promise(e=>{if(!this.socket||!this.connected){e(-1);return}const n=Date.now(),r=setTimeout(()=>e(-1),5e3);this.socket.once("pong",()=>{clearTimeout(r),e(Date.now()-n)}),this.socket.emit("ping",{timestamp:n})})}}const WK=({roomId:t,playerId:e,playerName:n,playerColor:r,enabled:s,serverUrl:o="http://localhost:3001",onSnapshot:i,onPlayerJoined:a,onPlayerLeft:l,onRoomJoined:c,onConnectionChange:d,onPing:f})=>{const[h,p]=g.useState(!1),[v,m]=g.useState(null),[b,S]=g.useState("good"),x=g.useRef(null),E=g.useRef(!1),A=g.useRef({localPosition:{x:0,y:0,size:20},pendingInputs:[],lastServerTick:0}),k=g.useRef({}),B=150,[z,U]=g.useState({rtt:0,packetsSent:0,packetsReceived:0,inputRate:0,snapshotRate:0}),K=g.useRef({onSnapshot:P=>{V(P),q(P),y(),i==null||i(P)},onPlayerJoined:a,onPlayerLeft:l,onRoomJoined:c,onConnectionChange:P=>{if(p(P),x.current){const I=x.current.getDiagnostics();m(I),S(x.current.getNetworkQuality())}d==null||d(P)},onPing:P=>{U(I=>({...I,rtt:P})),f==null||f(P)}});g.useEffect(()=>{K.current={...K.current,onSnapshot:K.current.onSnapshot,onPlayerJoined:a,onPlayerLeft:l,onRoomJoined:c}},[a,l,c]);const V=g.useCallback(P=>{const I=Date.now(),w=I-B;if(P.ps)for(const[O,G]of Object.entries(P.ps)){k.current[O]||(k.current[O]={positions:[],lastUpdate:0});const X=k.current[O];X.positions.push({x:G.x,y:G.y,size:G.r,timestamp:P.t}),X.positions=X.positions.filter(ee=>ee.timestamp>w),X.lastUpdate=I}if(P.rm)for(const O of P.rm)delete k.current[O]},[]),q=g.useCallback(P=>{if(!P.you)return;const I=A.current,w=P.you;I.lastServerTick=P.tick;const O=2,G=Math.sqrt(Math.pow(I.localPosition.x-w.x,2)+Math.pow(I.localPosition.y-w.y,2));if(G>O){console.log(`[ClientPrediction] Reconciliation needed, error: ${G.toFixed(2)}px`),I.localPosition={x:w.x,y:w.y,size:w.r};for(const X of I.pendingInputs)J(I.localPosition,X)}else I.localPosition.size=w.r;I.pendingInputs=I.pendingInputs.slice(-10)},[]),J=g.useCallback((P,I)=>{const w=Math.max(20,100*Math.max(.3,1-(P.size-20)/200)),O=1/40;P.x+=I.moveX*w*O,P.y+=I.moveY*w*O;const G=P.size/2;P.x=Math.max(G,Math.min(2e3-G,P.x)),P.y=Math.max(G,Math.min(2e3-G,P.y))},[]),D=g.useCallback(P=>{const I=k.current[P];if(!I||I.positions.length===0)return null;const O=Date.now()-B;let G=null,X=null;for(let ue=0;ue<I.positions.length-1;ue++)if(I.positions[ue].timestamp<=O&&I.positions[ue+1].timestamp>=O){G=I.positions[ue],X=I.positions[ue+1];break}if(!G||!X)return I.positions[I.positions.length-1];const ee=X.timestamp-G.timestamp,oe=ee>0?(O-G.timestamp)/ee:0;return{x:G.x+(X.x-G.x)*oe,y:G.y+(X.y-G.y)*oe,size:G.size+(X.size-G.size)*oe}},[]),y=g.useCallback(()=>{if(x.current){const P=x.current.getDiagnostics();U(I=>({...I,packetsSent:P.packetsSent,packetsReceived:P.packetsReceived}))}},[]),_=g.useCallback(async()=>{if(!s||E.current)return!1;E.current=!0,console.log("[useOptimizedSocketGameSync] Attempting connection...");try{x.current&&(x.current.disconnect(),x.current=null);const P=new FK(K.current);return await P.connect(o)?(x.current=P,m(P.getDiagnostics()),S(P.getNetworkQuality()),console.log("[useOptimizedSocketGameSync] Connected successfully"),!0):(console.error("[useOptimizedSocketGameSync] Failed to connect"),!1)}catch(P){return console.error("[useOptimizedSocketGameSync] Connection error:",P),!1}finally{E.current=!1}},[s,o]);g.useEffect(()=>{h&&x.current&&t&&e&&n&&r&&(console.log("[useOptimizedSocketGameSync] Joining room:",t),x.current.joinRoom(t,e,n,r))},[h,t,e,n,r]),g.useEffect(()=>(s?_():x.current&&(x.current.disconnect(),x.current=null,p(!1),m(null)),()=>{x.current&&(x.current.disconnect(),x.current=null)}),[s,_]);const T=g.useCallback((P,I,w=!1)=>{if(x.current&&h){const O=A.current,G={moveX:P,moveY:I,boost:w,seq:Date.now(),timestamp:Date.now()};J(O.localPosition,G),O.pendingInputs.push(G),x.current.sendPlayerInput(P,I,w)}},[h]),R=g.useCallback(()=>{x.current&&x.current.leaveRoom()},[]),M=g.useCallback(async()=>(console.log("[useOptimizedSocketGameSync] Force reconnecting..."),x.current&&(x.current.disconnect(),x.current=null,p(!1)),await _()),[_]),j=g.useCallback(async()=>x.current?await x.current.measureRTT():-1,[]);return{isConnected:h,connectionInfo:v,networkQuality:b,diagnostics:z,sendPlayerInput:T,leaveRoom:R,forceReconnect:M,getInterpolatedPosition:D,getPredictedPosition:()=>A.current.localPosition,measureRTT:j}},$0=(t,e)=>({id:"local-player",walletAddress:"local",name:t||"Joueur Solo",color:e||"blue",size:20,x:400,y:300,isAlive:!0,isReady:!0,velocityX:0,velocityY:0});function VK({roomId:t}){const{currentRoom:e,player:n,refreshCurrentRoom:r}=zr(),{toast:s}=Ss(),o=yd(),i=g.useRef(null),a=za(),[l,c]=g.useState(!1),[d,f]=g.useState(null),[h,p]=g.useState("absorption"),[v,m]=g.useState(null),[b,S]=g.useState(!0),[x,E]=g.useState([]),[A,k]=g.useState(0),[B,z]=g.useState(0),[U,K]=g.useState(!1),V=!e&&!t,J=new URLSearchParams(o.search).get("mode"),D=e==null?void 0:e.gameMode,y=(()=>{if(V)return J==="zone";{const se=D==="battle_royale";return console.log("GameUI: Game mode detection details:",{isLocalMode:V,roomGameMode:D,urlGameMode:J,detectedMode:se,currentRoomExists:!!e,roomId:t,currentRoomId:e==null?void 0:e.id}),se}})(),_=V?$0(n==null?void 0:n.name,n==null?void 0:n.color):n,T=V?[$0(n==null?void 0:n.name,n==null?void 0:n.color)]:x;console.log("GameUI: Rendering with",{isLocalMode:V,roomId:t,currentRoom:!!e,isZoneMode:y,urlGameMode:J,roomGameMode:D,effectivePlayer:!!_,effectivePlayers:T.length}),g.useEffect(()=>{!V&&e&&e.gameMode!==D&&(console.log("GameUI: Room game mode mismatch detected, refreshing room data"),r())},[V,e==null?void 0:e.gameMode,D,r]);const R=g.useCallback((se,he)=>{console.log("GameUI: Received position update for player:",se,he);const Ee=Fo.validatePositionUpdate({playerId:se,x:he.x,y:he.y,size:he.size,timestamp:Date.now()});!Ee.valid&&(console.warn("🚨 Invalid position update:",Ee.reason),z(Oe=>Oe+1),Fo.getValidationStats().config.strictMode)||(i.current&&i.current.updatePlayerPosition(se,{x:he.x,y:he.y,size:he.size}),E(Oe=>Oe.map(Ze=>Ze.id===se?{...Ze,x:he.x,y:he.y,size:he.size}:Ze)))},[]),M=g.useCallback((se,he,Ee,Oe)=>{console.log("GameUI: Received collision event:",{eliminatedId:se,eliminatorId:he,eliminatedSize:Ee,eliminatorNewSize:Oe});const Ze=x.find(He=>He.id===se),xt=x.find(He=>He.id===he);if(Ze&&xt){const He=Fo.validateCollision({eliminatedId:se,eliminatorId:he,eliminatedSize:Ze.size,eliminatorNewSize:Oe});if(!He.valid&&(console.warn("🚨 Invalid collision:",He.reason),z(nt=>nt+1),s({title:"Collision Invalidée",description:"Une collision suspecte a été détectée et ignorée",variant:"destructive",duration:3e3}),Fo.getValidationStats().config.strictMode))return}i.current&&i.current.eliminatePlayer(se,he),E(He=>He.map(nt=>nt.id===se?{...nt,isAlive:!1}:nt.id===he?{...nt,size:Oe}:nt)),Ds.showEliminationNotification({eliminatedId:se,eliminatedName:Ds.getPlayerName(se,T),eliminatorId:he,eliminatorName:Ds.getPlayerName(he,T),type:"absorption",currentPlayerId:n==null?void 0:n.id})},[n==null?void 0:n.id,T,x,s]);g.useCallback((se,he)=>{console.log("GameUI: Received elimination event:",{eliminatedId:se,eliminatorId:he}),se===(n==null?void 0:n.id)&&(console.log("GameUI: Our player was eliminated remotely"),c(!0),f(null),p("absorption"))},[n==null?void 0:n.id]);const j=g.useCallback(se=>{console.log("GameUI: Player joined:",se),i.current&&i.current.addPlayer(se),E(he=>[...he.filter(Ee=>Ee.id!==se.id),se]),s({title:"Nouveau joueur",description:`${se.name} a rejoint la partie`,duration:2e3})},[s]),P=g.useCallback(se=>{console.log("GameUI: Player left:",se),E(he=>he.filter(Ee=>Ee.id!==se)),s({title:"Joueur parti",description:"Un joueur a quitté la partie",duration:2e3})},[s]);g.useCallback(se=>{console.log("GameUI: Game started with data:",se),s({title:"Partie commencée !",description:"La partie a démarré",duration:2e3})},[s]);const{isConnected:I,networkQuality:w,diagnostics:O,sendPlayerInput:G,leaveRoom:X,getInterpolatedPosition:ee}=WK({roomId:t||(e==null?void 0:e.id),playerId:n==null?void 0:n.id,playerName:n==null?void 0:n.name,playerColor:n==null?void 0:n.color,enabled:!V&&!!n&&!!e,serverUrl:"ws://localhost:3001",onSnapshot:se=>{console.log("GameUI: Received optimized snapshot:",se),se.ps&&Object.entries(se.ps).forEach(([he,Ee])=>{R(he,{x:Ee.x,y:Ee.y,size:Ee.r,velocityX:0,velocityY:0})}),se.cols&&se.cols.forEach(he=>{M(he.e,he.r,0,0)})},onPlayerJoined:j,onPlayerLeft:P,onRoomJoined:se=>{console.log("GameUI: Successfully joined room:",se),s({title:"Connecté à la partie",description:`Room: ${se.roomId}`,duration:2e3})},onConnectionChange:se=>{console.log("GameUI: Socket connection changed:",se)},onPing:se=>{console.log("GameUI: Ping:",se+"ms")}});g.useEffect(()=>{V?E([$0(n==null?void 0:n.name,n==null?void 0:n.color)]):e!=null&&e.players&&E(e.players)},[e==null?void 0:e.players,V,n==null?void 0:n.name,n==null?void 0:n.color]),g.useEffect(()=>{if(v){const se=()=>{const Ee=Date.now(),Oe=Math.max(0,v.nextShrinkTime-Ee);k(Oe)};se();const he=setInterval(se,1e3);return()=>clearInterval(he)}},[v]),g.useCallback(async se=>{},[]);const oe=g.useCallback((se,he,Ee)=>{if(!V)if(I&&(n!=null&&n.id)){const Oe=Fo.validatePlayerInput({moveX:se,moveY:he,boost:Ee,timestamp:Date.now(),playerId:n.id});if(!Oe.valid){console.warn("🚨 Invalid input:",Oe.reason),z(Ze=>Ze+1),Oe.correctedValue&&G(Oe.correctedValue.moveX||se,Oe.correctedValue.moveY||he,Ee||!1);return}if(!fh.validateInputRate(n.id))return;G(se,he,Ee||!1)}else V||console.warn("Tentative d'envoi d'input sans connexion socket active")},[V,I,G,n==null?void 0:n.id]),ue=g.useCallback(async(se,he,Ee,Oe)=>{console.log("GameUI: Collision detected (handled by server):",{eliminatedPlayerId:se,eliminatorPlayerId:he})},[]),we=g.useCallback(async(se,he)=>{console.log("GameUI: Elimination detected (handled by server):",{eliminatedPlayerId:se,eliminatorPlayerId:he})},[]),Te=g.useCallback((se,he="absorption")=>{console.log("GameUI: Game over triggered",{winner:se,type:he}),c(!0),f(se),p(he)},[]),Se=g.useCallback((se,he)=>{m(se),S(he)},[]),ye=g.useCallback(se=>{i.current&&i.current.setMobileDirection(se)},[]),Fe=g.useCallback(se=>{console.log("GameUI: Mobile boost change:",se),!V&&G&&G(0,0,se)},[V,G]);return!V&&!_?u.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-black text-white",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("p",{className:"text-lg font-medium",children:"Connexion à la partie..."}),t&&u.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Room: ",t]}),u.jsx("div",{className:"mt-4 text-sm text-gray-500",children:!I&&u.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 rounded-lg p-3 mt-2",children:[u.jsx("p",{className:"text-red-400",children:"❌ Socket déconnecté"}),u.jsx("p",{className:"text-xs mt-1",children:"Vérifiez que le serveur Node.js est démarré sur localhost:3001"})]})})]})}):(g.useEffect(()=>{if(!V){console.log("GameUI: Sync connection status:",I);const se=setInterval(()=>{fh.cleanup(),Fo.cleanup()},6e4);return()=>clearInterval(se)}},[I,V]),g.useEffect(()=>{l&&(fh.reset(),Fo.reset(),z(0))},[l]),u.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden",children:[u.jsx(fj,{ref:i,onGameOver:Te,isLocalMode:V,localPlayer:_,isZoneMode:y,onZoneUpdate:Se,onPlayerInput:oe,onPlayerCollision:ue,onPlayerElimination:we,getInterpolatedPosition:ee,roomId:t||(e==null?void 0:e.id)}),u.jsx("div",{className:"absolute top-4 left-4 z-10",children:u.jsx(SG,{players:T,currentPlayerId:_==null?void 0:_.id})}),u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsx(HG,{isLocalMode:V})}),y&&v&&u.jsx("div",{className:"absolute top-16 right-4 z-10",children:u.jsx(TG,{safeZone:v,isPlayerInZone:b,timeUntilShrink:A})}),a&&u.jsx(_G,{onDirectionChange:ye,onBoostChange:Fe}),!V&&u.jsxs("div",{className:"absolute bottom-4 left-4 z-10 space-y-1",children:[u.jsxs("div",{className:`px-2 py-1 rounded text-xs font-mono ${I?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:["SOCKET: ",I?"CONNECTED":"DISCONNECTED"]}),!I&&u.jsx("div",{className:"px-2 py-1 rounded text-xs font-mono bg-red-500/20 text-red-400",children:"Serveur Node.js requis sur port 3001"}),I&&O&&u.jsxs("div",{className:"px-2 py-1 rounded text-xs font-mono bg-blue-500/20 text-blue-400",children:["RTT: ",O.rtt,"ms | ",w.toUpperCase()]}),B>0&&u.jsxs("div",{className:"px-2 py-1 rounded text-xs font-mono bg-orange-500/20 text-orange-400 cursor-pointer hover:bg-orange-500/30 transition-colors",onClick:()=>K(!0),title:"Cliquer pour voir les détails de sécurité",children:["🛡️ SECURITY: ",B," violations"]})]}),V&&!t&&u.jsxs("div",{className:"absolute top-20 left-4 z-10 bg-black/70 backdrop-blur-sm border border-white/20 rounded-lg p-3 text-white",children:[u.jsx("div",{className:"text-sm font-medium mb-1",children:"🚀 Pouvoir Boost"}),u.jsx("div",{className:"text-xs opacity-75",children:"• Clic gauche maintenu: +50% vitesse"}),u.jsx("div",{className:"text-xs opacity-75",children:"• Coût: -5 taille/seconde"}),u.jsx("div",{className:"text-xs opacity-75",children:"• Minimum: 10 de taille"})]}),V?u.jsx("div",{className:"absolute bottom-4 left-4 z-10",children:u.jsxs("div",{className:"px-2 py-1 rounded text-xs font-mono bg-blue-500/20 text-blue-400",children:["MODE: ",y?"ZONE BATTLE":"SOLO"]})}):u.jsx("div",{className:"absolute bottom-4 right-4 z-10",children:u.jsxs("div",{className:`px-2 py-1 rounded text-xs font-mono ${y?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:["MODE: ",y?"BATTLE ROYALE":"CLASSIC",D&&u.jsxs("div",{className:"text-xs opacity-70 mt-1",children:["DB: ",D]})]})}),u.jsx(MG,{open:l,winner:d,eliminationType:h,onPlayAgain:()=>{c(!1),f(null)},onBackToLobby:()=>{c(!1),f(null)}}),u.jsx(KG,{isOpen:U,onClose:()=>K(!1)})]}))}function A_(){const{currentRoom:t,player:e,refreshCurrentRoom:n}=zr(),r=vd(),s=yd(),{roomId:o}=SD(),{toast:i}=Ss(),[a,l]=g.useState(!0),[c,d]=g.useState(!1),[f,h]=g.useState(0),[p,v]=g.useState(0),m=new URLSearchParams(s.search).get("local")==="true",b=g.useCallback((x,E,A)=>{const k=Date.now();k-p>5e3&&(v(k),i({title:x,description:E,variant:A}))},[i,p]),S=g.useCallback(async()=>{if(m)return l(!1),d(!0),!0;if(o&&(!t||t.id!==o)){console.log("Room ID mismatch or no current room, refreshing...");try{await n()}catch(x){return console.error("Error refreshing room:",x),b("Erreur de synchronisation","Impossible de synchroniser avec la partie.","destructive"),r("/lobby"),!1}}if(c&&t&&e&&(!o||t.id===o))return l(!1),!0;l(!0);try{return!t||!e?(console.log("No active room or player, redirecting to lobby"),c||b("Session expirée","Aucune partie active.","destructive"),r("/lobby"),!1):o&&t.id!==o?(console.log("Room ID mismatch:",{urlRoomId:o,currentRoomId:t.id}),b("Partie incorrecte","Vous n'êtes pas dans la bonne partie.","destructive"),r("/lobby"),!1):t.players?t.players.some(E=>{const A=e.walletAddress&&E.id===e.walletAddress,k=E.id===e.id,B=E.name===e.name&&e.name.trim()!=="";return A||k||B})?t.status==="playing"||t.status==="waiting"?(console.log("Game session valid, status:",t.status,"Room ID:",t.id,"Game mode:",t.gameMode),l(!1),d(!0),h(0),!0):(console.log("Game status not valid for access:",t.status),b("Partie non accessible","Cette partie n'est pas accessible.","destructive"),r("/lobby"),!1):(console.log("Player not found in room. Player details:",{name:e.name,id:e.id,walletAddress:e.walletAddress}),console.log("Room players:",t.players.map(E=>({id:E.id,name:E.name}))),b("Session expirée","Vous n'êtes plus dans cette partie.","destructive"),r("/lobby"),!1):(console.error("Room has no players array"),b("Erreur de données","Données de la salle incomplètes.","destructive"),r("/lobby"),!1)}catch(x){if(console.error("Error checking game session:",x),f<2){console.log(`Network error, retry ${f+1}/2`),h(A=>A+1);const E=2e3*Math.pow(2,f);return setTimeout(()=>{S()},E),!1}return b("Erreur de connexion","Impossible de rejoindre la partie.","destructive"),r("/lobby"),!1}},[t,e,r,m,c,n,f,b,o]);return g.useEffect(()=>{!m&&!c&&t&&(console.log("Game.tsx: Forcing room refresh on game entry"),n())},[m,c,t==null?void 0:t.id,n]),g.useEffect(()=>{c||S()},[S,c]),a&&!m?u.jsx("div",{className:"w-screen h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("p",{className:"text-lg font-medium",children:"Connexion à la partie..."}),f>0&&u.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Tentative ",f,"/2"]}),o&&u.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Room: ",o]})]})}):u.jsx("div",{className:"w-screen h-screen overflow-hidden",children:u.jsx(VK,{roomId:o})})}const HK=()=>{const t=yd();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},qK=new VP,GK=()=>u.jsx(qP,{client:qK,children:u.jsx(nV,{children:u.jsxs(xP,{children:[u.jsx(v5,{}),u.jsx(G5,{}),u.jsx(zD,{children:u.jsx(zW,{children:u.jsxs(PD,{children:[u.jsx(Za,{path:"/",element:u.jsx(lH,{})}),u.jsx(Za,{path:"/lobby",element:u.jsx(nG,{})}),u.jsx(Za,{path:"/game/:roomId",element:u.jsx(A_,{})}),u.jsx(Za,{path:"/game",element:u.jsx(A_,{})}),u.jsx(Za,{path:"*",element:u.jsx(HK,{})})]})})})]})})});KN(document.getElementById("root")).render(u.jsx(GK,{}));export{Le as P,tr as S,Gr as T,Ti as V,Vt as a,io as b,No as g};
